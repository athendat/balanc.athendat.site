"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[1888],{10959:(pt,O,r)=>{r.d(O,{I:()=>D});const D=(0,r(84221).P1)(x=>x.rates,x=>x.rates)},66330:(pt,O,r)=>{r.d(O,{m:()=>Y});var P=r(19212),t=r(48180),D=r(94664),x=r(99397),m=r(37398),b=r(50967),A=r(84221),h=r(97214),N=r(65413),I=r(10959);const q=b.Ps`
    mutation CreateRate($createRateInput: CreateRateInput!) {
        createRate(createRateInput: $createRateInput) {

            ok
            message

            rate {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }

        }
    }
`,G=b.Ps`
    mutation UpdateRate($updateRateInput: UpdateRateInput!) {
        updateRate(updateRateInput: $updateRateInput) {
            ok
            message

            rate {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }
        }
    }
`,L=b.Ps`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateRateStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }

    }
`,R=b.Ps`
    mutation RemoveRate($removeRateId: String!) {
        removeRate(id: $removeRateId) {
            ok
            message
        }
    }
`,F=b.Ps`
    query FindAllRates($page: Int, $size: Int, $sort: String, $order: Order, $search: String) {
        findAllRates(page: $page, size: $size, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            }

            rates {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }
        }
    }
`,w=b.Ps`
    query FindActiveByBaseId($currencyBaseId: String!) {
        findActiveByBaseId(currencyBaseId: $currencyBaseId) {
            id
            active
            date
            name
            value
            currencyRefId

            currencyRef {
                id
                iso
            }

            currencyBaseId

            currencyBase {
                id
                iso
            }
        }
    }
`,S=b.Ps`
    query FindRateById($findRateByIdId: String!) {
        findRateById(id: $findRateByIdId) {
            ok
            message

            rate {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }
        }
    }
`;let Y=(()=>{class f{constructor(){this.apolloProvider=(0,P.f3M)(b._M),this.store=(0,P.f3M)(A.yh),this._apollo=this.apolloProvider.use("BALANC")}createRate(C){return this.store.select(I.I).pipe((0,t.q)(1),(0,D.w)(u=>this._apollo.mutate({mutation:q,variables:{createRateInput:C},errorPolicy:"all"}).pipe((0,x.b)(({data:y})=>{const Z=structuredClone(u);Z.push(y.createRate.rate),this.store.dispatch((0,N.jM)({rates:Z}))}))))}getRates(C=0,u=10,y="name",Z="asc",M=""){return this._apollo.query({query:F,errorPolicy:"all",variables:{page:C,size:u,sort:y,order:Z,search:M}}).pipe((0,x.b)(({data:U})=>{this.store.dispatch((0,h.Jr)({pagination:U.findAllRates.pagination})),this.store.dispatch((0,N.jM)({rates:U.findAllRates.rates}))}))}findActiveByBaseId(C){return this._apollo.query({query:w,variables:{currencyBaseId:C},errorPolicy:"all"}).pipe((0,m.U)(({data:u})=>u?u.findActiveByBaseId:[]),(0,x.b)(u=>{u&&this.store.dispatch((0,N.jM)({rates:u}))}))}getRateById(C){return this._apollo.query({query:S,variables:{findRateByIdId:C},errorPolicy:"all"}).pipe((0,x.b)(({data:u})=>{this.store.dispatch((0,N.FY)({rate:u.findRateById.rate}))}))}updateRate(C){return this.store.select(I.I).pipe((0,t.q)(1),(0,D.w)(u=>this._apollo.mutate({mutation:G,variables:{updateRateInput:C},errorPolicy:"all"}).pipe((0,x.b)(({data:y})=>{const Z=structuredClone(u);Z[u.findIndex(U=>U.id===C.id)]=y.updateRate.rate,this.store.dispatch((0,N.jM)({rates:Z}))}))))}updateRateStatus(C){return this.store.select(I.I).pipe((0,t.q)(1),(0,D.w)(u=>this._apollo.mutate({mutation:L,variables:{updateEntityStatusInput:C},errorPolicy:"all"}).pipe((0,x.b)(({})=>{const Z=structuredClone(u);Z[u.findIndex(U=>U.id===C.id)].active=C.active,this.store.dispatch((0,N.jM)({rates:Z}))}))))}removeRate(C){return this.store.select(I.I).pipe((0,t.q)(1),(0,D.w)(u=>this._apollo.mutate({mutation:R,variables:{removeRateId:C},errorPolicy:"all"}).pipe((0,x.b)(({data:y})=>{if(y){const Z=structuredClone(u),M=u.findIndex(U=>U.id===C);Z.splice(M,1),this.store.dispatch((0,N.jM)({rates:Z}))}}))))}static#t=this.\u0275fac=function(u){return new(u||f)};static#e=this.\u0275prov=P.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},71888:(pt,O,r)=>{r.r(O),r.d(O,{default:()=>Mi});var P=r(64190),t=r(19212);let D=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-settings"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(o,n){1&o&&t._UZ(0,"router-outlet")},dependencies:[P.Bz,P.lC],encapsulation:2})}return i})();var x=r(96814),m=r(56223),b=r(32296),A=r(17700),h=r(64170),N=r(30617),I=r(24516),q=r(21476),G=r(55940),L=r(82599),R=r(22939),F=r(13566),w=r(78645),S=r(22096),Y=r(63019),f=r(59773),j=r(83620),C=r(27921),u=r(94664),y=r(37398),Z=r(84221),M=r(10959),U=r(83604),Q=r(56278),et=r(55497),it=r(21510),k=r(42090),ot=r(66330),K=r(98525),H=r(38034),V=r(23680);function ut(i,s){1&i&&(t.TgZ(0,"h2",7),t._uU(1," Agregar tasa de cambio "),t.qZA())}function gt(i,s){1&i&&(t.TgZ(0,"h2",7),t._uU(1," Editar tasa de cambio "),t.qZA())}function ht(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),t._uU(6,"Nombre"),t.qZA(),t.TgZ(7,"span",14),t._uU(8),t.qZA()()()()()()),2&i){const e=t.oxw();t.xp6(8),t.Oqu(e.data.rate.name||"Sin nombre")}}function ft(i,s){if(1&i&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(),t.hij(" ",e.iso," ")}}function nt(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," La moneda de referencia es obligatoria "),t.qZA())}function _t(i,s){if(1&i&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(),t.hij(" ",e.iso," ")}}function vt(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," La moneda base es obligatoria "),t.qZA())}function xt(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre de la tasa es obligatorio "),t.qZA())}function Ct(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," La fecha de la tasa es obligatoria "),t.qZA())}function bt(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El valor de la tasa es obligatorio "),t.qZA())}function Zt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),t._uU(5,"Moneda de referencia"),t.qZA(),t.TgZ(6,"mat-select",19),t.NdJ("selectionChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currencyRefChange(n.value))}),t.SjG(7,ft,2,2,"mat-option",25,t.x6l),t.qZA(),t.YNc(9,nt,2,0,"mat-error"),t.TgZ(10,"mat-hint"),t._uU(11,"La moneda de referencia es la primera en el par."),t.qZA()(),t.TgZ(12,"mat-form-field",18)(13,"mat-label"),t._uU(14,"Moneda base"),t.qZA(),t.TgZ(15,"mat-select",19),t.NdJ("selectionChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.currencyBaseChange(n.value))}),t.SjG(16,_t,2,2,"mat-option",25,t.x6l),t.qZA(),t.YNc(18,vt,2,0,"mat-error"),t.TgZ(19,"mat-hint"),t._uU(20,"La moneda base es la segunda en el par."),t.qZA()(),t.TgZ(21,"mat-form-field",18)(22,"mat-label"),t._uU(23,"Nombre"),t.qZA(),t._UZ(24,"input",20),t.TgZ(25,"mat-hint"),t._uU(26,"Ejemplo: USD/CUP"),t.qZA(),t.YNc(27,xt,2,0,"mat-error"),t.qZA(),t.TgZ(28,"mat-form-field",18)(29,"mat-label"),t._uU(30,"Fecha de la tasa"),t.qZA(),t._UZ(31,"input",21),t.TgZ(32,"mat-hint"),t._uU(33,"DD/MM/YYYY"),t.qZA(),t._UZ(34,"mat-datepicker-toggle",22)(35,"mat-datepicker",null,23),t.YNc(37,Ct,2,0,"mat-error"),t.qZA(),t.TgZ(38,"mat-form-field",18)(39,"mat-label"),t._uU(40,"Valor"),t.qZA(),t._UZ(41,"input",24),t.YNc(42,bt,2,0,"mat-error"),t.qZA()()()()}if(2&i){const e=t.MAs(36),o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.rateForm)("autocomplete","off"),t.xp6(4),t.Q6J("formControlName","currencyRefId")("required",!0),t.xp6(),t.wJu(o.currencies),t.xp6(2),t.um2(9,o.rateForm.get("currencyRefId").hasError("required")?9:-1),t.xp6(6),t.Q6J("formControlName","currencyBaseId")("required",!0),t.xp6(),t.wJu(o.currencies),t.xp6(2),t.um2(18,o.rateForm.get("currencyBaseId").hasError("required")?18:-1),t.xp6(6),t.Q6J("formControlName","name")("placeholder","Ejemplo: USD/CUP"),t.xp6(3),t.um2(27,o.rateForm.get("name").hasError("required")?27:-1),t.xp6(4),t.Q6J("matDatepicker",e)("formControlName","date")("max",o.maxDate)("required",!0),t.xp6(3),t.Q6J("for",e),t.xp6(3),t.um2(37,o.rateForm.get("date").hasError("required")?37:-1),t.xp6(4),t.Q6J("formControlName","value")("placeholder","1.000000"),t.xp6(),t.um2(42,o.rateForm.get("value").hasError("required")?42:-1)}}function Nt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.updateRate())}),t._uU(1," Actualizar "),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.rateForm.invalid)}}function yt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.createRate())}),t._uU(1," Agregar "),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.rateForm.invalid)}}function Tt(i,s){if(1&i&&(t.TgZ(0,"div",26)(1,"button",27),t._uU(2," Cancelar "),t.qZA(),t.YNc(3,Nt,2,2,"button",28)(4,yt,2,2,"button",28),t.qZA()),2&i){const e=t.oxw();t.xp6(),t.Q6J("matDialogClose","cancelled"),t.xp6(2),t.um2(3,"edit"===e.data.dialogMode?3:-1),t.xp6(),t.um2(4,"add"===e.data.dialogMode?4:-1)}}let At=(()=>{class i{constructor(e){this.data=e,this.currencies=[],this.maxDate=new Date,this.dialogMode="view",this._unsubscribeAll=new w.x,this._ratesService=(0,t.f3M)(ot.m),this._changeDetectorRef=(0,t.f3M)(t.sBO),this._formBuilder=(0,t.f3M)(m.qu),this._fuseConfirmationService=(0,t.f3M)(Q.R),this._dialogRef=(0,t.f3M)(A.so),this._snackBar=(0,t.f3M)(R.ux),this.store=(0,t.f3M)(Z.yh),this.dialogMode=e.dialogMode,this.rate=e.rate}ngOnInit(){this.rateForm=this._formBuilder.group({id:new m.NI(null),name:new m.NI({value:null,disabled:!0},[m.kI.maxLength(32)]),date:new m.NI(new Date),value:new m.NI(1,[m.kI.min(0)]),currencyRefId:new m.NI(null,[m.kI.maxLength(100)]),currencyBaseId:new m.NI(null,[m.kI.maxLength(100)])}),"edit"===this.dialogMode&&this.rateForm.patchValue(this.rate),this.store.select(it.zd).pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.currencies=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}currencyRefChange(e){const o=this.currencies.find(_=>_.id===e),n=this.currencies.find(_=>_.id===this.rateForm.get("currencyBaseId").value),a=n?n.iso:"",c=`${o.iso}/${a}`;this.rateForm.get("name").setValue(c),o.iso===a?(this.rateForm.get("value").setValue(1),this.rateForm.get("value").disable()):this.rateForm.get("value").enable()}currencyBaseChange(e){const o=this.currencies.find(_=>_.id===e),n=this.currencies.find(_=>_.id===this.rateForm.get("currencyRefId").value),a=n?n.iso:"",c=`${a}/${o.iso}`;this.rateForm.get("name").setValue(c),o.iso===a?(this.rateForm.get("value").setValue(1),this.rateForm.get("value").disable()):this.rateForm.get("value").enable()}closeDialog(){this._dialogRef.close()}createRate(){let e=this.rateForm.getRawValue();e=(0,et.Z)(e,["id"]),this._fuseConfirmationService.open({title:"Crear tasa de cambio",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._ratesService.createRate(e).pipe((0,f.R)(this._unsubscribeAll)).subscribe(({data:a})=>{a&&(this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.createRate.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})})}updateRate(){const e=this.rateForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar tasa de cambio",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._ratesService.updateRate(e).pipe((0,f.R)(this._unsubscribeAll)).subscribe(({data:a})=>{a&&(this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateRate.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._dialogRef.close())}),this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(A.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["settings-rate-dialog"]],standalone:!0,features:[t.jDz],decls:8,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","px-1","pt-4","mt-4","border-t"],[1,"grid","w-full","grid-cols-1","gap-5","mt-3","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full","fuse-mat-dense"],[3,"formControlName","required","selectionChange"],["matInput","","type","text","required","","maxlength","50",3,"formControlName","placeholder"],["matInput","",3,"matDatepicker","formControlName","max","required"],["matIconSuffix","",3,"for"],["offerDate",""],["matInput","","type","number","required","","min","0",3,"formControlName","placeholder"],[3,"value"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled"],["mat-flat-button","",3,"color","disabled","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ut,2,0,"h2",2)(3,gt,2,0,"h2",2),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,ht,9,1,"div",4)(6,Zt,43,20,"div",5),t.qZA(),t.YNc(7,Tt,5,3,"div",6),t.qZA()),2&o&&(t.xp6(2),t.um2(2,"add"===n.data.dialogMode?2:-1),t.xp6(),t.um2(3,"edit"===n.data.dialogMode?3:-1),t.xp6(2),t.um2(5,"view"===n.data.dialogMode?5:-1),t.xp6(),t.um2(6,6),t.xp6(),t.um2(7,"view"!==n.data.dialogMode?7:-1))},dependencies:[A.Is,A.ZT,h.lN,h.KE,h.hX,h.bx,h.TO,h.R9,I.c,I.Nt,K.LD,K.gD,V.ey,b.ot,b.lW,m.UX,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.Q7,m.nD,m.qQ,m.sg,m.u,H.FA,H.Mq,H.hl,H.nW],encapsulation:2})}return i})();class It{}const Mt=(i,s)=>s.id;function Pt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-slide-toggle",35),t.NdJ("change",function(n){t.CHM(e);const a=t.oxw(),c=a.$implicit,_=a.$index,B=t.oxw(2);return t.KtG(B.updateRateStatus(n,c,_))}),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("checked",e.active)("color","primary")}}function Ut(i,s){1&i&&t._UZ(0,"mat-spinner",31),2&i&&t.Q6J("diameter",20)("color","primary")}function at(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._uU(4),t.qZA(),t.TgZ(5,"div",23),t._uU(6),t.qZA(),t.TgZ(7,"div",29),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"div",29),t.YNc(11,Pt,1,2,"mat-slide-toggle",30)(12,Ut,1,2,"mat-spinner",31),t.qZA(),t.TgZ(13,"div",32)(14,"button",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openDialog(a,"edit"))}),t._UZ(15,"mat-icon",34),t.qZA(),t.TgZ(16,"button",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.deleteRate(a))}),t._UZ(17,"mat-icon",34),t.qZA()()()}if(2&i){const e=s.$implicit,o=s.$index,n=t.oxw(2);t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.currencyRef.iso," "),t.xp6(2),t.hij(" ",e.currencyBase.iso," "),t.xp6(2),t.hij(" ",t.xi3(9,8,e.value,"1.4-4")," "),t.xp6(3),t.um2(11,n.isSlideLoading&&n.selectedSlide===o?-1:11),t.xp6(),t.um2(12,n.isSlideLoading&&n.selectedSlide===o?12:-1),t.xp6(3),t.Q6J("svgIcon","mat_solid:edit"),t.xp6(2),t.Q6J("svgIcon","mat_solid:delete")}}const Ft=i=>({"pointer-events-none":i}),wt=()=>[10,25,50,100];function st(i,s){if(1&i&&(t.TgZ(0,"div",20)(1,"div",21)(2,"div",22),t._uU(3," Nombre "),t.qZA(),t.TgZ(4,"div",23),t._uU(5," Referencia "),t.qZA(),t.TgZ(6,"div",23),t._uU(7," Base "),t.qZA(),t.TgZ(8,"div",24),t._uU(9," Valor "),t.qZA(),t.TgZ(10,"div",24),t._uU(11," Activo "),t.qZA(),t.TgZ(12,"div",25),t._uU(13," Acciones "),t.qZA()(),t.SjG(14,at,18,11,"div",36,Mt),t._UZ(16,"mat-paginator",26),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("mat-sort-header","name"),t.xp6(6),t.Q6J("mat-sort-header","value"),t.xp6(2),t.Q6J("mat-sort-header","active"),t.xp6(4),t.wJu(e.rates),t.xp6(2),t.Q6J("ngClass",t.VKq(9,Ft,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.DdM(11,wt))("showFirstLastButtons",!0)}}function kt(i,s){1&i&&(t.TgZ(0,"div",37),t._uU(1," \xa1No hay tasas de cambio creadas para el negocio!"),t.qZA())}let Rt=(()=>{class i{constructor(){this.rate=new It,this.rates=[],this.isLoading=!1,this.isSlideLoading=!1,this.searchInputControl=new m.NI,this.selectedSlide=null,this._unsubscribeAll=new w.x,this._ratesService=(0,t.f3M)(ot.m),this._changeDetectorRef=(0,t.f3M)(t.sBO),this._dialog=(0,t.f3M)(A.uw),this._fuseConfirmationService=(0,t.f3M)(Q.R),this._snackBar=(0,t.f3M)(R.ux),this.store=(0,t.f3M)(Z.yh)}ngOnInit(){this.store.select(M.I).pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.rates=e,this._changeDetectorRef.markForCheck()}),this.store.select(U.B).pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,f.R)(this._unsubscribeAll),(0,j.b)(300),(0,C.O)(null),(0,u.w)(e=>null!==e?(this.isLoading=!0,this._ratesService.getRates(0,10,"name","asc",e)):(0,S.of)()),(0,y.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,f.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Y.T)(this._sort.sortChange,this._paginator.page).pipe((0,u.w)(()=>(this.isLoading=!0,this._ratesService.getRates(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,y.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteRate(e){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la tasa de cambio: ${e.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,f.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._ratesService.removeRate(e.id).pipe((0,f.R)(this._unsubscribeAll)).subscribe(({data:a})=>{a&&this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.removeRate.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateRateStatus(e,o,n){this.isSlideLoading=!0,this.selectedSlide=n,this._ratesService.updateRateStatus({id:o.id,active:e.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateRateStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(e,o){return o.id||e}openDialog(e,o){this._dialog.open(At,{data:{rate:e,dialogMode:o},panelClass:"ath-dialog-panel",disableClose:!0})}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["settings-rates"]],viewQuery:function(o,n){if(1&o&&(t.Gf(q.NW,5),t.Gf(F.YE,5)),2&o){let a;t.iGM(a=t.CRH())&&(n._paginator=a.first),t.iGM(a=t.CRH())&&(n._sort=a.first)}},standalone:!0,features:[t.jDz],decls:30,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid overflow-auto"],[1,"grid","overflow-auto"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","rates-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"text-center"],[1,"flex","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","rates-grid","md:px-8"],[1,"text-left"],[1,"flex","justify-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b rates-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t._uU(6,"Inicio"),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"mat-icon",6),t.TgZ(9,"a",7),t._uU(10,"Ajustes"),t.qZA()(),t.TgZ(11,"div",5),t._UZ(12,"mat-icon",6),t.TgZ(13,"a",7),t._uU(14,"Tasas"),t.qZA()()(),t.TgZ(15,"div",8)(16,"h2",9),t._uU(17," Tasas de cambio "),t.qZA()()(),t.TgZ(18,"div",10)(19,"mat-form-field",11),t._UZ(20,"mat-icon",12)(21,"input",13),t.qZA(),t.TgZ(22,"button",14),t.NdJ("click",function(){return n.openDialog(n.rate,"add")}),t._UZ(23,"mat-icon",15),t.TgZ(24,"span",16),t._uU(25,"Agregar"),t.qZA()()()(),t.TgZ(26,"div",17)(27,"div",18),t.YNc(28,st,17,12,"div",19)(29,kt,2,0),t.qZA()()()),2&o&&(t.xp6(8),t.Q6J("svgIcon","mat_solid:chevron_right"),t.xp6(4),t.Q6J("svgIcon","mat_solid:chevron_right"),t.xp6(7),t.Q6J("subscriptSizing","dynamic"),t.xp6(),t.Q6J("svgIcon","mat_solid:search"),t.xp6(),t.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para filtrar..."),t.xp6(2),t.Q6J("svgIcon","mat_solid:add"),t.xp6(5),t.um2(28,n.rates.length>0?28:29))},dependencies:[x.JJ,b.ot,b.lW,h.lN,h.KE,h.qo,N.Ps,N.Hw,I.c,I.Nt,q.TU,q.NW,G.Cq,G.Ou,L.rP,L.Rr,F.JX,F.YE,F.nU,x.mk,m.UX,m.Fj,m.JJ,m.oH,P.rH],encapsulation:2,changeDetection:0})}return i})();var Dt=r(41894),E=r(98445),qt=r(78337),St=r(79385),rt=r(94748),tt=r(24630),lt=r(36028),ct=r(9236),Et=r(8338);const mt=(0,Z.P1)(i=>i.mPermissions,i=>i.permissions);var l=r(65619),d=r(48180),p=r(20553),v=r(69862);const g=p.N.API_URL;let T=(()=>{class i{constructor(e,o){this.store=e,this._httpClient=o,this.dataChange=new l.X([])}get data$(){return this.dataChange.asObservable()}getRootNavigationNodes(){return this._httpClient.get(`${g}/navigation/tree`).pipe((0,y.U)(e=>(this.dataChange.next(e.dataArr),e)))}createNavigation(e){return this.data$.pipe((0,d.q)(1),(0,u.w)(o=>this._httpClient.post(`${g}/navigation`,e).pipe((0,y.U)(n=>{if(n.data.parentId){for(const a of o)if(this.addChildren(a,n.data))break}else{for(let c=n.data.position;c<o.length;c++)o[c].item.position++;o.push({item:n.data,children:[]}),o.sort((c,_)=>c.item.position-_.item.position)}return this.dataChange.next(o),n}))))}updateNavigation(e){return this.data$.pipe((0,d.q)(1),(0,u.w)(o=>this._httpClient.patch(`${g}/navigation/${e.id}`,e).pipe((0,y.U)(n=>(this.updateChildren(o,n.data),this.dataChange.next(o),n)))))}removeNavigation(e){return this.data$.pipe((0,d.q)(1),(0,u.w)(o=>this._httpClient.delete(`${g}/navigation/${e}`).pipe((0,y.U)(n=>{let a=!1;for(const c of o)if(this.removeChildrenNode(c,e)){a=!0;break}if(!a)for(let c=0;c<o.length;c++)o[c].item.id===e&&o.splice(c,1);return this.dataChange.next(o),n}))))}addChildren(e,o){if(e.item.id===o.parentId){const n={item:o,children:[]};for(let a=o.position;a<e.children.length;a++)e.children[a].item.position++;return e.children.push(n),e.children.sort((a,c)=>a.item.position-c.item.position),!0}for(const n of e.children)if(this.addChildren(n,o))return!0;return!1}addChildrenNode(e,o){if(e.item.id===o.item.parentId){for(let n=o.item.position;n<e.children.length;n++)e.children[n].item.position++;return e.children.push(o),e.children.sort((n,a)=>n.item.position-a.item.position),!0}for(const n of e.children)if(this.addChildrenNode(n,o))return!0;return!1}updateChildren(e,o){let n=null;for(const c of e)if(n=this.removeChildrenNode(c,o.id),n){n.item=o;break}let a=!1;if(n)for(const c of e)if(this.addChildrenNode(c,n)){a=!0;break}if(!a){for(let c=0;c<e.length;c++)e[c].item.id===o.id&&(n=e[c],n.item=o,e.splice(c,1));if(n)for(const c of e)if(this.addChildrenNode(c,n)){a=!0;break}if(!a){for(let c=o.position;c<e.length;c++)e[c].item.position++;e.push(n),e.sort((c,_)=>c.item.position-_.item.position)}}}removeChildrenNode(e,o){for(let n=0;n<e.children.length;n++){const a=e.children[n];if(a.item.id===o){const _=e.children[n];e.children.splice(n,1);for(let B=0;B<e.children.length;B++)e.children[B].item.position=B;return _}const c=this.removeChildrenNode(a,o);if(c)return c}return null}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(Z.yh),t.LFG(v.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var $=r(75986),J=r(22557);function zt(i,s){if(1&i&&(t.TgZ(0,"h2",6),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(),t.hij("Agregar este elemento a ",e.parentNavigation.title,"")}}function Gt(i,s){1&i&&(t.TgZ(0,"h2",6),t._uU(1,"Agregar elemento"),t.qZA())}function Yt(i,s){1&i&&(t.TgZ(0,"h2",6),t._uU(1,"Editar elemento"),t.qZA())}const jt=i=>({"text-center":i});function Kt(i,s){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("ngClass",t.VKq(3,jt,"root"===e.id))("value",e.id),t.xp6(),t.hij(" ",e.title," ")}}function Ht(i,s){1&i&&(t.TgZ(0,"mat-option",18),t._uU(1," Aside "),t.qZA()),2&i&&t.Q6J("value","aside")}function Vt(i,s){1&i&&(t.TgZ(0,"mat-option",18),t._uU(1," Group "),t.qZA()),2&i&&t.Q6J("value","group")}function Wt(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Debe seleccionar el tipo de elemento de navegaci\xf3n. "),t.qZA())}function Xt(i,s){if(1&i&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(),t.hij(" ",e+1," ")}}function te(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Debe seleccionar el orden del elemento de navegaci\xf3n. "),t.qZA())}function ee(i,s){if(1&i&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Orden"),t.qZA(),t.TgZ(3,"mat-select",25),t.SjG(4,Xt,2,2,"mat-option",18,t.x6l),t.qZA(),t.YNc(6,te,2,0,"mat-error"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","position")("placeholder","Orden"),t.xp6(),t.wJu(e.positions),t.xp6(2),t.um2(6,e.navigationForm.get("position").hasError("required")?6:-1)}}function ie(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El t\xedtulo del elemento de navegaci\xf3n es obligatorio. "),t.qZA())}function oe(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El t\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.qZA())}function ne(i,s){if(1&i&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"T\xedtulo"),t.qZA(),t._UZ(3,"input",26),t.YNc(4,ie,2,0,"mat-error")(5,oe,2,0,"mat-error"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","title")("type","text")("placeholder","T\xedtulo")("minLength",3)("maxLength",255),t.xp6(),t.um2(4,e.navigationForm.get("title").hasError("required")?4:-1),t.xp6(),t.um2(5,e.navigationForm.get("title").hasError("maxLength")||e.navigationForm.get("title").hasError("minLength")?5:-1)}}function ae(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El subt\xedtulo no debe superar los 255 caracteres. "),t.qZA())}function se(i,s){if(1&i&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"SubT\xedtulo"),t.qZA(),t._UZ(3,"input",27),t.YNc(4,ae,2,0,"mat-error"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","subtitle")("placeholder","SubT\xedtulo")("maxLength",255),t.xp6(),t.um2(4,e.navigationForm.get("title").hasError("maxLength")?4:-1)}}function re(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Tooltip no debe superar los 255 caracteres. "),t.qZA())}function le(i,s){if(1&i&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Tooltip"),t.qZA(),t._UZ(3,"input",28),t.YNc(4,re,2,0,"mat-error"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","tooltip")("placeholder","Tooltip")("maxLength",255),t.xp6(),t.um2(4,e.navigationForm.get("tooltip").hasError("maxLength")?4:-1)}}function ce(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El \xcdcono no debe superar los 255 caracteres. "),t.qZA())}function me(i,s){if(1&i&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"\xcdcono"),t.qZA(),t._UZ(3,"input",27),t.YNc(4,ce,2,0,"mat-error"),t.TgZ(5,"mat-hint"),t._uU(6,"Ejemplo: heroicons_solid:information-circle"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","icon")("placeholder","SVG \xcdcono")("maxLength",1e3),t.xp6(),t.um2(4,e.navigationForm.get("icon").hasError("maxLength")?4:-1)}}function de(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El enlace no debe superar los 1000 caracteres. "),t.qZA())}function pe(i,s){if(1&i&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Enlace"),t.qZA(),t._UZ(3,"input",27),t.YNc(4,de,2,0,"mat-error"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","link")("placeholder","Enlace - ruta")("maxLength",1e3),t.xp6(),t.um2(4,e.navigationForm.get("link").hasError("maxLength")?4:-1)}}function ue(i,s){1&i&&(t.TgZ(0,"mat-form-field",35)(1,"mat-select",36)(2,"mat-option",18),t._uU(3," Blank "),t.qZA(),t.TgZ(4,"mat-option",18),t._uU(5," Self "),t.qZA(),t.TgZ(6,"mat-option",18),t._uU(7," Parent "),t.qZA(),t.TgZ(8,"mat-option",18),t._uU(9," Top "),t.qZA()()()),2&i&&(t.xp6(),t.Q6J("formControlName","target")("placeholder","Target"),t.xp6(),t.Q6J("value","_blank"),t.xp6(2),t.Q6J("value","_self"),t.xp6(2),t.Q6J("value","_parent"),t.xp6(2),t.Q6J("value","_top"))}function ge(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2),t.qZA(),t.TgZ(3,"div",31),t._UZ(4,"mat-checkbox",32,33),t.YNc(6,ue,10,6,"mat-form-field",34),t.qZA()()),2&i){const e=t.MAs(5);t.xp6(2),t.Oqu(e.checked?"Target":"Enlace externo?"),t.xp6(2),t.Q6J("color","primary")("formControlName","externalLink"),t.xp6(2),t.um2(6,e.checked?6:-1)}}function he(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Las clases del t\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.qZA())}function fe(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Las clases del subt\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.qZA())}function _e(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Las clases del \xedcono del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.qZA())}function ve(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Las clases del wrapper del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.qZA())}function xe(i,s){if(1&i&&(t.TgZ(0,"form",41)(1,"mat-form-field",15)(2,"mat-label"),t._uU(3,"T\xedtulo"),t.qZA(),t._UZ(4,"input",42),t.YNc(5,he,2,0,"mat-error"),t.qZA(),t.TgZ(6,"mat-form-field",15)(7,"mat-label"),t._uU(8,"SubT\xedtulo"),t.qZA(),t._UZ(9,"input",42),t.YNc(10,fe,2,0,"mat-error"),t.qZA(),t.TgZ(11,"mat-form-field",15)(12,"mat-label"),t._uU(13,"Icono"),t.qZA(),t._UZ(14,"input",42),t.YNc(15,_e,2,0,"mat-error"),t.qZA(),t.TgZ(16,"mat-form-field",15)(17,"mat-label"),t._uU(18,"Wrapper"),t.qZA(),t._UZ(19,"input",42),t.YNc(20,ve,2,0,"mat-error"),t.qZA()()),2&i){const e=t.oxw(3);t.Q6J("formGroupName","classes"),t.xp6(4),t.Q6J("formControlName","title")("type","text")("placeholder","T\xedtulo")("minLength",3)("maxLength",255),t.xp6(),t.um2(5,e.navigationForm.get("classes").get("title").hasError("maxLength")||e.navigationForm.get("classes").get("title").hasError("minLength")?5:-1),t.xp6(4),t.Q6J("formControlName","subtitle")("type","text")("placeholder","T\xedtulo")("minLength",3)("maxLength",255),t.xp6(),t.um2(10,e.navigationForm.get("classes").get("subtitle").hasError("maxLength")||e.navigationForm.get("classes").get("subtitle").hasError("minLength")?10:-1),t.xp6(4),t.Q6J("formControlName","icon")("type","text")("placeholder","Icono")("minLength",3)("maxLength",255),t.xp6(),t.um2(15,e.navigationForm.get("classes").get("icon").hasError("maxLength")||e.navigationForm.get("classes").get("icon").hasError("minLength")?15:-1),t.xp6(4),t.Q6J("formControlName","wrapper")("type","text")("placeholder","Wrapper")("minLength",3)("maxLength",255),t.xp6(),t.um2(20,e.navigationForm.get("classes").get("wrapper").hasError("maxLength")||e.navigationForm.get("classes").get("wrapper").hasError("minLength")?20:-1)}}function Ce(i,s){if(1&i&&(t.TgZ(0,"div",37)(1,"mat-checkbox",38,39)(3,"span",30),t._uU(4),t.qZA()(),t.YNc(5,xe,21,25,"form",40),t.qZA()),2&i){const e=t.MAs(2),o=t.oxw(2);t.xp6(),t.Q6J("color","primary")("checked",o.selectedNavigation&&o.selectedNavigation.classes&&(o.selectedNavigation.classes.title||o.selectedNavigation.classes.subtitle||o.selectedNavigation.classes.icon||o.selectedNavigation.classes.wrapper)),t.xp6(3),t.hij(" ",e.checked?"Clases":"Agregar clases css?",""),t.xp6(),t.um2(5,e.checked?5:-1)}}function be(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Las clases del t\xedtulo del elemento de navegaci\xf3n debe poseer entre 1 y 255 caracteres. "),t.qZA())}function Ze(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Las clases del subt\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.qZA())}function Ne(i,s){if(1&i&&(t.TgZ(0,"form",41)(1,"mat-form-field",15)(2,"mat-label"),t._uU(3,"T\xedtulo"),t.qZA(),t._UZ(4,"input",42),t.YNc(5,be,2,0,"mat-error"),t.qZA(),t.TgZ(6,"mat-form-field",15)(7,"mat-label"),t._uU(8,"Clases"),t.qZA(),t._UZ(9,"input",42),t.YNc(10,Ze,2,0,"mat-error"),t.qZA()()),2&i){const e=t.oxw(3);t.Q6J("formGroupName","badge"),t.xp6(4),t.Q6J("formControlName","title")("type","text")("placeholder","T\xedtulo")("minLength",1)("maxLength",255),t.xp6(),t.um2(5,e.navigationForm.get("badge").get("title").hasError("maxLength")||e.navigationForm.get("badge").get("title").hasError("minLength")?5:-1),t.xp6(4),t.Q6J("formControlName","classes")("type","text")("placeholder","Classes")("minLength",3)("maxLength",255),t.xp6(),t.um2(10,e.navigationForm.get("badge").get("classes").hasError("maxLength")||e.navigationForm.get("badge").get("classes").hasError("minLength")?10:-1)}}function ye(i,s){if(1&i&&(t.TgZ(0,"div",43)(1,"mat-checkbox",38,39)(3,"span",30),t._uU(4),t.qZA()(),t.YNc(5,Ne,11,13,"form",40),t.qZA()),2&i){const e=t.MAs(2),o=t.oxw(2);t.xp6(),t.Q6J("color","primary")("checked",o.selectedNavigation&&o.selectedNavigation.badge&&(o.selectedNavigation.badge.title||o.selectedNavigation.classes)),t.xp6(3),t.Oqu(e.checked?"Badge":"Agregar badge ?"),t.xp6(),t.um2(5,e.checked?5:-1)}}function Te(i,s){1&i&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2,"ExactMatch"),t.qZA(),t._UZ(3,"mat-slide-toggle",44),t.qZA()),2&i&&(t.xp6(3),t.Q6J("formControlName","exactMatch")("color","primary"))}function Ae(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"mat-slide-toggle",44),t._uU(4),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formControlName","active")("color","primary"),t.xp6(),t.hij(" ",!0===e.navigationForm.get("active").value?"Activo":"Inactivo"," ")}}function Ie(i,s){1&i&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2,"Deshabilitado"),t.qZA(),t._UZ(3,"mat-slide-toggle",44),t.qZA()),2&i&&(t.xp6(3),t.Q6J("formControlName","disabled")("color","primary"))}function Me(i,s){1&i&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2,"P\xfablico"),t.qZA(),t._UZ(3,"mat-slide-toggle",44),t.qZA()),2&i&&(t.xp6(3),t.Q6J("formControlName","public")("color","primary"))}function Pe(i,s){if(1&i&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(),t.hij(" ",e.name," ")}}function Ue(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",51),t.NdJ("removed",function(){const a=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.removePermission(a))}),t.TgZ(1,"div",52),t._uU(2),t.qZA(),t.TgZ(3,"button",53),t._UZ(4,"mat-icon",54),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("svgIcon","mat_solid:cancel")}}function Fe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",45)(1,"mat-label"),t._uU(2,"Permisos"),t.qZA(),t._UZ(3,"input",46),t.TgZ(4,"mat-autocomplete",47,48),t.NdJ("optionSelected",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.addMPermission(n.option.value))}),t.SjG(6,Pe,2,2,"mat-option",18,t.x6l),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"mat-chip-grid",49,50),t.SjG(11,Ue,5,2,"mat-chip",null,t.x6l),t.qZA()()}if(2&i){const e=t.MAs(5),o=t.MAs(10),n=t.oxw(2);t.xp6(3),t.Q6J("formControl",n.searchMPermissionControl)("matChipInputFor",o)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matAutocomplete",e),t.xp6(3),t.wJu(t.lcZ(8,4,n.filteredMPermissions)),t.xp6(5),t.wJu(n.selectedMPermissions)}}function we(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"form",9)(3,"div",10)(4,"mat-form-field",11)(5,"mat-label"),t._uU(6,"Padre"),t.qZA(),t._UZ(7,"input",12),t.TgZ(8,"mat-autocomplete",13,14),t.NdJ("optionSelected",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedNavigationOption(n))}),t.SjG(10,Kt,2,5,"mat-option",24,t.x6l),t.ALo(12,"async"),t.qZA()(),t.TgZ(13,"mat-form-field",15)(14,"mat-label"),t._uU(15,"Tipo"),t.qZA(),t.TgZ(16,"mat-select",16,17),t.NdJ("selectionChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.navigationTypeChange(n.value))}),t.YNc(18,Ht,2,1,"mat-option",18),t.TgZ(19,"mat-option",18),t._uU(20," Basic "),t.qZA(),t.TgZ(21,"mat-option",18),t._uU(22," Collapsable "),t.qZA(),t.TgZ(23,"mat-option",18),t._uU(24," Divider "),t.qZA(),t.YNc(25,Vt,2,1,"mat-option",18),t.TgZ(26,"mat-option",18),t._uU(27," Spacer "),t.qZA()(),t.YNc(28,Wt,2,0,"mat-error"),t.qZA(),t.YNc(29,ee,7,3,"mat-form-field",19)(30,ne,6,7,"mat-form-field",19)(31,se,5,4,"mat-form-field",19)(32,le,5,4,"mat-form-field",19)(33,me,7,4,"mat-form-field",19)(34,pe,5,4,"mat-form-field",19)(35,ge,7,4,"div",20)(36,Ce,6,4,"div",21)(37,ye,6,4,"div",22)(38,Te,4,2,"div",20)(39,Ae,5,3,"div",20)(40,Ie,4,2,"div",20)(41,Me,4,2,"div",20)(42,Fe,13,6,"mat-form-field",23),t.qZA()()()()}if(2&i){const e=t.MAs(9),o=t.MAs(17),n=t.oxw();t.xp6(2),t.Q6J("formGroup",n.navigationForm)("autocomplete","off"),t.xp6(5),t.Q6J("formControlName","parentId")("type","text")("matAutocomplete",e),t.xp6(),t.Q6J("displayWith",n.displayFn.bind(n)),t.xp6(2),t.wJu(t.lcZ(12,29,n.filteredNavigations)),t.xp6(6),t.Q6J("formControlName","type")("placeholder","Tipo"),t.xp6(2),t.um2(18,null===n.parentNavigation?18:-1),t.xp6(),t.Q6J("value","basic"),t.xp6(2),t.Q6J("value","collapsable"),t.xp6(2),t.Q6J("value","divider"),t.xp6(2),t.um2(25,null===n.parentNavigation?25:-1),t.xp6(),t.Q6J("value","spacer"),t.xp6(2),t.um2(28,n.navigationForm.get("type").hasError("required")?28:-1),t.xp6(),t.um2(29,n.positions.length>1?29:-1),t.xp6(),t.um2(30,"divider"!==o.value&&"spacer"!==o.value?30:-1),t.xp6(),t.um2(31,"divider"!==o.value&&"spacer"!==o.value?31:-1),t.xp6(),t.um2(32,"divider"!==o.value&&"spacer"!==o.value?32:-1),t.xp6(),t.um2(33,"divider"!==o.value&&"spacer"!==o.value?33:-1),t.xp6(),t.um2(34,"divider"!==o.value&&"spacer"!==o.value?34:-1),t.xp6(),t.um2(35,"divider"!==o.value&&"spacer"!==o.value?35:-1),t.xp6(),t.um2(36,"divider"!==o.value&&"spacer"!==o.value?36:-1),t.xp6(),t.um2(37,"divider"!==o.value&&"spacer"!==o.value?37:-1),t.xp6(),t.um2(38,"divider"!==o.value&&"spacer"!==o.value?38:-1),t.xp6(),t.um2(39,"divider"!==o.value&&"spacer"!==o.value?39:-1),t.xp6(),t.um2(40,"divider"!==o.value&&"spacer"!==o.value?40:-1),t.xp6(),t.um2(41,"basic"===o.value?41:-1),t.xp6(),t.um2(42,"basic"===n.navigationForm.get("type").value&&!0!==n.navigationForm.get("public").value?42:-1)}}const Lt=i=>({"cursor-not-allowed":i});function ke(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.updateNavigation())}),t._uU(1," Actualizar "),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.navigationForm.invalid)("ngClass",t.VKq(3,Lt,e.navigationForm.invalid))}}function Re(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.createNavigation())}),t._uU(1," Agregar "),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.navigationForm.invalid)("ngClass",t.VKq(3,Lt,e.navigationForm.invalid))}}function De(i,s){if(1&i&&(t.TgZ(0,"div",55),t.ynx(1),t.TgZ(2,"button",56),t._uU(3," Cancelar "),t.qZA(),t.BQk(),t.YNc(4,ke,2,5,"button",57)(5,Re,2,5,"button",57),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("matDialogClose","cancelled"),t.xp6(2),t.um2(4,"edit"===e.data.dialogMode?4:-1),t.xp6(),t.um2(5,"add"===e.data.dialogMode?5:-1)}}let qe=(()=>{class i{constructor(e){this.data=e,this.allNavigations=[],this.mPermissions=[],this.navigations=[],this.position=0,this.positions=[],this.searchMPermissionControl=new m.NI,this.selectedMPermissions=[],this.selectedNavigationType="",this.separatorKeysCodes=[lt.K5,lt.OC],this._athConfirmationService=(0,t.f3M)(Q.R),this._changeDetectorRef=(0,t.f3M)(t.sBO),this._dialogRef=(0,t.f3M)(A.so),this._formBuilder=(0,t.f3M)(m.QS),this._fuseMediaWatcherService=(0,t.f3M)(ct.T),this._navigationService=(0,t.f3M)(T),this._snackBar=(0,t.f3M)(R.ux),this._unsubscribeAll=new w.x,this.store=(0,t.f3M)(Z.yh),this.dialogMode=e.dialogMode,this.selectedNavigation=e.navigation,this.parentNavigation=e.parentNavigation}ngOnInit(){this.store.select(Et.YA).pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.allNavigations=[...e],this.filterNavigation(e),this.calcPositions(!1)}),this.store.select(mt).pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.mPermissions=e}),this.navigationForm=this._formBuilder.group({id:[null],position:[this.position,[m.kI.required]],title:["",[m.kI.required,m.kI.minLength(3),m.kI.maxLength(255)]],subtitle:[null,[m.kI.maxLength(255)]],type:["basic",[m.kI.required,m.kI.minLength(5),m.kI.maxLength(255)]],tooltip:[null,[m.kI.maxLength(255)]],link:[null,m.kI.maxLength(1e3)],externalLink:[!1],target:[null,[m.kI.minLength(4),m.kI.maxLength(255)]],level:[0,[m.kI.required]],icon:[null,[m.kI.maxLength(255)]],parentId:[null,[m.kI.required]],classes:this._formBuilder.group({title:["",[m.kI.minLength(3),m.kI.maxLength(255)]],subtitle:["",[m.kI.maxLength(255)]],icon:["",[m.kI.maxLength(255)]],wrapper:["",[m.kI.maxLength(255)]]}),badge:this._formBuilder.group({title:["",[m.kI.minLength(1),m.kI.maxLength(255)]],classes:["",m.kI.maxLength(1e3)]}),active:[!0],disabled:[!1],exactMatch:[!1],public:[!1]}),this.filteredNavigations=this.navigationForm.get("parentId").valueChanges.pipe((0,f.R)(this._unsubscribeAll),(0,j.b)(100),(0,C.O)(" "),(0,u.w)(e=>(0,S.of)(e?this.navigations.filter(o=>o.title.toLocaleLowerCase().includes(e.toLocaleLowerCase())):this.navigations))),this.filteredMPermissions=this.searchMPermissionControl.valueChanges.pipe((0,C.O)(""),(0,j.b)(400),(0,u.w)(e=>(0,S.of)(this.mPermissions.filter("string"==typeof e&&e?o=>o.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&!this.selectedMPermissions.some(n=>n.id===o.id):o=>!this.selectedMPermissions.some(n=>n.id===o.id))))),this._fuseMediaWatcherService.onMediaChange$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.isScreenSmall=!e.includes("md"),this._changeDetectorRef.detectChanges()}),this._fillNavigationData()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}selectedNavigationOption(e){const o=e.option.value;this.parentNavigation=this.navigations.find(n=>n.id===o),"root"===this.parentNavigation.id&&(this.parentNavigation=null),this.filterNavigation(this.allNavigations),this.calcPositions(!0),this.navigationForm.get("position").setValue(this.position),this._changeDetectorRef.markForCheck()}navigationTypeChange(e){"divider"===e||"spacer"===e?(this.navigationForm.reset(),this.navigationForm.get("title").setValue(e.toUpperCase()),this.navigationForm.get("type").setValue(e),this.navigationForm.get("position").setValue(this.position),this.navigationForm.get("active").setValue(!0),this.navigationForm.get("disabled").setValue(!1),this.navigationForm.get("level").setValue(this.parentNavigation?this.parentNavigation.level+1:0),this.parentNavigation?this.navigationForm.get("parentId").setValue(this.parentNavigation.id):this.navigationForm.get("parentId").setValue("root")):("divider"===this.selectedNavigationType||"spacer"===this.selectedNavigationType)&&(this.navigationForm.get("level").setValue(this.parentNavigation?this.parentNavigation.level+1:0),this._fillNavigationData()),this._changeDetectorRef.markForCheck(),this.selectedNavigationType=e}createNavigation(){const e=this.navigationForm.getRawValue();delete e.id,this.parentNavigation&&"root"!==this.parentNavigation.id?e.level=this.parentNavigation.level+1:e.parentId=null,e.permissionsId=e.public?[]:this.selectedMPermissions.map(n=>n.id),!e.classes.title&&!e.classes.subtitle&&!e.classes.icon&&!e.classes.wrapper&&delete e.classes,!e.badge.title&&!e.badge.classes&&delete e.badge,this._athConfirmationService.open({title:"Crear elemento navigational",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._navigationService.createNavigation(e).subscribe(a=>{this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog()})})}updateNavigation(){const e=this.navigationForm.getRawValue();this.parentNavigation&&"root"!==this.parentNavigation.id?e.level=this.parentNavigation.level+1:e.parentId=null,!e.classes.title&&!e.classes.subtitle&&!e.classes.icon&&!e.classes.wrapper&&(e.classes=null),!e.badge.title&&!e.badge.classes&&(e.badge=null),e.permissionsId=e.public?[]:this.selectedMPermissions.map(n=>n.id),this._athConfirmationService.open({title:"Actualizar elemento navigational",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._navigationService.updateNavigation(e).subscribe(a=>{this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog()})})}addMPermission(e){this.searchMPermissionControl.setValue(""),this.selectedMPermissions.push(e),this._changeDetectorRef.markForCheck()}removePermission(e){const o=this.selectedMPermissions.indexOf(e);o>=0&&this.selectedMPermissions.splice(o,1)}displayFn(e){const o=this.navigations.find(n=>n.id===e);return o?o.title:""}closeDialog(){this._dialogRef.close()}_fillNavigationData(){if("edit"===this.dialogMode){this.navigationForm.patchValue(this.selectedNavigation);for(const e of this.selectedNavigation.permissionsId){const o=this.mPermissions.find(n=>n.id===e);o&&this.selectedMPermissions.push(o)}this.selectedNavigationType=this.selectedNavigation.type,this.parentNavigation||this.navigationForm.get("parentId").setValue("root")}"add"===this.dialogMode&&(this.parentNavigation&&this.navigationForm.get("parentId").setValue(this.parentNavigation.id),this.parentNavigation||this.navigationForm.get("parentId").setValue("root"),this.selectedNavigationType=this.navigationForm.get("type").value)}filterNavigation(e){return this.selectedNavigation?"edit"===this.dialogMode&&(this.navigations=[...e.filter(o=>this.selectedNavigation.id!==o.id&&"basic"!==o.type&&"divider"!==o.type&&"spacer"!==o.type)]):this.navigations=[...e.filter(o=>"basic"!==o.type&&"divider"!==o.type&&"spacer"!==o.type)],this.navigations.push({level:-1,id:"root",type:"group",title:"----Principal----"}),this.navigations.sort((o,n)=>o.level-n.level)}calcPositions(e){if(this.positions=[],this.position=0,this.parentNavigation&&this.parentNavigation.children&&this.parentNavigation.children.length>0){for(let o=0;o<this.parentNavigation.children.length;o++)this.positions.push(o);"add"===this.dialogMode?(this.position=this.positions.length,this.positions.push(this.positions.length)):e&&this.positions.push(this.positions.length)}if(!this.parentNavigation){const o=this.allNavigations.filter(n=>null===n.parentId);for(let n=0;n<o.length;n++)this.positions.push(n);"add"===this.dialogMode?(this.position=this.positions.length,this.positions.push(this.positions.length)):e&&this.positions.push(this.positions.length)}}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(A.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["navigation-dialog"]],standalone:!0,features:[t.jDz],decls:10,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl ","mat-dialog-title",""],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],["mat-dialog-title","",1,"text-2xl"],[1,"w-full","overflow-hidden"],[1,"flex","border-t"],[1,"flex","flex-col","w-full","pt-8",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","md:grid-cols-3"],[1,"fuse-mat-no-subscript"],["matInput","","placeholder","Elemento padre","aria-label","Number",3,"formControlName","type","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[1,"w-full"],["required","",3,"formControlName","placeholder","selectionChange"],["typeOptions",""],[3,"value"],["class","w-full "],["class","flex flex-col"],["class","items-center mt-3 sm:col-span-2 md:col-span-3"],["class","items-center -mt-2 sm:col-span-2 md:col-span-3"],["class","w-full mt-2 sm:col-span-2 md:col-span-3","appearance","fill"],[3,"ngClass","value"],["required","",3,"formControlName","placeholder"],["matInput","","required","",3,"formControlName","type","placeholder","minLength","maxLength"],["matInput","",3,"formControlName","placeholder","maxLength"],["matInput","","require","",3,"formControlName","placeholder","maxLength"],[1,"flex","flex-col"],[1,"font-medium"],[1,"flex","flex-row"],[1,"mt-1","sm:mt-2",3,"color","formControlName"],["externalLink",""],["class","w-full mt-1"],[1,"w-full","mt-1"],[3,"formControlName","placeholder"],[1,"items-center","mt-3","sm:col-span-2","md:col-span-3"],[1,"mb-1",3,"color","checked"],["addClasses",""],["class","grid grid-cols-1 gap-2 py-4 mt-2 border-y gap-x-4 sm:grid-cols-2 md:grid-cols-3",3,"formGroupName"],[1,"grid","grid-cols-1","gap-2","py-4","mt-2","border-y","gap-x-4","sm:grid-cols-2","md:grid-cols-3",3,"formGroupName"],["matInput","",3,"formControlName","type","placeholder","minLength","maxLength"],[1,"items-center","-mt-2","sm:col-span-2","md:col-span-3"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],["appearance","fill",1,"w-full","mt-2","sm:col-span-2","md:col-span-3"],["placeholder","Agregar permiso...",1,"w-full",3,"formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["autoP","matAutocomplete"],["aria-label","Agregar permiso"],["permissionsChipGrid",""],[3,"removed"],[1,"truncate","max-w-16","sm:max-w-24"],["matChipRemove","",1,"w-5","h-5"],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1),t.YNc(3,zt,2,1,"h2",2)(4,Gt,2,0,"h2",2)(5,Yt,2,0,"h2",2),t.qZA(),t.BQk(),t.TgZ(6,"div",3),t.ynx(7),t.YNc(8,we,43,31,"div",4),t.BQk(),t.qZA(),t.YNc(9,De,6,3,"div",5),t.qZA()),2&o&&(t.xp6(3),t.um2(3,"add"===n.dialogMode&&n.parentNavigation?3:-1),t.xp6(),t.um2(4,"add"!==n.dialogMode||n.parentNavigation?-1:4),t.xp6(),t.um2(5,"edit"===n.dialogMode?5:-1),t.xp6(3),t.um2(8,"view"!==n.dialogMode?8:-1),t.xp6(),t.um2(9,"view"!==n.data.dialogMode?9:-1))},dependencies:[x.Ov,tt.Bb,tt.XC,V.ey,tt.ZL,b.ot,b.lW,$.p9,$.oG,J.Hi,J.HS,J.RA,J.oH,J.qH,A.Is,A.ZT,A.uh,h.lN,h.KE,h.hX,h.bx,h.TO,N.Ps,N.Hw,I.c,I.Nt,K.LD,K.gD,L.rP,L.Rr,x.mk,m.UX,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.oH,m.sg,m.u,m.x0],encapsulation:2,changeDetection:0})}return i})();var Qt=r(60193),Se=r(57830);class Ee{}function Je(i,s){if(1&i&&t._UZ(0,"mat-icon",44),2&i){const e=t.oxw().$implicit;t.Q6J("svgIcon",e.item.icon)}}const $t=(i,s)=>({"bg-gray-800 dark:bg-white":i,"bg-gray-700 dark:bg-neutral-50":s}),Le=(i,s)=>({"bg-gray-400":i,"bg-primary-500":s});function Qe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tree-node",36),t.NdJ("mouseenter",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.mouseEnterLeave(a.item.id))})("mouseleave",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.mouseEnterLeave(a.item.id))})("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.mouseOver(a.item.id))}),t.TgZ(1,"div",37)(2,"div",38),t._UZ(3,"div",39),t.qZA(),t.TgZ(4,"span",40),t._uU(5),t.qZA()(),t.TgZ(6,"div",31),t.YNc(7,Je,1,1,"mat-icon",41),t.qZA(),t.TgZ(8,"span",31),t._uU(9),t.qZA(),t._UZ(10,"span"),t.TgZ(11,"div",42)(12,"button",43),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.createNavigation(a))}),t._UZ(13,"mat-icon",44),t.qZA(),t.TgZ(14,"button",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.editNavigation(a))}),t._UZ(15,"mat-icon",44),t.qZA(),t.TgZ(16,"button",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.deleteNavigation(c.flatNodeMap.get(a)))}),t._UZ(17,"mat-icon",44),t.qZA()()()}if(2&i){const e=s.$implicit,o=t.oxw(2);t.Q6J("ngClass",t.WLB(9,$t,e.item.id===o.selectedNavigationId,e.item.id===o.overNavigationId)),t.xp6(3),t.Q6J("ngClass",t.WLB(12,Le,"spacer"===e.item.type||"divider"===e.item.type,"spacer"!==e.item.type&&"divider"!==e.item.type)),t.xp6(2),t.Oqu(e.item.title),t.xp6(2),t.um2(7,e.item.icon?7:-1),t.xp6(2),t.Oqu(e.item.type),t.xp6(3),t.Q6J("disabled","basic"===e.item.type||"divider"===e.item.type||"spacer"===e.item.type),t.xp6(),t.Q6J("svgIcon","mat_solid:add"),t.xp6(2),t.Q6J("svgIcon","mat_solid:edit"),t.xp6(2),t.Q6J("svgIcon","mat_solid:delete")}}function $e(i,s){if(1&i&&t._UZ(0,"mat-icon",44),2&i){const e=t.oxw().$implicit;t.Q6J("svgIcon",e.item.icon)}}function Be(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tree-node",36),t.NdJ("mouseenter",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.mouseEnterLeave(a.item.id))})("mouseleave",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.mouseEnterLeave(a.item.id))})("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.mouseOver(a.item.id))})("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.dobleClick(a))}),t.TgZ(1,"div",37)(2,"button",46),t._UZ(3,"mat-icon",44),t.qZA(),t.TgZ(4,"span",47),t._uU(5),t.qZA()(),t.TgZ(6,"div",31),t.YNc(7,$e,1,1,"mat-icon",41),t.qZA(),t.TgZ(8,"span",31),t._uU(9),t.qZA(),t.TgZ(10,"span",31),t._uU(11),t.qZA(),t.TgZ(12,"div",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.dobleClick(a))}),t.TgZ(13,"button",43),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.createNavigation(a))}),t._UZ(14,"mat-icon",44),t.qZA(),t.TgZ(15,"button",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.editNavigation(a))}),t._UZ(16,"mat-icon",44),t.qZA(),t.TgZ(17,"button",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.deleteNavigation(c.flatNodeMap.get(a)))}),t._UZ(18,"mat-icon",44),t.qZA()()()}if(2&i){const e=s.$implicit,o=t.oxw(2);t.Q6J("ngClass",t.WLB(11,$t,e.item.id===o.selectedNavigationId,e.item.id===o.overNavigationId)),t.xp6(2),t.uIk("aria-label","Expandir "+e.item.title),t.xp6(),t.Q6J("svgIcon",o.treeControl.isExpanded(e)?"heroicons_outline:chevron-down":"heroicons_outline:chevron-right"),t.xp6(2),t.Oqu(e.item.title),t.xp6(2),t.um2(7,e.item.icon?7:-1),t.xp6(2),t.Oqu(e.item.type),t.xp6(2),t.Oqu(o.flatNodeMap.get(e).children.length),t.xp6(2),t.Q6J("disabled","basic"===e.item.type||"divider"===e.item.type||"spacer"===e.item.type),t.xp6(),t.Q6J("svgIcon","mat_solid:add"),t.xp6(2),t.Q6J("svgIcon","mat_solid:edit"),t.xp6(2),t.Q6J("svgIcon","mat_solid:delete")}}function Oe(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"div",30),t._uU(2," T\xedtulo "),t.qZA(),t.TgZ(3,"div",31),t._uU(4," Icono "),t.qZA(),t.TgZ(5,"div",31),t._uU(6," Tipo "),t.qZA(),t.TgZ(7,"div",31),t._uU(8," #.Elementos "),t.qZA(),t.TgZ(9,"div",32),t._uU(10," Acciones "),t.qZA()(),t.TgZ(11,"mat-tree",33),t.YNc(12,Qe,18,15,"mat-tree-node",34)(13,Be,19,14,"mat-tree-node",35),t.qZA()),2&i){const e=t.oxw();t.xp6(11),t.Q6J("dataSource",e.dataSource)("treeControl",e.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",e.hasChild)}}function ze(i,s){1&i&&(t.TgZ(0,"div",49),t._uU(1," \xa1No se ha creado ning\xfan elemento a\xfan! "),t.qZA())}const Ge=(i,s)=>({dark:i,"bg-white":s});let Ye=(()=>{class i{constructor(){this.checklistSelection=new qt.Ov(!0),this.dialog=(0,t.f3M)(A.uw),this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this._changeDetectorRef=(0,t.f3M)(t.sBO),this._fuseConfigService=(0,t.f3M)(Se.m),this._fuseConfirmationService=(0,t.f3M)(Q.R),this._fuseMediaWatcherService=(0,t.f3M)(ct.T),this._fuseNavigationService=(0,t.f3M)(Qt.Jf),this._navigationService=(0,t.f3M)(T),this._snackBar=(0,t.f3M)(R.ux),this._unsubscribeAll=new w.x,this.store=(0,t.f3M)(Z.yh),this.getLevel=e=>e.level,this.isExpandable=e=>e.expandable,this.getChildren=e=>e.children,this.hasChild=(e,o)=>o.expandable||"collapsable"===o.item.type||"group"===o.item.type||"aside"===o.item.type,this.hasNoContent=(e,o)=>""===o.item.title,this.transformer=(e,o)=>{const n=this.nestedNodeMap.get(e),a=n&&n.item===e.item?n:new Ee;return a.item=e.item,a.level=o,a.expandable=!!e.children?.length,this.flatNodeMap.set(a,e),this.nestedNodeMap.set(e,a),a},this.treeFlattener=new E.JZ(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new Dt.C2(this.getLevel,this.isExpandable),this.dataSource=new E.kc(this.treeControl,this.treeFlattener)}ngOnInit(){this._navigationService.data$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.dataSource.data=e;const n={children:[],type:"aside"};this.transformToFuseNavigationFormat({item:null,children:e},n);const a=this.getNavigations(n,[]);this.navigations=a,this.fuseNavigationItems=n.children,this.store.dispatch((0,St.gd)({navigations:a})),this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.isScreenSmall=!e.includes("md")}),this._fuseConfigService.config$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.config=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}descendantsAllSelected(e){const o=this.treeControl.getDescendants(e);return o.length>0&&o.every(a=>this.checklistSelection.isSelected(a))}descendantsPartiallySelected(e){return this.treeControl.getDescendants(e).some(a=>this.checklistSelection.isSelected(a))&&!this.descendantsAllSelected(e)}mouseEnterLeave(e){this.selectedNavigationId=e===this.selectedNavigationId?"":e}mouseOver(e){this.overNavigationId=e===this.overNavigationId?"":e}dobleClick(e){this.treeControl.isExpanded(e)?this.treeControl.collapse(e):this.treeControl.expand(e)}createNavigation(e){if(e){const o={item:e.item,children:this.flatNodeMap.get(e).children},n={...e.item,children:[]};this.transformToFuseNavigationFormat(o,n),this._openDialog(n,null,"add")}else this._openDialog(null,null,"add")}editNavigation(e){let o=this.navigations.find(n=>n.id===e.item.parentId);o=void 0===o?null:o,this._openDialog(o,e.item,"edit")}deleteNavigation(e){this._fuseConfirmationService.open({title:"Eliminar Elemento",message:`\xbfEst\xe1 seguro que desea eliminar a ${e.item.title}? ${e.children.length>0?"Este elemento posee otros elementos":""}.`,icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._navigationService.removeNavigation(e.item.id).subscribe(a=>{this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}toggleNavigation(e){const o=this._fuseNavigationService.getComponent(e);o&&o.toggle()}expandAll(){this.treeControl.expandAll()}collapseAll(){this.treeControl.collapseAll()}_openDialog(e,o,n){this.dialog.open(qe,{data:{parentNavigation:e,navigation:o,dialogMode:n},disableClose:!0,panelClass:"ath-nrp-dialog-panel"})}transformToFuseNavigationFormat(e,o){for(const n of e.children){const a={...n.item};n.children&&n.children.length>0&&(a.children=[],this.transformToFuseNavigationFormat(n,a)),o.children.push(a)}}getNavigations(e,o){for(const n of e.children)n.active=!1,n.children&&n.children.length>0&&this.getNavigations(n,o),o.push({...n});return o.sort((n,a)=>n.level-a.level)}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["settings-navigation"]],standalone:!0,features:[t.jDz],decls:44,vars:19,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-row","justify-between","w-full","min-w-0","overflow-x-hidden","overflow-y-hidden","bg-card","dark:bg-transparent"],[1,"flex","flex-col","flex-auto","overflow-y-auto"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-20"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight"],[1,"flex","my-2","sm:hidden"],["mat-icon-button","",1,"",3,"click"],[3,"svgIcon"],[1,"flex","flex-row-reverse","flex-wrap","items-center","justify-end","mt-2","sm:flex-row","sm:mt-0","shrink-0","sm:ml-4"],["mat-flat-button","",1,"ml-4","text-white","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["mat-stroked-button","",1,"ml-4",3,"click"],["svgIcon","mat_solid:close_fullscreen"],[1,"hidden","ml-2","mr-1","sm:block"],["mat-stroked-button","",1,"ml-0","sm:ml-4",3,"click"],["svgIcon","mat_solid:expand"],["mat-icon-button","",1,"hidden","ml-6","sm:flex",3,"click"],[1,"flex","flex-col","flex-auto"],[1,"grid"],[1,"h-full","min-h-full","overflow-x-auto","border","print:hidden",3,"ngClass","mode","name","opened","autoCollapse","inner","transparentOverlay","position","navigation"],[1,"sticky","top-0","z-10","grid","gap-4","px-0","py-4","font-semibold","shadow","navigation-tree-table","xl:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"ml-6","xl:ml-0"],[1,"text-center"],[1,"pr-4","mr-6","text-right","xl:mr-0"],[3,"dataSource","treeControl"],["class","grid navigation-tree-table  gap-4 relative py-1.5  border-b rounded-md bg-opacity-5 dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click",4,"matTreeNodeDef"],["class","grid navigation-tree-table gap-4 relative  py-1.5 border-b rounded-md bg-opacity-5 dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"grid","navigation-tree-table","gap-4","relative","py-1.5","border-b","rounded-md","bg-opacity-5","dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click"],["matTreeNodePadding","","matTreeNodePaddingIndent","20",1,"flex","items-center"],["matTreeNodeToggle","","mat-icon-button","","color","primary",1,"flex","items-center","justify-center","w-10","h-10"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"cursor-default","whitespace-nowrap","line-clamp-1"],["class","icon-size-5",3,"svgIcon"],[1,"flex","flex-row","justify-end","gap-2","pr-2","text-right"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"disabled","click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["mat-icon-button","","matTreeNodeToggle","","color","primary"],[1,"cursor-default","whitespace-nowrap"],[1,"flex","flex-row","justify-end","gap-2","pr-2","text-right",3,"click"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"div",5)(7,"a",6),t._uU(8,"Inicio"),t.qZA()(),t.TgZ(9,"div",5),t._UZ(10,"mat-icon",7),t.TgZ(11,"a",8),t._uU(12,"Navegaci\xf3n"),t.qZA()()(),t.TgZ(13,"div",9)(14,"a",10),t._UZ(15,"mat-icon",7),t.TgZ(16,"span",11),t._uU(17,"Regresar"),t.qZA()()()(),t.TgZ(18,"div",12)(19,"div",13),t._uU(20," Gesti\xf3n de navegaci\xf3n "),t.qZA()()(),t.TgZ(21,"div",14)(22,"button",15),t.NdJ("click",function(){return n.toggleNavigation("settingNavigation")}),t._UZ(23,"mat-icon",16),t.qZA()(),t.TgZ(24,"div",17)(25,"button",18),t.NdJ("click",function(){return n.createNavigation(null)}),t._UZ(26,"mat-icon",16),t.TgZ(27,"span",19),t._uU(28,"Nuevo"),t.qZA()(),t.TgZ(29,"button",20),t.NdJ("click",function(){return n.collapseAll()}),t._UZ(30,"mat-icon",21),t.TgZ(31,"span",22),t._uU(32,"Contraer"),t.qZA()(),t.TgZ(33,"button",23),t.NdJ("click",function(){return n.expandAll()}),t._UZ(34,"mat-icon",24),t.TgZ(35,"span",22),t._uU(36,"Expandir"),t.qZA()(),t.TgZ(37,"button",25),t.NdJ("click",function(){return n.toggleNavigation("settingNavigation")}),t._UZ(38,"mat-icon",16),t.qZA()()(),t.TgZ(39,"div",26)(40,"div",27),t.YNc(41,Oe,14,3)(42,ze,2,0),t.qZA()()(),t._UZ(43,"fuse-vertical-navigation",28),t.qZA()),2&o&&(t.xp6(10),t.Q6J("svgIcon","mat_solid:chevron_right"),t.xp6(4),t.Q6J("routerLink","./.."),t.xp6(),t.Q6J("svgIcon","mat_solid:chevron_left"),t.xp6(8),t.Q6J("svgIcon","mat_solid:menu"),t.xp6(3),t.Q6J("svgIcon","mat_solid:add"),t.xp6(12),t.Q6J("svgIcon","mat_solid:menu"),t.xp6(3),t.um2(41,n.dataSource.data.length>0?41:42),t.xp6(2),t.Q6J("ngClass",t.WLB(16,Ge,"dark"===n.config.scheme,"dark"!==n.config.scheme))("mode",n.isScreenSmall?"over":"side")("name","settingNavigation")("opened",!n.isScreenSmall)("autoCollapse",!0)("inner",!1)("transparentOverlay",!0)("position","left")("navigation",n.fuseNavigationItems))},dependencies:[Qt.jt,b.ot,b.lW,b.RK,h.lN,I.c,N.Ps,N.Hw,E.dp,E.fQ,E.ah,E.eu,E.gi,E.uo,x.mk,P.rH],styles:[".ath-payment-method-dialog-panel{height:100%;width:100%;min-width:100%}.ath-payment-method-dialog-panel .mat-dialog-container{padding:0!important;border-radius:0!important}@media (min-width: 600px){.ath-payment-method-dialog-panel .mat-dialog-container{border-radius:16px!important}.ath-payment-method-dialog-panel{height:auto;max-height:650px;width:90%;min-width:90%}}@media (min-width: 960px){.ath-payment-method-dialog-panel{width:70%;min-width:70%}}@media (min-width: 1280px){.ath-payment-method-dialog-panel{width:50%;min-width:50%}}\n"],encapsulation:2,data:{animation:rt.L},changeDetection:0})}return i})();var z=r(50967),W=r(99397),Bt=r(97214),X=r(39187);const je=z.Ps`
    query MPermissions {
        mPermissions {
            id
            name
            description
            mandatory
        }
    }
`,Ke=z.Ps`
    query PaginatedMPermissions($page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedMPermissions(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

        ok
        message

        pagination {
            length
            size
            page
            lastPage
            startIndex
            endIndex
        }

        items {
            id
            parentId
            name
            level
            slug
            description
            mandatory

            permissions {
                id
                name
                slug
                description
            }
        }
        }
    }
`,He=z.Ps`
    query PermissionsNinModules {
        permissionsNinModules {
            id
            name
            description
            mandatory
        }
    }
`,Ve=z.Ps`
    mutation CreateMPermissions($createMPermissionInput: CreateMPermissionInput!, $createMPermissionsInput: [CreateMPermissionInput!]) {
        createMPermissions(createMPermissionInput: $createMPermissionInput, createMPermissionsInput: $createMPermissionsInput ) {
            ok
            message

            permission {
                id
                parentId
                name
                level
                slug
                description
                mandatory

                permissions {
                    id
                    name
                    slug
                    description
                }
            }
        }
    }
`,We=z.Ps`
    mutation UpdateMPermissions($updateMPermissionInput: UpdateMPermissionInput!, $updateMPermissionsInput: [UpdateMPermissionInput!]) {
        updateMPermissions(updateMPermissionInput: $updateMPermissionInput, updateMPermissionsInput: $updateMPermissionsInput) {

            ok
            message

            permission {
                id
                parentId
                name
                level
                slug
                description
                mandatory

                permissions {
                    id
                    name
                    slug
                    description
                }
            }
        }
    }
`,Xe=z.Ps`
    mutation PaginatedRemoveMPermission($removeMPermissionById: String!, $page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedRemoveMPermission(id: $removeMPermissionById, page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

            ok
            message

            pagination {
                length
                size
                page
                lastPage
                startIndex
                endIndex
            }

            items {
                id
                parentId
                name
                level
                slug
                description
                mandatory

                permissions {
                    id
                    name
                    slug
                    description
            }
            }
        }
    }
`;let dt=(()=>{class i{constructor(){this.apolloProvider=(0,t.f3M)(z._M),this.store=(0,t.f3M)(Z.yh),this._apollo=this.apolloProvider.use("BALANC")}createMPermission(e,o){return this._apollo.mutate({mutation:Ve,variables:{createMPermissionInput:e,createMPermissionsInput:o},errorPolicy:"all"}).pipe((0,y.U)(({data:n})=>n?n.createMPermissions:null),(0,W.b)(n=>{n&&this.store.dispatch((0,X.jL)({permission:n.permission}))}))}getPaginatedMPermissions(e=0,o=500,n="name",a="desc",c=null){return this._apollo.query({query:Ke,errorPolicy:"all",variables:{page:e,size:o,sort:n,order:a,search:c}}).pipe((0,W.b)(({data:_})=>{_&&(this.store.dispatch((0,Bt.Jr)({pagination:_.paginatedMPermissions.pagination})),this.store.dispatch((0,X.g$)({permissions:_.paginatedMPermissions.items})))}))}getMPermissions(){return this._apollo.query({query:je,errorPolicy:"all"}).pipe((0,W.b)(({data:e})=>{e&&this.store.dispatch((0,X.g$)({permissions:e.mPermissions}))}))}getPermissionsNinModules(){return this._apollo.query({query:He,errorPolicy:"all"}).pipe((0,W.b)(({data:e})=>{e&&this.store.dispatch((0,X.g$)({permissions:e.permissionsNinModules}))}))}updatePermission(e,o){return this._apollo.mutate({mutation:We,variables:{updateMPermissionInput:e,updateMPermissionsInput:o},errorPolicy:"all"}).pipe((0,y.U)(({data:n})=>n?n.updateMPermissions:null),(0,W.b)(n=>{n&&this.store.dispatch((0,X.kY)({permission:n.permission}))}))}removePermission(e,o=0,n=500,a="name",c="desc",_=null){return this._apollo.mutate({mutation:Xe,variables:{removeMPermissionById:e.toString(),page:o,size:n,sort:a,order:c,search:_},errorPolicy:"all"}).pipe((0,W.b)(({data:B})=>{B&&(this.store.dispatch((0,Bt.Jr)({pagination:B.paginatedRemoveMPermission.pagination})),this.store.dispatch((0,X.$x)({id:e})))}))}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ti(i,s){1&i&&(t.TgZ(0,"h2",7),t._uU(1,"Agregar subm\xf3dulo"),t.qZA())}function ei(i,s){1&i&&(t.TgZ(0,"h2",7),t._uU(1,"Editar subm\xf3dulo"),t.qZA())}function ii(i,s){1&i&&(t.TgZ(0,"h2",7),t._uU(1,"Detalles del subm\xf3dulo"),t.qZA())}function oi(i,s){1&i&&t._UZ(0,"div",8)}function ni(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre del subm\xf3dulo es obligatorio. "),t.qZA())}function ai(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre del subm\xf3dulo debe contener entre 3 y 255 caracteres. "),t.qZA())}function si(i,s){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," La descripci\xf3n debe contener al menos 5 caracteres. "),t.qZA())}function ri(i,s){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"form",11)(3,"mat-form-field",12)(4,"mat-label"),t._uU(5,"Nombre"),t.qZA(),t._UZ(6,"input",13),t.YNc(7,ni,2,0,"mat-error")(8,ai,2,0,"mat-error"),t.qZA(),t.TgZ(9,"div",14)(10,"mat-form-field",15)(11,"mat-label"),t._uU(12,"Descripci\xf3n"),t.qZA(),t._UZ(13,"mat-icon",16)(14,"textarea",17,18),t.YNc(16,si,2,0,"mat-error"),t.TgZ(17,"mat-hint",19),t._uU(18),t.qZA()()(),t.TgZ(19,"mat-checkbox",20),t._uU(20," Obligatorio "),t.qZA()()()()),2&i){const e=t.MAs(15),o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.mPermissionForm)("autocomplete","off"),t.xp6(4),t.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del subm\xf3dulo"),t.xp6(),t.um2(7,o.mPermissionForm.get("name").hasError("required")?7:-1),t.xp6(),t.um2(8,o.mPermissionForm.get("name").hasError("maxlength")||o.mPermissionForm.get("name").hasError("minlength")?8:-1),t.xp6(5),t.Q6J("svgIcon","mat_solid:notes"),t.xp6(),t.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),t.xp6(2),t.um2(16,o.mPermissionForm.get("description").hasError("minlength")?16:-1),t.xp6(2),t.hij(" Total de caracteres ",e.value.length," / 1000 "),t.xp6(),t.Q6J("color","primary")("formControlName","mandatory")}}const Ot=i=>({"cursor-not-allowed":i});function li(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.updatePermission())}),t._uU(1," Actualizar "),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.mPermissionForm.invalid)("ngClass",t.VKq(3,Ot,e.mPermissionForm.invalid))}}function ci(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.createMPermission())}),t._uU(1," Agregar "),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.mPermissionForm.invalid)("ngClass",t.VKq(3,Ot,e.mPermissionForm.invalid))}}function mi(i,s){if(1&i&&(t.TgZ(0,"div",21)(1,"button",22),t._uU(2," Cancelar "),t.qZA(),t.YNc(3,li,2,5,"button",23)(4,ci,2,5,"button",23),t.qZA()),2&i){const e=t.oxw();t.xp6(),t.Q6J("matDialogClose","cancelled"),t.xp6(2),t.um2(3,"edit"===e.data.dialogMode?3:-1),t.xp6(),t.um2(4,"add"===e.data.dialogMode?4:-1)}}let di=(()=>{class i{constructor(e){this.data=e,this.dialogMode="view",this._changeDetectorRef=(0,t.f3M)(t.sBO),this._dialogRef=(0,t.f3M)(A.so),this._formBuilder=(0,t.f3M)(m.qu),this._fuseConfirmationService=(0,t.f3M)(Q.R),this._mPermissionsService=(0,t.f3M)(dt),this._snackBar=(0,t.f3M)(R.ux),this._unsubscribeAll=new w.x,this.selectedMPermission=e.mPermission,this.dialogMode=e.dialogMode}ngOnInit(){this.mPermissionForm=this._formBuilder.group({id:[null],parentId:[null],name:["",[m.kI.required,m.kI.minLength(3),m.kI.maxLength(255)]],mandatory:[!1],description:["",[m.kI.minLength(5),m.kI.maxLength(1e3)]]}),this._fillMPermissionData()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createMPermission(){const e=this.mPermissionForm.getRawValue();delete e.id,delete e.parentId,this._fuseConfirmationService.open({title:"Crear Subm\xf3dulo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._mPermissionsService.createMPermission(e,null).subscribe(a=>{a&&(this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog())})})}updatePermission(){const e=this.mPermissionForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Subm\xf3dulo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._mPermissionsService.updatePermission(e,null).subscribe(a=>{a&&(this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog())})})}trackByFn(e,o){return o.id||e}closeDialog(){this._dialogRef.close()}_fillMPermissionData(){"edit"===this.dialogMode&&this.mPermissionForm.patchValue(this.selectedMPermission)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(A.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["m-permission-dialog"]],standalone:!0,features:[t.jDz],decls:9,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"w-full","overflow-hidden"],[1,"flex"],[1,"flex","flex-col","w-full","mt-6",3,"formGroup","autocomplete"],[1,"fuse-mat-dense"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-2","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],["desc",""],[1,"text-right"],[1,"mt-6","mb-0",3,"color","formControlName"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ti,2,0,"h2",2)(3,ei,2,0,"h2",2)(4,ii,2,0,"h2",2),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,oi,1,0,"div",4)(7,ri,21,19,"div",5),t.qZA(),t.YNc(8,mi,5,3,"div",6),t.qZA()),2&o&&(t.xp6(2),t.um2(2,"add"===n.data.dialogMode?2:-1),t.xp6(),t.um2(3,n.data.mPermission&&n.data.mPermission.id&&"edit"===n.data.dialogMode?3:-1),t.xp6(),t.um2(4,n.data.mPermission&&n.data.mPermission.id&&"view"===n.data.dialogMode?4:-1),t.xp6(2),t.um2(6,"view"===n.data.dialogMode?6:-1),t.xp6(),t.um2(7,7),t.xp6(),t.um2(8,"view"!==n.data.dialogMode?8:-1))},dependencies:[b.ot,b.lW,$.p9,$.oG,A.Is,A.ZT,h.lN,h.KE,h.hX,h.bx,h.TO,h.qo,N.Ps,N.Hw,I.c,I.Nt,x.mk,m.UX,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.sg,m.u],encapsulation:2,changeDetection:0})}return i})();function pi(i,s){1&i&&t._UZ(0,"mat-icon",37),2&i&&t.Q6J("svgIcon","mat_solid:done")}function ui(i,s){1&i&&t._UZ(0,"mat-icon",38),2&i&&t.Q6J("svgIcon","mat_solid:close")}function gi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30),t._uU(2),t.qZA(),t.TgZ(3,"div",30),t._uU(4),t.qZA(),t.TgZ(5,"div",30),t._uU(6),t.qZA(),t.TgZ(7,"div",31),t.YNc(8,pi,1,1,"mat-icon",32)(9,ui,1,1,"mat-icon",33),t.qZA(),t.TgZ(10,"div",34)(11,"button",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.editMPermission(a))}),t._UZ(12,"mat-icon",36),t.qZA(),t.TgZ(13,"button",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.deleteMPermission(a))}),t._UZ(14,"mat-icon",36),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.slug," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(2),t.um2(8,e.mandatory?8:-1),t.xp6(),t.um2(9,e.mandatory?-1:9),t.xp6(3),t.Q6J("svgIcon","mat_solid:edit"),t.xp6(2),t.Q6J("svgIcon","mat_solid:delete")}}function hi(i,s){1&i&&t.SjG(0,gi,15,7,"div",39,t.QCX().trackByFn),2&i&&t.wJu(s)}function fi(i,s){if(1&i&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25),t._uU(3," Nombre "),t.qZA(),t.TgZ(4,"div",25),t._uU(5," Slug "),t.qZA(),t.TgZ(6,"div",26),t._uU(7," Descripci\xf3n "),t.qZA(),t.TgZ(8,"div",27),t._uU(9," Obligatorio "),t.qZA(),t.TgZ(10,"div",28),t._uU(11," Acciones "),t.qZA()(),t.YNc(12,hi,2,0),t.ALo(13,"async"),t.qZA()),2&i){const e=t.oxw(2);let o;t.xp6(2),t.Q6J("mat-sort-header","name"),t.xp6(2),t.Q6J("mat-sort-header","slug"),t.xp6(4),t.Q6J("mat-sort-header","mandatory"),t.xp6(4),t.um2(12,(o=t.lcZ(13,4,e.modules$))?12:-1,o)}}function _i(i,s){if(1&i&&(t.TgZ(0,"div",40),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(),t.hij(" ",e.searchInputControl.value?"\xa1No se han encontrado grupos!":"\xa1No se ha creado ning\xfan grupo a\xfan!","")}}function vi(i,s){1&i&&t.YNc(0,fi,14,6,"div",22)(1,_i,2,1),2&i&&t.um2(0,s.length>0?0:1)}const xi=i=>({"pointer-events-none":i}),Ci=()=>[10,25,50,100];function bi(i,s){if(1&i&&t._UZ(0,"mat-paginator",41),2&i){const e=t.oxw();t.Q6J("ngClass",t.VKq(6,xi,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.DdM(8,Ci))("showFirstLastButtons",!0)}}let Zi=(()=>{class i{constructor(){this.dialog=(0,t.f3M)(A.uw),this.isLoading=!1,this.searchInputControl=new m.NI(null),this._changeDetectorRef=(0,t.f3M)(t.sBO),this._fuseConfirmationService=(0,t.f3M)(Q.R),this._moduleService=(0,t.f3M)(dt),this._snackBar=(0,t.f3M)(R.ux),this._unsubscribeAll=new w.x,this.store=(0,t.f3M)(Z.yh)}ngOnInit(){this.modules$=this.store.select(mt),this.store.select(U.B).pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,f.R)(this._unsubscribeAll),(0,j.b)(300),(0,C.O)(null),(0,u.w)(e=>null!==e?(this.isLoading=!0,this._moduleService.getPaginatedMPermissions(0,10,"name","asc",e)):(0,S.of)()),(0,y.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,f.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Y.T)(this._sort.sortChange,this._paginator.page).pipe((0,u.w)(()=>(this.isLoading=!0,this._moduleService.getPaginatedMPermissions(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,y.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createMPermission(){this._openDialog(null,"add")}editMPermission(e){this._openDialog(e,"edit")}deleteMPermission(e){this._fuseConfirmationService.open({title:"Eliminar Submodule",message:`\xbfEst\xe1 seguro que desea eliminar el grupo ${e.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._moduleService.removePermission(e.id,this.pagination.page,this.pagination.size,"name","desc").subscribe(({errors:a})=>{a||this._snackBar.openFromComponent(k.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"data.paginatedRemoveMPermission.message",title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}trackByFn(e,o){return o.id||e}_openDialog(e,o){this.dialog.open(di,{data:{mPermission:e,dialogMode:o},disableClose:!0,panelClass:"ath-nrp-dialog-panel"})}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["settings-m-permissions"]],viewQuery:function(o,n){if(1&o&&(t.Gf(q.NW,5),t.Gf(F.YE,5)),2&o){let a;t.iGM(a=t.CRH())&&(n._paginator=a.first),t.iGM(a=t.CRH())&&(n._sort=a.first)}},standalone:!0,features:[t.jDz],decls:34,vars:15,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","sm:mt-0","shrink-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-col","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","m-permissions-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","m-permissions-table","md:px-8"],[1,"truncate"],[1,"mr-4","text-center"],["class","text-green-400 icon-size-5",3,"svgIcon"],["class","text-red-400 icon-size-5",3,"svgIcon"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],["class","grid items-center gap-4 px-6 py-3 border-b m-permissions-table md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),t._uU(7,"Inicio"),t.qZA()(),t.TgZ(8,"div",4),t._UZ(9,"mat-icon",6),t.TgZ(10,"a",7),t._uU(11,"Subm\xf3dulos"),t.qZA()()(),t.TgZ(12,"div",8)(13,"a",9),t._UZ(14,"mat-icon",6),t.TgZ(15,"span",10),t._uU(16,"Regresar"),t.qZA()()()(),t.TgZ(17,"div",11)(18,"div",12),t._uU(19," Gesti\xf3n de subm\xf3dulos "),t.qZA()()(),t.TgZ(20,"div",13)(21,"mat-form-field",14),t._UZ(22,"mat-icon",15)(23,"input",16),t.qZA(),t.TgZ(24,"button",17),t.NdJ("click",function(){return n.createMPermission()}),t._UZ(25,"mat-icon",18),t.TgZ(26,"span",19),t._uU(27,"Nuevo"),t.qZA()()()(),t.TgZ(28,"div",20)(29,"div",20),t.YNc(30,vi,2,1),t.ALo(31,"async"),t.qZA(),t.YNc(32,bi,1,9,"mat-paginator",21),t.ALo(33,"async"),t.qZA()()),2&o){let a;t.xp6(9),t.Q6J("svgIcon","mat_solid:chevron_right"),t.xp6(4),t.Q6J("routerLink","./.."),t.xp6(),t.Q6J("svgIcon","mat_solid:chevron_left"),t.xp6(7),t.Q6J("subscriptSizing","dynamic"),t.xp6(),t.Q6J("svgIcon","mat_solid:search"),t.xp6(),t.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para filtrar"),t.xp6(2),t.Q6J("svgIcon","mat_solid:add"),t.xp6(5),t.um2(30,(a=t.lcZ(31,11,n.modules$))?30:-1,a),t.xp6(2),t.um2(32,t.lcZ(33,13,n.modules$).length>0?32:-1)}},dependencies:[x.Ov,b.ot,b.lW,h.lN,h.KE,h.qo,N.Ps,N.Hw,I.c,I.Nt,q.TU,q.NW,L.rP,F.JX,F.YE,F.nU,x.mk,m.UX,m.Fj,m.JJ,m.oH,P.rH],encapsulation:2,data:{animation:rt.L},changeDetection:0})}return i})();var Ni=r(9427);let yi=(()=>{class i{constructor(e){this._moduleService=e}resolve(e,o){return this._moduleService.getPaginatedMPermissions()}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(dt))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ti=(()=>{class i{constructor(e){this._moduleService=e}resolve(e,o){return this._moduleService.getMPermissions()}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(dt))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ai=(()=>{class i{constructor(e){this._navigationService=e}resolve(e,o){return this._navigationService.getRootNavigationNodes()}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(T))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ii=r(78896);const Mi=[{path:"",component:D,children:[{path:"m-permissions",component:Zi,resolve:{mPermissions:yi}},{path:"navigations",component:Ye,resolve:{mPermissions:Ti,navigation:Ai}},{path:"rates",component:Rt,resolve:{currencies:Ni.Y,rates:Ii.L}}]},{path:"merchant",loadChildren:()=>Promise.all([r.e(9298),r.e(3305),r.e(385),r.e(8592),r.e(7415)]).then(r.bind(r,17415)),title:"Gesti\xf3n del negocio"},{path:"roles",loadChildren:()=>Promise.all([r.e(3305),r.e(9105)]).then(r.bind(r,89105)),title:"Gesti\xf3n Roles y Permisos"}]},55497:(pt,O,r)=>{r.d(O,{Z:()=>mt});const t=function P(l,d){for(var p=-1,v=null==l?0:l.length,g=Array(v);++p<v;)g[p]=d(l[p],p,l);return g};var D=r(89711),x=r(29977),m=r(33844),b=r(91196);const N=function h(l){return"symbol"==typeof l||(0,b.Z)(l)&&"[object Symbol]"==(0,m.Z)(l)};var I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/;var R=r(88410);function w(l,d){if("function"!=typeof l||null!=d&&"function"!=typeof d)throw new TypeError("Expected a function");var p=function(){var v=arguments,g=d?d.apply(this,v):v[0],T=p.cache;if(T.has(g))return T.get(g);var $=l.apply(this,v);return p.cache=T.set(g,$)||T,$};return p.cache=new(w.Cache||R.Z),p}w.Cache=R.Z;const S=w;var C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g;const Z=function f(l){var d=S(l,function(v){return 500===p.size&&p.clear(),v}),p=d.cache;return d}(function(l){var d=[];return 46===l.charCodeAt(0)&&d.push(""),l.replace(C,function(p,v,g,T){d.push(g?T.replace(u,"$1"):v||p)}),d});var M=r(66875),Q=M.Z?M.Z.prototype:void 0,et=Q?Q.toString:void 0;const k=function it(l){if("string"==typeof l)return l;if((0,x.Z)(l))return t(l,it)+"";if(N(l))return et?et.call(l):"";var d=l+"";return"0"==d&&1/l==-1/0?"-0":d},K=function ot(l){return null==l?"":k(l)},V=function H(l,d){return(0,x.Z)(l)?l:function G(l,d){if((0,x.Z)(l))return!1;var p=typeof l;return!("number"!=p&&"symbol"!=p&&"boolean"!=p&&null!=l&&!N(l))||q.test(l)||!I.test(l)||null!=d&&l in Object(d)}(l,d)?[l]:Z(K(l))},nt=function ft(l){if("string"==typeof l||N(l))return l;var d=l+"";return"0"==d&&1/l==-1/0?"-0":d},Zt=function bt(l,d){return d.length<2?l:function _t(l,d){for(var p=0,v=(d=V(d,l)).length;null!=l&&p<v;)l=l[nt(d[p++])];return p&&p==v?l:void 0}(l,function xt(l,d,p){var v=-1,g=l.length;d<0&&(d=-d>g?0:g+d),(p=p>g?g:p)<0&&(p+=g),g=d>p?0:p-d>>>0,d>>>=0;for(var T=Array(g);++v<g;)T[v]=l[v+d];return T}(d,0,-1))},yt=function Nt(l,d){return d=V(d,l),null==(l=Zt(l,d))||delete l[nt(function ut(l){var d=null==l?0:l.length;return d?l[d-1]:void 0}(d))]};var Tt=r(36299),At=r(15511);const Mt=function It(l){return(0,At.Z)(l)?void 0:l};var Pt=r(4331),Ut=r(45727),at=M.Z?M.Z.isConcatSpreadable:void 0;const wt=function Ft(l){return(0,x.Z)(l)||(0,Ut.Z)(l)||!!(at&&l&&l[at])},kt=function st(l,d,p,v,g){var T=-1,$=l.length;for(p||(p=wt),g||(g=[]);++T<$;){var J=l[T];d>0&&p(J)?d>1?st(J,d-1,p,v,g):(0,Pt.Z)(g,J):v||(g[g.length]=J)}return g},Dt=function Rt(l){return null!=l&&l.length?kt(l,1):[]};var E=r(9007),qt=r(85122);var tt=r(56959);const mt=function St(l){return(0,qt.Z)((0,E.Z)(l,void 0,Dt),l+"")}(function(l,d){var p={};if(null==l)return p;var v=!1;d=t(d,function(T){return T=V(T,l),v||(v=T.length>1),T}),(0,Tt.Z)(l,(0,tt.Z)(l),p),v&&(p=(0,D.Z)(p,7,Mt));for(var g=d.length;g--;)yt(p,d[g]);return p})}}]);