"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[2486],{47413:(X,A,d)=>{d.d(A,{Dz:()=>D,Lx:()=>E});var g=d(59640);const r=p=>p.pagination,D=(0,g.Mz)(r,p=>p.pagination),E=(0,g.Mz)(r,p=>p.secondaryPagination)},23301:(X,A,d)=>{d.d(A,{I:()=>E,p:()=>D});var g=d(17705),r=d(92581);const D=(p,S)=>(0,g.WQX)(r.v).getCurrencies(),E=(p,S)=>(0,g.WQX)(r.v).getActiveCurrency()},91401:(X,A,d)=>{d.d(A,{y$:()=>E});var g=d(59640);const r=p=>p.currencies,E=((0,g.Mz)(r,p=>p.currency),(0,g.Mz)(r,p=>p.currencies))},92581:(X,A,d)=>{d.d(A,{v:()=>z});var g=d(17705),r=d(96697),D=d(25558),E=d(88141),p=d(53473),S=d(59640),V=d(98216),b=d(54588),N=d(91401);const L=p.J1`
    mutation CreateCurrency($createCurrencyInput: CreateCurrencyInput!) {
        createCurrency(createCurrencyInput: $createCurrencyInput) {

            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }

        }
    }
`,k=p.J1`
mutation UpdateCurrency($updateCurrencyInput: UpdateCurrencyInput!) {
    updateCurrency(updateCurrencyInput: $updateCurrencyInput) {
        ok
        message

        currency {
            id
            active
            name
            iso
            symbol
        }
    }
}
`,F=p.J1`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateCurrencyStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }
    }
`,K=p.J1`
mutation RemoveCurrency($removeCurrencyId: String!) {
    removeCurrency(id: $removeCurrencyId) {
        ok,
        message
    }
}
`,B=p.J1`
    query FindAllCurrencies($offset: Int, $limit: Int, $sort: String, $order: Order, $search: String) {
        findAllCurrencies(offset: $offset, limit: $limit, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length
                size
                page
            }

            currencies {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`,M=p.J1`
    query FindAllActiveCurrencies {
        findAllActiveCurrencies {
            ok
            message

            currencies {
                id
                name
                iso
            }
        }
    }
`,R=p.J1`
    query FindCurrencyById($findCurrencyByIdId: String!) {
        findCurrencyById(id: $findCurrencyByIdId) {
            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`;let z=(()=>{class O{constructor(){this.apolloProvider=(0,g.WQX)(p.Ic),this.store=(0,g.WQX)(S.il),this._apollo=this.apolloProvider.use("BALANC")}createCurrency(v){return this.store.select(N.y$).pipe((0,r.s)(1),(0,D.n)(s=>this._apollo.mutate({mutation:L,variables:{createCurrencyInput:v},errorPolicy:"all"}).pipe((0,E.M)(({data:a})=>{const f=structuredClone(s);f.push(a.createCurrency.currency),this.store.dispatch((0,b.Ih)({currencies:f}))}))))}getCurrencies(v=1,s=20,a="name",f="asc",o=""){return this._apollo.query({query:B,variables:{offset:s*(v-1),limit:s,sort:a,order:f,search:o},errorPolicy:"all"}).pipe((0,E.M)(({data:l})=>{this.store.dispatch((0,V.Bp)({pagination:l.findAllCurrencies.pagination})),this.store.dispatch((0,b.Ih)({currencies:l.findAllCurrencies.currencies}))}))}getActiveCurrency(){return this._apollo.query({query:M,errorPolicy:"all"}).pipe((0,E.M)(({data:v})=>{v&&this.store.dispatch((0,b.Ih)({currencies:v.findAllActiveCurrencies.currencies}))}))}getCurrencyById(v){return this._apollo.query({query:R,variables:{findCurrencyByIdId:v},errorPolicy:"all"}).pipe((0,E.M)(({data:s})=>{this.store.dispatch((0,b.MN)({currency:s.findCurrencyById.currency}))}))}updateCurrency(v){return this.store.select(N.y$).pipe((0,r.s)(1),(0,D.n)(s=>this._apollo.mutate({mutation:k,variables:{updateCurrencyInput:v},errorPolicy:"all"}).pipe((0,E.M)(({data:a})=>{const f=structuredClone(s);f[s.findIndex(l=>l.id===v.id)]=a.updateCurrency.currency,this.store.dispatch((0,b.Ih)({currencies:f}))}))))}updateCurrencyStatus(v){return this.store.select(N.y$).pipe((0,r.s)(1),(0,D.n)(s=>this._apollo.mutate({mutation:F,variables:{updateEntityStatusInput:v},errorPolicy:"all"}).pipe((0,E.M)(({})=>{const f=structuredClone(s);f[s.findIndex(l=>l.id===v.id)].active=v.active,this.store.dispatch((0,b.Ih)({currencies:f}))}))))}removeCurrency(v){return this.store.select(N.y$).pipe((0,r.s)(1),(0,D.n)(s=>this._apollo.mutate({mutation:K,variables:{removeCurrencyId:v},errorPolicy:"all"}).pipe((0,E.M)(({})=>{const f=structuredClone(s),o=s.findIndex(l=>l.id===v);f.splice(o,1),this.store.dispatch((0,b.Ih)({currencies:f}))}))))}static#e=this.\u0275fac=function(s){return new(s||O)};static#t=this.\u0275prov=g.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},72279:(X,A,d)=>{d.d(A,{kZ:()=>I,s3:()=>G,NL:()=>w,Dc:()=>ne,xn:()=>P,Sz:()=>H,a$:()=>T,aI:()=>J,Hy:()=>j,XW:()=>_});var g=d(45024),r=d(74402),D=d(21413),E=d(84412),p=d(7673),S=d(84572),V=d(983),b=d(28793),N=d(96697),k=(d(5964),d(56977)),F=d(99172),K=d(88141),B=d(25558),M=d(96354),R=d(46649),z=d(39974);function O(c,h){return(0,z.N)((0,R.S)(c,h,arguments.length>=2,!1,!0))}var W=d(70274),v=d(23294),s=d(17705),a=d(18617),f=d(28203),o=d(8045);class l{constructor(){this.expansionModel=new g.CB(!0)}toggle(h){this.expansionModel.toggle(this._trackByValue(h))}expand(h){this.expansionModel.select(this._trackByValue(h))}collapse(h){this.expansionModel.deselect(this._trackByValue(h))}isExpanded(h){return this.expansionModel.isSelected(this._trackByValue(h))}toggleDescendants(h){this.expansionModel.isSelected(this._trackByValue(h))?this.collapseDescendants(h):this.expandDescendants(h)}collapseAll(){this.expansionModel.clear()}expandDescendants(h){let e=[h];e.push(...this.getDescendants(h)),this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}collapseDescendants(h){let e=[h];e.push(...this.getDescendants(h)),this.expansionModel.deselect(...e.map(t=>this._trackByValue(t)))}_trackByValue(h){return this.trackBy?this.trackBy(h):h}}class _ extends l{constructor(h,e,t){super(),this.getLevel=h,this.isExpandable=e,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(h){const t=[];for(let n=this.dataNodes.indexOf(h)+1;n<this.dataNodes.length&&this.getLevel(h)<this.getLevel(this.dataNodes[n]);n++)t.push(this.dataNodes[n]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(h=>this._trackByValue(h)))}}const I=new s.nKC("CDK_TREE_NODE_OUTLET_NODE");let T=(()=>{class c{constructor(e,t){this.viewContainer=e,this._node=t}static#e=this.\u0275fac=function(t){return new(t||c)(s.rXU(s.c1b),s.rXU(I,8))};static#t=this.\u0275dir=s.FsC({type:c,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}return c})();class Y{constructor(h){this.$implicit=h}}let H=(()=>{class c{constructor(e){this.template=e}static#e=this.\u0275fac=function(t){return new(t||c)(s.rXU(s.C4Q))};static#t=this.\u0275dir=s.FsC({type:c,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0})}return c})();function Q(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}let w=(()=>{class c{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._dir=(0,s.WQX)(f.dS),this._onDestroy=new D.B,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new E.t({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new E.t([]),this._nodeType=new E.t(null),this._nodes=new E.t(new Map),this._keyManagerNodes=new E.t([]),this._keyManagerFactory=(0,s.WQX)(a.Z2),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){const e=this._nodeDefs.filter(t=>!t.when);this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){null===this._nodeType.value&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new g.CB(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;(0,g.y4)(this._dataSource)?e=this._dataSource.connect(this):(0,r.A)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=(0,p.of)(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe((0,k.Q)(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){const t=this._getExpansionModel();return(0,S.z)([e,this._nodeType,t.changed.pipe((0,F.Z)(null),(0,K.M)(n=>{this._emitExpansionChanges(n)}))]).pipe((0,B.n)(([n,i])=>null===i?(0,p.of)({renderNodes:n,flattenedNodes:null,nodeType:i}):this._computeRenderingData(n,i).pipe((0,M.T)(u=>({...u,nodeType:i})))))}_renderDataChanges(e){null!==e.nodeType?(this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)):this.renderNodeChanges(e.renderNodes)}_emitExpansionChanges(e){if(!e)return;const t=this._nodes.value;for(const n of e.added)t.get(n)?._emitExpansionState(!0);for(const n of e.removed)t.get(n)?._emitExpansionState(!1)}_initializeKeyManager(){const e=(0,S.z)([this._keyManagerNodes,this._nodes]).pipe((0,M.T)(([n,i])=>n.reduce((u,x)=>{const y=i.get(this._getExpansionKey(x));return y&&u.push(y),u},[])));this._keyManager=this._keyManagerFactory(e,{trackBy:n=>this._getExpansionKey(n.data),skipPredicate:n=>!!n.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}_initializeDataDiffer(){const e=this.trackBy??((t,n)=>this._getExpansionKey(n));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,n=this._nodeOutlet.viewContainer,i){const u=t.diff(e);!u&&!this._viewInit||(u?.forEachOperation((x,y,C)=>{if(null==x.previousIndex)this.insertNode(e[C],C,n,i);else if(null==C)n.remove(y);else{const U=n.get(y);n.move(U,C)}}),u?.forEachIdentityChange(x=>{const y=x.item;null!=x.currentIndex&&(n.get(x.currentIndex).context.$implicit=y)}),i?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(i=>i.when&&i.when(t,e))||this._defaultNodeDef}insertNode(e,t,n,i){const u=this._getLevelAccessor(),x=this._getNodeDef(e,t),y=this._getExpansionKey(e),C=new Y(e);i??=this._parents.get(y)??void 0,C.level=u?u(e):void 0!==i&&this._levels.has(this._getExpansionKey(i))?this._levels.get(this._getExpansionKey(i))+1:0,this._levels.set(y,C.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(x.template,C,t),P.mostRecentTreeNode&&(P.mostRecentTreeNode.data=e)}isExpanded(e){return!(!this.treeControl?.isExpanded(e)&&!this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){const t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe((0,N.s)(1),(0,k.Q)(this._onDestroy)).subscribe(n=>{t.select(...n.map(i=>this._getExpansionKey(i)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){const t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe((0,N.s)(1),(0,k.Q)(this._onDestroy)).subscribe(n=>{t.deselect(...n.map(i=>this._getExpansionKey(i)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(t=>this._getExpansionKey(t)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(t=>this._getExpansionKey(t)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){const t=this._getLevelAccessor(),n=this._expansionModel??this.treeControl?.expansionModel;if(!n)return(0,p.of)([]);const i=this._getExpansionKey(e),u=n.changed.pipe((0,B.n)(y=>y.added.includes(i)?(0,p.of)(!0):y.removed.includes(i)?(0,p.of)(!1):V.w),(0,F.Z)(this.isExpanded(e)));if(t)return(0,S.z)([u,this._flattenedNodes]).pipe((0,M.T)(([y,C])=>y?this._findChildrenByLevel(t,C,e,1):[]));const x=this._getChildrenAccessor();if(x)return(0,o.x)(x(e)??[]);throw Q()}_findChildrenByLevel(e,t,n,i){const u=this._getExpansionKey(n),x=t.findIndex($=>this._getExpansionKey($)===u),y=e(n),C=y+i,U=[];for(let $=x+1;$<t.length;$++){const Z=e(t[$]);if(Z<=y)break;Z<=C&&U.push(t[$])}return U}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){const t=this._getAriaSet(e),n=this._getExpansionKey(e);return t.findIndex(i=>this._getExpansionKey(i)===n)+1}_getNodeParent(e){const t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe((0,M.T)(t=>t.reduce((n,i)=>{const u=this._nodes.value.get(this._getExpansionKey(i));return u&&n.push(u),n},[])))}_sendKeydownToKeyManager(e){this._keyManager.onKeydown(e)}_getDescendants(e){if(this.treeControl)return(0,p.of)(this.treeControl.getDescendants(e));if(this.levelAccessor){const t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return(0,p.of)(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(O((t,n)=>(t.push(...n),t),[]));throw Q()}_getAllChildrenRecursively(e){return this.childrenAccessor?(0,o.x)(this.childrenAccessor(e)).pipe((0,N.s)(1),(0,B.n)(t=>{for(const n of t)this._parents.set(this._getExpansionKey(n),e);return(0,p.of)(...t).pipe((0,W.H)(n=>(0,b.x)((0,p.of)([n]),this._getAllChildrenRecursively(n))))})):(0,p.of)([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){const t=this._getExpansionKey(e),n=this._parents.get(t),i=n?this._getExpansionKey(n):null;return this._ariaSets.get(i)??[e]}_findParentForNode(e,t,n){if(!n.length)return null;const i=this._levels.get(this._getExpansionKey(e))??0;for(let u=t-1;u>=0;u--){const x=n[u];if((this._levels.get(this._getExpansionKey(x))??0)<i)return x}return null}_flattenNestedNodesWithExpansion(e,t=0){const n=this._getChildrenAccessor();return n?(0,p.of)(...e).pipe((0,W.H)(i=>{const u=this._getExpansionKey(i);this._parents.has(u)||this._parents.set(u,null),this._levels.set(u,t);const x=(0,o.x)(n(i));return(0,b.x)((0,p.of)([i]),x.pipe((0,N.s)(1),(0,K.M)(y=>{this._ariaSets.set(u,[...y??[]]);for(const C of y??[]){const U=this._getExpansionKey(C);this._parents.set(U,i),this._levels.set(U,t+1)}}),(0,B.n)(y=>y?this._flattenNestedNodesWithExpansion(y,t+1).pipe((0,M.T)(C=>this.isExpanded(i)?C:[])):(0,p.of)([]))))}),O((i,u)=>(i.push(...u),i),[])):(0,p.of)([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&"flat"===t)return this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe((0,M.T)(n=>({renderNodes:n,flattenedNodes:n})));if(this.levelAccessor&&"nested"===t){const n=this.levelAccessor;return(0,p.of)(e.filter(i=>0===n(i))).pipe((0,M.T)(i=>({renderNodes:i,flattenedNodes:e})),(0,K.M)(({flattenedNodes:i})=>{this._calculateParents(i)}))}return"flat"===t?(0,p.of)({renderNodes:e,flattenedNodes:e}).pipe((0,K.M)(({flattenedNodes:n})=>{this._calculateParents(n)})):(this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe((0,M.T)(n=>({renderNodes:e,flattenedNodes:n}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){const t=this._getLevelAccessor();if(t){this._parents.clear(),this._ariaSets.clear();for(let n=0;n<e.length;n++){const i=e[n],u=this._getExpansionKey(i);this._levels.set(u,t(i));const x=this._findParentForNode(i,n,e);this._parents.set(u,x);const y=x?this._getExpansionKey(x):null,C=this._ariaSets.get(y)??[];C.splice(n,0,i),this._ariaSets.set(y,C)}}}static#e=this.\u0275fac=function(t){return new(t||c)(s.rXU(s._q3),s.rXU(s.gRc))};static#t=this.\u0275cmp=s.VBU({type:c,selectors:[["cdk-tree"]],contentQueries:function(t,n,i){if(1&t&&s.wni(i,H,5),2&t){let u;s.mGM(u=s.lsd())&&(n._nodeDefs=u)}},viewQuery:function(t,n){if(1&t&&s.GBs(T,7),2&t){let i;s.mGM(i=s.lsd())&&(n._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,n){1&t&&s.bIt("keydown",function(u){return n._sendKeydownToKeyManager(u)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[s.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,n){1&t&&s.eu8(0,0)},dependencies:[T],encapsulation:2})}return c})(),P=(()=>{class c{get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}static#e=this.mostRecentTreeNode=null;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}get isLeafNode(){return void 0!==this._tree.treeControl?.isExpandable&&!this._tree.treeControl.isExpandable(this._data)||void 0===this._tree.treeControl?.isExpandable&&0===this._tree.treeControl?.getDescendants(this._data).length}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(e,t){this._elementRef=e,this._tree=t,this._tabindex=-1,this.activation=new s.bkB,this.expandedChange=new s.bkB,this._destroyed=new D.B,this._dataChanges=new D.B,this._inputIsExpandable=!1,this._inputIsExpanded=void 0,this._shouldFocus=!0,this._changeDetectorRef=(0,s.WQX)(s.gRc),c.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=function q(c){let h=c.parentElement;for(;h&&!ee(h);)h=h.parentElement;return h?h.classList.contains("cdk-nested-tree-node")?(0,s.Udg)(h.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe((0,M.T)(()=>this.isExpanded),(0,v.F)()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){c.mostRecentTreeNode===this&&(c.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static#t=this.\u0275fac=function(t){return new(t||c)(s.rXU(s.aKT),s.rXU(w))};static#n=this.\u0275dir=s.FsC({type:c,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,n){1&t&&s.bIt("click",function(){return n._setActiveItem()})("focus",function(){return n._focusItem()}),2&t&&(s.Mr5("tabindex",n._tabindex),s.BMQ("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",s.L39],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",s.L39],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[s.GFd]})}return c})();function ee(c){const h=c.classList;return!(!h?.contains("cdk-nested-tree-node")&&!h?.contains("cdk-tree"))}let G=(()=>{class c extends P{constructor(e,t,n){super(e,t),this._differs=n}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree._getDirectChildren(this.data).pipe((0,k.Q)(this._destroyed)).subscribe(e=>this.updateChildrenNodes(e)),this.nodeOutlet.changes.pipe((0,k.Q)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){this._tree._setNodeTypeIfUnset("nested"),super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const t=this._getNodeOutlet();e&&(this._children=e),t&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,t.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(t=>!t._node||t._node===this)}static#e=this.\u0275fac=function(t){return new(t||c)(s.rXU(s.aKT),s.rXU(w),s.rXU(s._q3))};static#t=this.\u0275dir=s.FsC({type:c,selectors:[["cdk-nested-tree-node"]],contentQueries:function(t,n,i){if(1&t&&s.wni(i,T,5),2&t){let u;s.mGM(u=s.lsd())&&(n.nodeOutlet=u)}},hostAttrs:[1,"cdk-nested-tree-node"],exportAs:["cdkNestedTreeNode"],standalone:!0,features:[s.Jv_([{provide:P,useExisting:c},{provide:I,useExisting:c}]),s.Vt3]})}return c})();const te=/([A-Za-z%]+)$/;let J=(()=>{class c{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}constructor(e,t,n,i){this._treeNode=e,this._tree=t,this._element=n,this._dir=i,this._destroyed=new D.B,this.indentUnits="px",this._indent=40,this._setPadding(),i&&i.change.pipe((0,k.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,t=null==this._level?e:this._level;return"number"==typeof t?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){const t=this._paddingIndent();if(t!==this._currentPadding||e){const n=this._element.nativeElement,i=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",u="paddingLeft"===i?"paddingRight":"paddingLeft";n.style[i]=t||"",n.style[u]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,n="px";if("string"==typeof e){const i=e.split(te);t=i[0],n=i[1]||n}this.indentUnits=n,this._indent=(0,s.Udg)(t),this._setPadding()}static#e=this.\u0275fac=function(t){return new(t||c)(s.rXU(P),s.rXU(w),s.rXU(s.aKT),s.rXU(f.dS,8))};static#t=this.\u0275dir=s.FsC({type:c,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",s.Udg],indent:[0,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[s.GFd]})}return c})(),j=(()=>{class c{constructor(e,t){this._tree=e,this._treeNode=t,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static#e=this.\u0275fac=function(t){return new(t||c)(s.rXU(w),s.rXU(P))};static#t=this.\u0275dir=s.FsC({type:c,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,n){1&t&&s.bIt("click",function(u){return n._toggle(),u.stopPropagation()})("keydown.Enter",function(u){return n._toggle(),u.preventDefault()})("keydown.Space",function(u){return n._toggle(),u.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",s.L39]},standalone:!0,features:[s.GFd]})}return c})(),ne=(()=>{class c{static#e=this.\u0275fac=function(t){return new(t||c)};static#t=this.\u0275mod=s.$C({type:c});static#n=this.\u0275inj=s.G2t({})}return c})()},47358:(X,A,d)=>{d.d(A,{d6:()=>L,jH:()=>O,lQ:()=>M,pO:()=>R,yF:()=>K,yI:()=>k,yj:()=>W,zw:()=>v});var g=d(72279),r=d(17705),D=d(86600),E=d(45024),p=d(84412),S=d(57786),V=d(96697),b=d(96354);let L=(()=>{class a extends g.xn{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(o){this._tabIndexInputBinding=o}_getTabindexAttribute(){return function N(a){return!!a._isNoopTreeKeyManager}(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(o){this.isDisabled=o}constructor(o,l,_){super(o,l),this.defaultTabIndex=0,this.tabIndexInputBinding=Number(_)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(l){return new(l||a)(r.rXU(r.aKT),r.rXU(g.NL),r.kS0("tabindex"))};static#t=this.\u0275dir=r.FsC({type:a,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(l,_){1&l&&r.bIt("click",function(){return _._focusItem()}),2&l&&(r.Mr5("tabindex",_._getTabindexAttribute()),r.BMQ("aria-expanded",_._getAriaExpanded())("aria-level",_.level+1)("aria-posinset",_._getPositionInSet())("aria-setsize",_._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",o=>null==o?0:(0,r.Udg)(o)],disabled:[2,"disabled","disabled",r.L39]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],standalone:!0,features:[r.Jv_([{provide:g.xn,useExisting:a}]),r.GFd,r.Vt3]})}return a})(),k=(()=>{class a extends g.Sz{static#e=this.\u0275fac=(()=>{let o;return function(_){return(o||(o=r.xGo(a)))(_||a)}})();static#t=this.\u0275dir=r.FsC({type:a,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},standalone:!0,features:[r.Jv_([{provide:g.Sz,useExisting:a}]),r.Vt3]})}return a})(),K=(()=>{class a extends g.aI{get level(){return this._level}set level(o){this._setLevelInput(o)}get indent(){return this._indent}set indent(o){this._setIndentInput(o)}static#e=this.\u0275fac=(()=>{let o;return function(_){return(o||(o=r.xGo(a)))(_||a)}})();static#t=this.\u0275dir=r.FsC({type:a,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",r.Udg],indent:[0,"matTreeNodePaddingIndent","indent"]},standalone:!0,features:[r.Jv_([{provide:g.aI,useExisting:a}]),r.GFd,r.Vt3]})}return a})(),B=(()=>{class a{constructor(o,l){this.viewContainer=o,this._node=l}static#e=this.\u0275fac=function(l){return new(l||a)(r.rXU(r.c1b),r.rXU(g.kZ,8))};static#t=this.\u0275dir=r.FsC({type:a,selectors:[["","matTreeNodeOutlet",""]],standalone:!0,features:[r.Jv_([{provide:g.a$,useExisting:a}])]})}return a})(),M=(()=>{class a extends g.NL{constructor(){super(...arguments),this._nodeOutlet=void 0}static#e=this.\u0275fac=(()=>{let o;return function(_){return(o||(o=r.xGo(a)))(_||a)}})();static#t=this.\u0275cmp=r.VBU({type:a,selectors:[["mat-tree"]],viewQuery:function(l,_){if(1&l&&r.GBs(B,7),2&l){let m;r.mGM(m=r.lsd())&&(_._nodeOutlet=m.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],standalone:!0,features:[r.Jv_([{provide:g.NL,useExisting:a}]),r.Vt3,r.aNF],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(l,_){1&l&&r.eu8(0,0)},dependencies:[B],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-app-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-app-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-app-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-app-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return a})(),R=(()=>{class a extends g.Hy{static#e=this.\u0275fac=(()=>{let o;return function(_){return(o||(o=r.xGo(a)))(_||a)}})();static#t=this.\u0275dir=r.FsC({type:a,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},standalone:!0,features:[r.Jv_([{provide:g.Hy,useExisting:a}]),r.Vt3]})}return a})(),O=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=r.$C({type:a});static#n=this.\u0275inj=r.G2t({imports:[g.Dc,D.yE,D.yE]})}return a})();class W{constructor(f,o,l,_){this.transformFunction=f,this.getLevel=o,this.isExpandable=l,this.getChildren=_}_flattenNode(f,o,l,_){const m=this.transformFunction(f,o);if(l.push(m),this.isExpandable(m)){const I=this.getChildren(f);I&&(Array.isArray(I)?this._flattenChildren(I,o,l,_):I.pipe((0,V.s)(1)).subscribe(T=>{this._flattenChildren(T,o,l,_)}))}return l}_flattenChildren(f,o,l,_){f.forEach((m,I)=>{let T=_.slice();T.push(I!=f.length-1),this._flattenNode(m,o+1,l,T)})}flattenNodes(f){let o=[];return f.forEach(l=>this._flattenNode(l,0,o,[])),o}expandFlattenedNodes(f,o){let l=[],_=[];return _[0]=!0,f.forEach(m=>{let I=!0;for(let T=0;T<=this.getLevel(m);T++)I=I&&_[T];I&&l.push(m),this.isExpandable(m)&&(_[this.getLevel(m)+1]=o.isExpanded(m))}),l}}class v extends E.qS{get data(){return this._data.value}set data(f){this._data.next(f),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(f,o,l){super(),this._treeControl=f,this._treeFlattener=o,this._flattenedData=new p.t([]),this._expandedData=new p.t([]),this._data=new p.t([]),l&&(this.data=l)}connect(f){return(0,S.h)(f.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,b.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}}}]);