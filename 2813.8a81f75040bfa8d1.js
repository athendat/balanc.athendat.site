"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[2813],{34413:(A,C,s)=>{s.d(C,{MI:()=>D,wf:()=>v,zA:()=>g});var t=s(54438),c=s(18810),p=s(99437),h=s(62590),i=s(51188);let v=(()=>{class r{constructor(u,a){this._employeesService=u,this._router=a}resolve(u,a){return this._employeesService.findAllEmployees().pipe((0,p.W)(f=>this._router.navigateByUrl("/desktop")))}static#t=this.\u0275fac=function(a){return new(a||r)(t.KVO(h.r),t.KVO(i.Ix))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),g=(()=>{class r{constructor(u,a){this._employeesService=u,this._router=a}resolve(u,a){const f=u.params.employeeId;return"new"===f?null:this._employeesService.findEmployeeById(f).pipe((0,p.W)(_=>{const F=a.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(F),(0,c.$)(_)}))}static#t=this.\u0275fac=function(a){return new(a||r)(t.KVO(h.r),t.KVO(i.Ix))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const D=(r,L)=>(0,t.WQX)(h.r).findActiveEmployees()},11781:(A,C,s)=>{s.d(C,{BF:()=>h,UA:()=>p});var t=s(59640);const c=i=>i.locations,p=(0,t.Mz)(c,i=>i.location),h=(0,t.Mz)(c,i=>i.locations)},47305:(A,C,s)=>{s.d(C,{K:()=>w});var t=s(54438),c=s(89417),p=s(75351),h=s(88834),i=s(32102),v=s(82798),g=s(21413),D=s(56977),r=s(59640),L=s(91401),u=s(60177),a=s(60850),f=s(99213),_=s(70152),F=s(99172),j=s(70980),y=s(31397),b=s(11781),I=s(49098),x=s(59042),R=s(86600);const E=o=>({"fuse-mat-rounded":o});function S(o,d){if(1&o){const e=t.RV6();t.j41(0,"mat-option",7),t.bIt("click",function(){const n=t.eBV(e).$implicit,m=t.XpG();return t.Njj(m.addLocation(n))}),t.EFF(1),t.k0s()}if(2&o){const e=d.$implicit;t.Y8G("value",e.name),t.R7$(),t.SpI(" ",e.name," ")}}function $(o,d){if(1&o){const e=t.RV6();t.j41(0,"mat-icon",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.resetLocation())}),t.k0s()}}let T=(()=>{class o{constructor(){this.rounded=!0,this.labelName="Almac\xe9n",this.selectedLocation=null,this.searchLocationsControl=new c.MJ(null),this.isLoading=!1,this.locationChange=new t.bkB,this._changeDetectorRef=(0,t.WQX)(t.gRc),this._locationsService=(0,t.WQX)(I.O),this._unsubscribeAll=new g.B,this.store=(0,t.WQX)(r.il)}ngOnInit(){this.locations$=this.store.select(b.BF),this.locationsFiltered=this.searchLocationsControl.valueChanges.pipe((0,_.B)(200),(0,F.Z)(null),(0,j.j)(()=>{this.isLoading=!1}),(0,y.Z)(e=>null!==e&&"string"==typeof e&&(this.selectedLocation&&e!==this.selectedLocation.name||!this.selectedLocation)?(this.isLoading=!0,this._locationsService.findActiveLocations(e.trim())):this.locations$))}ngAfterViewInit(){this.selectedLocation&&this.searchLocationsControl.setValue(this.selectedLocation.name,{emitEvent:!1})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addLocation(e){this.selectedLocation=e,this.locationChange.next(e),this._changeDetectorRef.markForCheck()}resetLocation(){this.selectedLocation=null,this.searchLocationsControl.setValue(""),this.locationChange.next(null),this._changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["autocomplete-locations"]],inputs:{rounded:"rounded",labelName:"labelName",selectedLocation:"selectedLocation"},outputs:{locationChange:"locationChange"},standalone:!0,features:[t.aNF],decls:11,vars:12,consts:[["locationsLocationsAutocomplete","matAutocomplete"],["appearance","fill",1,"w-full","fuse-mat-dense","fuse-mat-no-subscript",3,"ngClass","subscriptSizing"],["matPrefix","",3,"svgIcon"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder"],[1,"ath-autocomplete"],[3,"value"],["svgIcon","mat_solid:cancel","matSuffix","",1,"cursor-pointer"],[3,"click","value"],["svgIcon","mat_solid:cancel","matSuffix","",1,"cursor-pointer",3,"click"]],template:function(l,n){if(1&l&&(t.j41(0,"mat-form-field",1),t.nrm(1,"mat-icon",2),t.j41(2,"mat-label"),t.EFF(3),t.k0s(),t.nrm(4,"input",3),t.j41(5,"mat-autocomplete",4,0),t.Z7z(7,S,2,2,"mat-option",5,t.fX1),t.nI1(9,"async"),t.k0s(),t.DNE(10,$,1,0,"mat-icon",6),t.k0s()),2&l){const m=t.sdS(6);t.Y8G("ngClass",t.eq3(10,E,n.rounded))("subscriptSizing","dynamic"),t.R7$(),t.Y8G("svgIcon","mat_solid:search"),t.R7$(2),t.JRh(n.labelName),t.R7$(),t.Y8G("formControl",n.searchLocationsControl)("matAutocomplete",m)("placeholder","Filtre por Empleado"),t.R7$(3),t.Dyx(t.bMT(9,8,n.locationsFiltered)),t.R7$(3),t.vxM(10,n.selectedLocation?10:-1)}},dependencies:[a.jL,a.$3,R.wT,a.pN,f.m_,f.An,c.X1,c.me,c.BC,c.l_,i.RG,i.rl,i.nJ,i.JW,i.yw,u.YU,u.Jj,x.fS,x.fg],encapsulation:2,changeDetection:0})}return o})();var k=s(56808),B=s(72797);const V=o=>({"fuse-mat-rounded":o});function M(o,d){if(1&o){const e=t.RV6();t.j41(0,"mat-option",7),t.bIt("click",function(){const n=t.eBV(e).$implicit,m=t.XpG();return t.Njj(m.addCustomer(n))}),t.EFF(1),t.k0s()}if(2&o){const e=d.$implicit;t.Y8G("value",e.name),t.R7$(),t.SpI(" ",e.name," ")}}function N(o,d){if(1&o){const e=t.RV6();t.j41(0,"mat-icon",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.resetCustomer())}),t.k0s()}}let G=(()=>{class o{constructor(){this.rounded=!0,this.labelName="Cliente",this.selectedCustomer=null,this.searchCustomersControl=new c.MJ(null),this.isLoading=!1,this.customerChange=new t.bkB,this._changeDetectorRef=(0,t.WQX)(t.gRc),this._customersService=(0,t.WQX)(B.h),this._unsubscribeAll=new g.B,this.store=(0,t.WQX)(r.il)}ngOnInit(){this.customers$=this.store.select(k.wQ),this.customersFiltered=this.searchCustomersControl.valueChanges.pipe((0,_.B)(200),(0,F.Z)(null),(0,j.j)(()=>{this.isLoading=!1}),(0,y.Z)(e=>null!==e&&"string"==typeof e&&(this.selectedCustomer&&e!==this.selectedCustomer.name||!this.selectedCustomer)?(this.isLoading=!0,this._customersService.findActiveCustomers(e.trim())):this.customers$))}ngAfterViewInit(){this.selectedCustomer&&this.searchCustomersControl.setValue(this.selectedCustomer.name,{emitEvent:!1})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addCustomer(e){this.selectedCustomer=e,this.customerChange.next(e),this._changeDetectorRef.markForCheck()}resetCustomer(){this.selectedCustomer=null,this.searchCustomersControl.setValue(""),this.customerChange.next(null),this._changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["autocomplete-customers"]],inputs:{rounded:"rounded",labelName:"labelName",selectedCustomer:"selectedCustomer"},outputs:{customerChange:"customerChange"},standalone:!0,features:[t.aNF],decls:11,vars:12,consts:[["customersCustomersAutocomplete","matAutocomplete"],["appearance","fill",1,"w-full","fuse-mat-dense","fuse-mat-no-subscript",3,"ngClass","subscriptSizing"],["matPrefix","",3,"svgIcon"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder"],[1,"ath-autocomplete"],[3,"value"],["svgIcon","mat_solid:cancel","matSuffix","",1,"cursor-pointer"],[3,"click","value"],["svgIcon","mat_solid:cancel","matSuffix","",1,"cursor-pointer",3,"click"]],template:function(l,n){if(1&l&&(t.j41(0,"mat-form-field",1),t.nrm(1,"mat-icon",2),t.j41(2,"mat-label"),t.EFF(3),t.k0s(),t.nrm(4,"input",3),t.j41(5,"mat-autocomplete",4,0),t.Z7z(7,M,2,2,"mat-option",5,t.fX1),t.nI1(9,"async"),t.k0s(),t.DNE(10,N,1,0,"mat-icon",6),t.k0s()),2&l){const m=t.sdS(6);t.Y8G("ngClass",t.eq3(10,V,n.rounded))("subscriptSizing","dynamic"),t.R7$(),t.Y8G("svgIcon","mat_solid:search"),t.R7$(2),t.JRh(n.labelName),t.R7$(),t.Y8G("formControl",n.searchCustomersControl)("matAutocomplete",m)("placeholder","Filtre por Cliente"),t.R7$(3),t.Dyx(t.bMT(9,8,n.customersFiltered)),t.R7$(3),t.vxM(10,n.selectedCustomer?10:-1)}},dependencies:[a.jL,a.$3,R.wT,a.pN,f.m_,f.An,c.X1,c.me,c.BC,c.l_,i.RG,i.rl,i.nJ,i.JW,i.yw,u.YU,u.Jj,x.fS,x.fg],encapsulation:2,changeDetection:0})}return o})();var X=s(59649);function O(o,d){if(1&o&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&o){const e=d.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.iso," ")}}function W(o,d){if(1&o&&(t.j41(0,"mat-form-field",6)(1,"mat-label"),t.EFF(2,"Moneda"),t.k0s(),t.j41(3,"mat-select",13),t.Z7z(4,O,2,2,"mat-option",14,t.fX1),t.k0s()()),2&o){const e=t.XpG();t.R7$(3),t.Y8G("formControl",e.currencyIdControl),t.R7$(),t.Dyx(e.currencies)}}function P(o,d){if(1&o){const e=t.RV6();t.j41(0,"autocomplete-depots",15),t.bIt("depotChange",function(n){t.eBV(e);const m=t.XpG();return t.Njj(m.selectDepot(n))}),t.k0s()}2&o&&t.Y8G("rounded",!1)}function U(o,d){if(1&o){const e=t.RV6();t.j41(0,"autocomplete-locations",16),t.bIt("locationChange",function(n){t.eBV(e);const m=t.XpG();return t.Njj(m.selectLocation(n))}),t.k0s()}2&o&&t.Y8G("rounded",!1)}function Y(o,d){if(1&o){const e=t.RV6();t.j41(0,"autocomplete-customers",17),t.bIt("customerChange",function(n){t.eBV(e);const m=t.XpG();return t.Njj(m.selectCustomer(n))}),t.k0s()}2&o&&t.Y8G("rounded",!1)}let w=(()=>{class o{constructor(e){this.data=e,this.currencyIdControl=new c.MJ(""),this.currencies=[],this.selectedDepot=null,this.selectedLocation=null,this.selectedCustomer=null,this.filterProperties=[],this._changeDetectorRef=(0,t.WQX)(t.gRc),this._dialogRef=(0,t.WQX)(p.CP),this._unsubscribeAll=new g.B,this.store=(0,t.WQX)(r.il),this.filterProperties=e.filterProperties}ngOnInit(){this.store.select(L.y$).pipe((0,D.Q)(this._unsubscribeAll)).subscribe(e=>{this.currencies=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}selectDepot(e){this.selectedDepot=e}selectLocation(e){this.selectedLocation=e}selectCustomer(e){this.selectedCustomer=e}selectFilters(){const e=this.currencyIdControl.getRawValue();this._dialogRef.close({currencyId:e,customer:this.selectedCustomer,depot:this.selectedDepot,location:this.selectedLocation})}showField(e){return this.filterProperties.some(l=>l===e)}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(p.Vh))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["lists-filter-selectors-dialog"]],standalone:!0,features:[t.aNF],decls:16,vars:7,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","p-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","gap-3"],[1,"w-full","fuse-mat-no-subscript"],["labelName","Almacenes",3,"rounded"],["labelName","Unidades Comerciales",3,"rounded"],["labelName","Clientes",3,"rounded"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black/10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"click","color","matDialogClose"],[3,"formControl"],[3,"value"],["labelName","Almacenes",3,"depotChange","rounded"],["labelName","Unidades Comerciales",3,"locationChange","rounded"],["labelName","Clientes",3,"customerChange","rounded"]],template:function(l,n){1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3," Seleccionar "),t.k0s()(),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.DNE(7,W,6,1,"mat-form-field",6)(8,P,1,1,"autocomplete-depots",7)(9,U,1,1,"autocomplete-locations",8)(10,Y,1,1,"autocomplete-customers",9),t.k0s()()(),t.j41(11,"div",10)(12,"button",11),t.EFF(13," Cancelar "),t.k0s(),t.j41(14,"button",12),t.bIt("click",function(){return n.selectFilters()}),t.EFF(15," Aceptar "),t.k0s()()()),2&l&&(t.R7$(7),t.vxM(7,n.showField("currency")?7:-1),t.R7$(),t.vxM(8,n.showField("depot")?8:-1),t.R7$(),t.vxM(9,n.showField("location")?9:-1),t.R7$(),t.vxM(10,n.showField("customer")?10:-1),t.R7$(2),t.Y8G("matDialogClose","cancelled"),t.R7$(2),t.Y8G("color","primary")("matDialogClose","confirmed"))},dependencies:[h.Hl,h.$z,p.hM,p.tx,i.RG,i.rl,i.nJ,v.Ve,v.VO,R.wT,c.X1,c.BC,c.l_,X.E,T,G],encapsulation:2,changeDetection:0})}return o})()}}]);