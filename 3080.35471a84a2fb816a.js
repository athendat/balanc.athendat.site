"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3080],{34413:(De,V,l)=>{l.d(V,{MI:()=>s,wf:()=>k,zA:()=>F});var C=l(54438),oe=l(18810),e=l(99437),v=l(62590),P=l(51188);let k=(()=>{class u{constructor(p,h){this._employeesService=p,this._router=h}resolve(p,h){return this._employeesService.findAllEmployees().pipe((0,e.W)(_=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(h){return new(h||u)(C.KVO(v.r),C.KVO(P.Ix))};static#t=this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),F=(()=>{class u{constructor(p,h){this._employeesService=p,this._router=h}resolve(p,h){const _=p.params.employeeId;return"new"===_?null:this._employeesService.findEmployeeById(_).pipe((0,e.W)(j=>{const I=h.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(I),(0,oe.$)(j)}))}static#e=this.\u0275fac=function(h){return new(h||u)(C.KVO(v.r),C.KVO(P.Ix))};static#t=this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const s=(u,y)=>(0,C.WQX)(v.r).findActiveEmployees()},43080:(De,V,l)=>{l.r(V),l.d(V,{default:()=>fn});var C=l(21413),oe=l(10729),e=l(54438),v=l(59640);let P=(()=>{class o{constructor(t,i){this._changeDetectorRef=t,this.store=i,this._unsubscribeAll=new C.B}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(e.gRc),e.rXU(v.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["ath-hrm"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(i,n){1&i&&e.nrm(0,"ath-content-menu")},dependencies:[oe.k],encapsulation:2,changeDetection:0})}return o})();var k=l(51188),F=l(60177),s=l(89417),u=l(88834),y=l(75351),p=l(32102),h=l(99213),_=l(59042),j=l(96695),I=l(9183),R=l(30450),G=l(95416),E=l(2042),M=l(7673),Q=l(57786),m=l(56977),Y=l(70152),X=l(99172),T=l(25558),g=l(96354);const pe=o=>o.charges,de=((0,v.Mz)(pe,o=>o.charge),(0,v.Mz)(pe,o=>o.charges));var ie=l(87122),S=l(46601),b=l(94794),x=l(88141),A=l(9348),q=l(98216),D=l(73512);const Re=D.J1`
    mutation CreateCharge($createChargeInput: CreateChargeInput!) {
        createCharge(createChargeInput: $createChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active,
            }
        }
    }
`,je=D.J1`
    query FindAllCharges($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllCharges(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,$e=D.J1`
    query FindAllActiveCharges {
        findAllActiveCharges {
            id,
            name
        }
    }
`,Ie=D.J1`
    query FindChargeById($chargeId: String!) {
        findChargeById(id: $chargeId ) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,Ge=D.J1`
    mutation UpdateCharge($updateChargeInput: UpdateChargeInput!) {
        updateCharge(updateChargeInput: $updateChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,Se=D.J1`
    mutation UpdateChargeStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateChargeStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,Ae=D.J1`
    mutation RemoveCharge($id: String!) {
        removeCharge(id: $id) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`;let H=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createCharge(t){return this._apollo.mutate({mutation:Re,variables:{createChargeInput:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.createCharge:null),(0,x.M)(i=>{i&&(this.store.dispatch((0,A.Tn)({charge:i.charge})),this.store.dispatch((0,A.l1)({charge:i.charge})))}))}findAllCharges(t=0,i=10,n="name",a="desc",c=null){return this._apollo.query({query:je,variables:{page:t,size:i,sort:n,order:a,search:c},errorPolicy:"all"}).pipe((0,g.T)(({data:d})=>d?d.findAllCharges:null),(0,x.M)(d=>{d&&(this.store.dispatch((0,A._k)({charges:d.charges})),this.store.dispatch((0,q.Bp)({pagination:d.pagination})))}))}findAllActiveCharges(){return this._apollo.query({query:$e,errorPolicy:"all"}).pipe((0,g.T)(({data:t})=>t?t.findAllActiveCharges:null),(0,x.M)(t=>{t&&this.store.dispatch((0,A._k)({charges:t}))}))}findChargeById(t){return this._apollo.query({query:Ie,variables:{chargeId:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.findChargeById:null),(0,x.M)(i=>{i&&this.store.dispatch((0,A.l1)({charge:i.charge}))}))}updateCharge(t){return this._apollo.mutate({mutation:Ge,variables:{updateChargeInput:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.updateCharge:null),(0,x.M)(i=>{i&&(this.store.dispatch((0,A.C_)({charge:i.charge})),this.store.dispatch((0,A.l1)({charge:i.charge})))}))}updateChargeStatus(t){return this._apollo.mutate({mutation:Se,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.updateChargeStatus:null),(0,x.M)(i=>{i&&this.store.dispatch((0,A.sg)(t))}))}removeCharge(t,i=0,n=10,a="name",c="desc",d=null){return this._apollo.mutate({mutation:Ae,variables:{id:t,page:i,size:n,sort:a,order:c,search:d},errorPolicy:"all"}).pipe((0,g.T)(({data:f})=>f?f.removeCharge:null),(0,x.M)(f=>{f&&(this.store.dispatch((0,A.LP)({id:t})),this.store.dispatch((0,q.Bp)({pagination:f.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(D.Ic),e.KVO(v.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class we{}var O=l(47413),N=l(82798),L=l(70819),$=l(55364);const ue=o=>({"cursor-not-allowed":o});function Te(o,r){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Agregar cargo"),e.k0s())}function Me(o,r){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Editar cargo"),e.k0s())}function Ne(o,r){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Detalles del cargo "),e.k0s())}function Le(o,r){if(1&o&&(e.j41(0,"div",4)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"h6",11),e.EFF(6,"Nombre"),e.k0s(),e.j41(7,"span",12),e.EFF(8),e.k0s()(),e.j41(9,"div",13)(10,"h6",11),e.EFF(11,"Descripci\xf3n"),e.k0s(),e.j41(12,"span",12),e.EFF(13),e.k0s()()()()()()),2&o){const t=e.XpG();e.R7$(8),e.JRh(t.data.charge.name||"Sin nombre"),e.R7$(5),e.JRh(t.data.charge.description||"Sin descripci\xf3n")}}function Be(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del cargo es obligatorio. "),e.k0s())}function Ye(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.k0s())}function Xe(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El salario debe ser mayor que 0. "),e.k0s())}function Ue(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El salario debe contener solo n\xfameros. "),e.k0s())}function ze(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.k0s())}function Ve(o,r){if(1&o&&(e.j41(0,"div",5)(1,"div",7)(2,"form",14)(3,"mat-form-field",15)(4,"mat-label"),e.EFF(5,"Nombre"),e.k0s(),e.nrm(6,"input",16),e.DNE(7,Be,2,0,"mat-error")(8,Ye,2,0,"mat-error"),e.k0s(),e.j41(9,"mat-form-field",17)(10,"mat-label"),e.EFF(11,"Salario"),e.k0s(),e.nrm(12,"input",18),e.DNE(13,Xe,2,0,"mat-error")(14,Ue,2,0,"mat-error"),e.k0s(),e.j41(15,"mat-form-field",19)(16,"mat-label"),e.EFF(17,"Descripci\xf3n"),e.k0s(),e.nrm(18,"mat-icon",20)(19,"textarea",21),e.DNE(20,ze,2,0,"mat-error"),e.j41(21,"mat-hint",22),e.EFF(22),e.k0s()(),e.j41(23,"div",23)(24,"span",24),e.EFF(25,"Estado"),e.k0s(),e.j41(26,"mat-slide-toggle",25),e.EFF(27),e.k0s()()()()()),2&o){let t;const i=e.XpG();e.R7$(2),e.Y8G("formGroup",i.chargeForm)("autocomplete","off"),e.R7$(4),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.R7$(),e.vxM(7,i.chargeForm.get("name").hasError("required")?7:-1),e.R7$(),e.vxM(8,i.chargeForm.get("name").hasError("maxlength")||i.chargeForm.get("name").hasError("minlength")?8:-1),e.R7$(4),e.Y8G("formControlName","salary")("placeholder","Salario")("min",0)("max",99999),e.R7$(),e.vxM(13,i.chargeForm.get("salary").hasError("min")?13:-1),e.R7$(),e.vxM(14,i.chargeForm.get("salary").hasError("pattern")&&!i.chargeForm.get("salary").hasError("min")?14:-1),e.R7$(4),e.Y8G("svgIcon","mat_solid:subject"),e.R7$(),e.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.R7$(),e.vxM(20,i.chargeForm.get("description").hasError("minlength")?20:-1),e.R7$(2),e.SpI("",(null==(t=i.chargeForm.get("description").value)?null:t.length)||0,"/1000"),e.R7$(4),e.Y8G("formControlName","active")("color","primary"),e.R7$(),e.SpI(" ",!0===i.chargeForm.get("active").value?"Activo":"Inactivo"," ")}}function Pe(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateCharge())}),e.EFF(1," Actualizar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.eq3(3,ue,t.chargeForm.invalid))}}function Qe(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createCharge())}),e.EFF(1," Agregar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.eq3(3,ue,t.chargeForm.invalid))}}function qe(o,r){if(1&o&&(e.j41(0,"div",6),e.qex(1),e.j41(2,"button",26),e.EFF(3," Cancelar "),e.k0s(),e.bVm(),e.DNE(4,Pe,2,5,"button",27)(5,Qe,2,5,"button",27),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.vxM(4,"edit"===t.data.dialogMode?4:-1),e.R7$(),e.vxM(5,"add"===t.data.dialogMode?5:-1)}}let He=(()=>{class o{constructor(t,i,n,a,c,d,f){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=a,this._chargesService=c,this._snackBar=d,this.store=f,this.dialogMode="view",this._unsubscribeAll=new C.B}ngOnInit(){this.store.select(L.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.chargeForm=this._formBuilder.group({id:[""],active:[!0,[s.k0.required]],merchantId:[this.currentMerchant.id,[s.k0.required]],name:["",[s.k0.required,s.k0.minLength(3),s.k0.maxLength(255)]],description:["",[s.k0.minLength(5),s.k0.maxLength(1e3)]],salary:[0,[s.k0.min(0),s.k0.max(99999),$.t.onlyNumbersPattern()]]}),"edit"===this.data.dialogMode&&this.chargeForm.patchValue(this.data.charge)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){const t=this.chargeForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.createCharge(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateCharge(){const t=this.chargeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.updateCharge(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(y.Vh),e.rXU(y.CP),e.rXU(s.ok),e.rXU(S.G),e.rXU(H),e.rXU(G.UG),e.rXU(v.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["charges-detail"]],standalone:!0,features:[e.aNF],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex-auto"],[1,"w-full","overflow-hidden"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"grid","w-full","gap-4","pt-4","mt-4","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"col-span-1","mt-"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"w-full"],["matInput","","type","number",3,"formControlName","placeholder","min","max"],[1,"flex-auto","w-full","sm:col-span-2","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"click","color","disabled","ngClass"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.qex(1),e.j41(2,"div",1),e.DNE(3,Te,2,0,"h2",2)(4,Me,2,0,"h2",2)(5,Ne,2,0,"h2",2),e.k0s(),e.bVm(),e.j41(6,"div",3),e.qex(7),e.DNE(8,Le,14,2,"div",4),e.bVm(),e.qex(9),e.DNE(10,Ve,28,26,"div",5),e.bVm(),e.k0s(),e.DNE(11,qe,6,3,"div",6),e.k0s()),2&i&&(e.R7$(3),e.vxM(3,"add"===n.data.dialogMode?3:-1),e.R7$(),e.vxM(4,n.data.charge.id&&"edit"===n.data.dialogMode?4:-1),e.R7$(),e.vxM(5,n.data.charge.id&&"view"===n.data.dialogMode?5:-1),e.R7$(3),e.vxM(8,"view"===n.data.dialogMode?8:-1),e.R7$(2),e.vxM(10,10),e.R7$(),e.vxM(11,"view"!==n.data.dialogMode?11:-1))},dependencies:[u.Hl,u.$z,y.hM,y.tx,p.RG,p.rl,p.nJ,p.MV,p.TL,p.JW,h.m_,h.An,_.fS,_.fg,N.Ve,R.mV,R.sG,F.YU,s.X1,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.xh,s.tU,s.VZ,s.zX,s.j4,s.JD],encapsulation:2,changeDetection:0})}return o})();const Oe=()=>[""],We=o=>({"pointer-events-none":o}),Je=()=>[10,25,50,100];function Ze(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",40),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(),c=a.$implicit,d=a.$index,f=e.XpG(3);return e.Njj(f.updateChargeStatus(n,c,d))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function Ke(o,r){1&o&&e.nrm(0,"mat-spinner",36),2&o&&e.Y8G("diameter",20)("color","primary")}function et(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",31)(1,"div",32),e.EFF(2),e.k0s(),e.j41(3,"div",32),e.EFF(4),e.k0s(),e.j41(5,"div",33),e.EFF(6),e.nI1(7,"currency"),e.k0s(),e.j41(8,"div",34),e.DNE(9,Ze,1,2,"mat-slide-toggle",35)(10,Ke,1,2,"mat-spinner",36),e.k0s(),e.j41(11,"div",37)(12,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.editCharge(n))}),e.nrm(13,"mat-icon",39),e.k0s(),e.j41(14,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.deleteCharge(n.id))}),e.nrm(15,"mat-icon",39),e.k0s()()()}if(2&o){const t=r.$implicit,i=r.$index,n=e.XpG(3);e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",t.description," "),e.R7$(2),e.SpI(" ",e.i5U(7,7,t.salary,e.lJ4(10,Oe))," "),e.R7$(3),e.vxM(9,n.isLoading&&n.selectedSlide===i?-1:9),e.R7$(),e.vxM(10,n.isLoading&&n.selectedSlide===i?10:-1),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:pencil"),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function tt(o,r){if(1&o&&(e.j41(0,"div",24)(1,"div",25)(2,"div",26),e.EFF(3," Nombre "),e.k0s(),e.j41(4,"div",27),e.EFF(5," Descripci\xf3n "),e.k0s(),e.j41(6,"div",28)(7,"span"),e.EFF(8,"Salario"),e.k0s()(),e.j41(9,"div",29)(10,"span"),e.EFF(11,"Activo"),e.k0s()(),e.j41(12,"div",30),e.EFF(13," Acciones "),e.k0s()(),e.Z7z(14,et,16,11,"div",31,e.BUC().trackByFn,!0),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(4),e.Y8G("mat-sort-header","salary"),e.R7$(3),e.Y8G("mat-sort-header","active"),e.R7$(5),e.Dyx(t)}}function ot(o,r){if(1&o&&(e.j41(0,"div",41),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}function it(o,r){1&o&&e.DNE(0,tt,16,3,"div",24)(1,ot,2,1),2&o&&e.vxM(0,r.length>0?0:1)}function nt(o,r){if(1&o&&(e.j41(0,"div",41),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}function rt(o,r){if(1&o&&e.nrm(0,"mat-paginator",23),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,We,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,Je))("showFirstLastButtons",!0)}}let at=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new s.MJ(null),this._unsubscribeAll=new C.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._chargeService=(0,e.WQX)(H),this._dialog=(0,e.WQX)(y.bZ),this._fuseConfirmationService=(0,e.WQX)(S.G),this._snackBar=(0,e.WQX)(G.UG),this.store=(0,e.WQX)(v.il)}ngOnInit(){this.charges$=this.store.select(de),this.store.select(L.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(O.D).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,Y.B)(300),(0,X.Z)(null),(0,T.n)(t=>null!==t?(this.isLoading=!0,this._chargeService.findAllCharges(0,10,"name","desc",t)):(0,M.of)()),(0,g.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Q.h)(this._sort.sortChange,this._paginator.page).pipe((0,T.n)(()=>(this.isLoading=!0,this._chargeService.findAllCharges(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,g.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateChargeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._chargeService.updateChargeStatus({id:i.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createCharge(){this._openDialog(new we,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._chargeService.removeCharge(t,this.pagination.page,this.pagination.size,"active","desc").pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})}trackByFn(t,i){return i.id||t}_openDialog(t,i){this._dialog.open(He,{data:{charge:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["charges"]],viewQuery:function(i,n){if(1&i&&(e.GBs(j.iy,5),e.GBs(E.B4,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._paginator=a.first),e.mGM(a=e.lsd())&&(n._sort=a.first)}},standalone:!0,features:[e.aNF],decls:38,vars:14,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,""],[1,"flex","justify-end",3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"mr-4","text-right"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"change","checked","color"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Cargos"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Listado de Cargos "),e.k0s()()(),e.j41(24,"div",14)(25,"mat-form-field",15),e.nrm(26,"mat-icon",16)(27,"input",17),e.k0s(),e.j41(28,"button",18),e.bIt("click",function(){return n.createCharge()}),e.nrm(29,"mat-icon",19),e.j41(30,"span",20),e.EFF(31,"Nuevo"),e.k0s()()()(),e.j41(32,"div",21)(33,"div",22),e.DNE(34,it,2,1),e.nI1(35,"async"),e.DNE(36,nt,2,1)(37,rt,1,9,"mat-paginator",23),e.k0s()()()),2&i){let a;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(7),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Buscar cargos"),e.R7$(2),e.Y8G("svgIcon","mat_solid:add"),e.R7$(5),e.vxM(34,(a=e.bMT(35,12,n.charges$))?34:36,a),e.R7$(3),e.vxM(37,n.pagination.length>0?37:-1)}},dependencies:[F.Jj,F.oe,u.Hl,u.$z,p.RG,p.rl,p.JW,h.m_,h.An,_.fS,_.fg,j.Ou,j.iy,I.D6,I.LG,R.mV,R.sG,E.NQ,E.B4,E.aE,F.YU,s.X1,s.me,s.BC,s.l_,k.Wk],encapsulation:2,data:{animation:ie.X},changeDetection:0})}return o})();const he=o=>o.departments,ge=((0,v.Mz)(he,o=>o.department),(0,v.Mz)(he,o=>o.departments));var W=l(82765),U=l(25084),w=l(70172);const st=D.J1`
    mutation CreateDepartment($createDepartmentInput: CreateDepartmentInput!) {
        createDepartment(createDepartmentInput: $createDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId
                name,
                description,
                active
            }
        }
    }
`,lt=D.J1`
    query FindAllDepartments($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllDepartments(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,mt=D.J1`
    query FindAllActiveDepartments {
        findAllActiveDepartments {
            id,
            name
        }
    }
`,ct=D.J1`
    query FindDepartmentById($departmentId: String!) {
        findDepartmentById(id: $departmentId ) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,pt=D.J1`
    mutation UpdateDepartment($updateDepartmentInput: UpdateDepartmentInput!) {
        updateDepartment(updateDepartmentInput: $updateDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,dt=D.J1`
    mutation UpdateDepartmentStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateDepartmentStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,ut=D.J1`
    mutation RemoveDepartment($departmentId: String!) {
        removeDepartment(id: $departmentId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`;let J=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createDepartment(t){return this._apollo.mutate({mutation:st,variables:{createDepartmentInput:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.createDepartment:null),(0,x.M)(i=>{i&&(this.store.dispatch((0,w.VL)({department:i.department})),this.store.dispatch((0,w.zn)({department:i.department})))}))}findAllDepartments(t=0,i=10,n="name",a="desc",c=null){return this._apollo.query({query:lt,variables:{page:t,size:i,sort:n,order:a,search:c},errorPolicy:"all"}).pipe((0,g.T)(({data:d})=>d?d.findAllDepartments:null),(0,x.M)(d=>{d&&(this.store.dispatch((0,w.UG)({departments:d.departments})),this.store.dispatch((0,q.Bp)({pagination:d.pagination})))}))}findAllActiveDepartments(){return this._apollo.query({query:mt,errorPolicy:"all"}).pipe((0,g.T)(({data:t})=>t?t.findAllActiveDepartments:null),(0,x.M)(t=>{t&&this.store.dispatch((0,w.UG)({departments:t}))}))}findDepartmentById(t){return this._apollo.query({query:ct,variables:{departmentId:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.findDepartmentById:null),(0,x.M)(i=>{i&&this.store.dispatch((0,w.zn)({department:i.department}))}))}updateDepartment(t){return this._apollo.mutate({mutation:pt,variables:{updateDepartmentInput:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.updateDepartment:null),(0,x.M)(i=>{i&&(this.store.dispatch((0,w.cM)({department:i.department})),this.store.dispatch((0,w.zn)({department:i.department})))}))}updateDepartmentStatus(t){return this._apollo.mutate({mutation:dt,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,g.T)(({data:i})=>i?i.updateDepartmentStatus:null),(0,x.M)(i=>{i&&this.store.dispatch((0,w.Qh)(t))}))}removeDepartment(t,i=0,n=10,a="name",c="desc",d=null){return this._apollo.mutate({mutation:ut,variables:{departmentId:t,page:i,size:n,sort:a,order:c,search:d},errorPolicy:"all"}).pipe((0,g.T)(({data:f})=>f?f.removeDepartment:null),(0,x.M)(f=>{f&&(this.store.dispatch((0,w.XI)({id:t})),this.store.dispatch((0,q.Bp)({pagination:f.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(D.Ic),e.KVO(v.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const fe=o=>({"cursor-not-allowed":o});function ht(o,r){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Agregar departamento"),e.k0s())}function gt(o,r){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Editar departamento "),e.k0s())}function ft(o,r){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Detalles del departamento"),e.k0s())}function _t(o,r){if(1&o&&(e.j41(0,"div",4)(1,"div",7)(2,"div",8)(3,"div",9),e.qex(4),e.j41(5,"div",10)(6,"mat-label",11),e.EFF(7,"Nombre"),e.k0s(),e.j41(8,"div",12),e.EFF(9),e.k0s()(),e.bVm(),e.qex(10),e.j41(11,"div",10)(12,"mat-label",11),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"div",12),e.EFF(15),e.k0s()(),e.bVm(),e.k0s()()()()),2&o){const t=e.XpG();e.R7$(9),e.JRh(t.data.department.name),e.R7$(6),e.JRh(t.data.department.description)}}function vt(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del departamento es obligatorio. "),e.k0s())}function bt(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.k0s())}function Ft(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.k0s())}function Ct(o,r){if(1&o&&(e.j41(0,"div",5)(1,"div",7)(2,"form",13)(3,"div",14)(4,"mat-form-field",15)(5,"mat-label"),e.EFF(6,"Nombre"),e.k0s(),e.nrm(7,"input",16),e.DNE(8,vt,2,0,"mat-error")(9,bt,2,0,"mat-error"),e.k0s()(),e.j41(10,"div",17)(11,"mat-form-field",18)(12,"mat-label"),e.EFF(13,"Descripci\xf3n del Departamento"),e.k0s(),e.nrm(14,"mat-icon",19)(15,"textarea",20),e.DNE(16,Ft,2,0,"mat-error"),e.j41(17,"mat-hint",21),e.EFF(18),e.k0s()()(),e.j41(19,"div",22)(20,"span",23),e.EFF(21,"Estado"),e.k0s(),e.j41(22,"mat-slide-toggle",24),e.EFF(23),e.k0s()()()()()),2&o){let t;const i=e.XpG();e.R7$(2),e.Y8G("formGroup",i.departmentForm)("autocomplete","off"),e.R7$(5),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.R7$(),e.vxM(8,i.departmentForm.get("name").hasError("required")?8:-1),e.R7$(),e.vxM(9,i.departmentForm.get("name").hasError("maxlength")||i.departmentForm.get("name").hasError("minlength")?9:-1),e.R7$(5),e.Y8G("svgIcon","mat_solid:subject"),e.R7$(),e.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.R7$(),e.vxM(16,i.departmentForm.get("description").hasError("minlength")?16:-1),e.R7$(2),e.SpI("",(null==(t=i.departmentForm.get("description").value)?null:t.length)||0,"/1000"),e.R7$(4),e.Y8G("formControlName","active")("color","primary"),e.R7$(),e.SpI(" ",!0===i.departmentForm.get("active").value?"Activo":"Inactivo"," ")}}function yt(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateDepartment())}),e.EFF(1," Actualizar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.eq3(3,fe,t.departmentForm.invalid))}}function xt(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createDepartment())}),e.EFF(1," Agregar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.eq3(3,fe,t.departmentForm.invalid))}}function kt(o,r){if(1&o&&(e.j41(0,"div",6),e.qex(1),e.j41(2,"button",25),e.EFF(3," Cancelar "),e.k0s(),e.bVm(),e.DNE(4,yt,2,5,"button",26)(5,xt,2,5,"button",26),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.vxM(4,"edit"===t.dialogMode?4:-1),e.R7$(),e.vxM(5,"add"===t.dialogMode?5:-1)}}let Et=(()=>{class o{constructor(t,i,n,a,c,d,f){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=a,this._departmentsService=c,this._snackBar=d,this.store=f,this.dialogMode="view",this._unsubscribeAll=new C.B,this.dialogMode=t.dialogMode}ngOnInit(){this.store.select(L.Xb).pipe((0,m.Q)(this._unsubscribeAll)).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.departmentForm=this._formBuilder.group({id:[""],active:[!0],merchantId:[this.currentMerchant.id,[s.k0.required]],name:["",[s.k0.required,s.k0.minLength(3),s.k0.maxLength(255)]],description:["",[s.k0.minLength(5),s.k0.maxLength(1e3)]]}),"edit"===this.dialogMode&&this.departmentForm.patchValue(this.data.department)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){const t=this.departmentForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.createDepartment(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateDepartment(){const t=this.departmentForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.updateDepartment(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(y.Vh),e.rXU(y.CP),e.rXU(s.ok),e.rXU(S.G),e.rXU(J),e.rXU(G.UG),e.rXU(v.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["department-detail"]],standalone:!0,features:[e.aNF],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex-auto"],[1,"w-full","overflow-hidden"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"font-semibold","min-w-56"],[1,"leading-6"],[1,"flex","flex-col","w-full","pt-1","mt-4","border-t",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"click","color","disabled","ngClass"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.qex(1),e.j41(2,"div",1),e.DNE(3,ht,2,0,"h2",2)(4,gt,2,0,"h2",2)(5,ft,2,0,"h2",2),e.k0s(),e.bVm(),e.j41(6,"div",3),e.qex(7),e.DNE(8,_t,16,2,"div",4),e.bVm(),e.qex(9),e.DNE(10,Ct,24,20,"div",5),e.bVm(),e.k0s(),e.DNE(11,kt,6,3,"div",6),e.k0s()),2&i&&(e.R7$(3),e.vxM(3,"add"===n.dialogMode?3:-1),e.R7$(),e.vxM(4,n.data.department.id&&"edit"===n.dialogMode?4:-1),e.R7$(),e.vxM(5,n.data.department.id&&"view"===n.dialogMode?5:-1),e.R7$(3),e.vxM(8,"view"===n.dialogMode?8:-1),e.R7$(2),e.vxM(10,10),e.R7$(),e.vxM(11,"view"!==n.dialogMode?11:-1))},dependencies:[u.Hl,u.$z,W.g7,U.X6,y.hM,y.tx,p.RG,p.rl,p.nJ,p.MV,p.TL,p.JW,h.m_,h.An,_.fS,_.fg,N.Ve,R.mV,R.sG,F.YU,s.X1,s.qT,s.me,s.BC,s.cb,s.YS,s.xh,s.tU,s.j4,s.JD],encapsulation:2,changeDetection:0})}return o})();class Dt{}var Z=l(82341);const _e=()=>["Super Administrador"],Rt=o=>({"pointer-events-none":o}),jt=()=>[10,25,50,100];function $t(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"mat-form-field",19),e.nrm(2,"mat-icon",20)(3,"input",21),e.k0s(),e.j41(4,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createDepartment())}),e.nrm(5,"mat-icon",23),e.j41(6,"span",24),e.EFF(7,"Nuevo"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar departamentos"),e.R7$(2),e.Y8G("svgIcon","mat_solid:add")}}function It(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",39),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(),c=a.$implicit,d=a.$index,f=e.XpG(4);return e.Njj(f.updateDepartmentStatus(n,c,d))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function Gt(o,r){1&o&&e.nrm(0,"mat-spinner",35),2&o&&e.Y8G("diameter",20)("color","primary")}function St(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",31)(1,"div",32),e.EFF(2),e.k0s(),e.j41(3,"div",32),e.EFF(4),e.k0s(),e.j41(5,"div",33),e.DNE(6,It,1,2,"mat-slide-toggle",34)(7,Gt,1,2,"mat-spinner",35),e.k0s(),e.j41(8,"div",36)(9,"button",37),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(4);return e.Njj(a.editDepartment(n))}),e.nrm(10,"mat-icon",38),e.k0s(),e.j41(11,"button",37),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(4);return e.Njj(a.deleteDepartment(n))}),e.nrm(12,"mat-icon",38),e.k0s()()()}if(2&o){const t=r.$implicit,i=r.$index,n=e.XpG(4);e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",t.description," "),e.R7$(2),e.vxM(6,n.isLoading&&n.selectedSlide===i?-1:6),e.R7$(),e.vxM(7,n.isLoading&&n.selectedSlide===i?7:-1),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:pencil"),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function At(o,r){1&o&&e.Z7z(0,St,13,6,"div",31,e.BUC().trackByFn,!0),2&o&&e.Dyx(r)}function wt(o,r){if(1&o&&(e.j41(0,"div",25)(1,"div",26)(2,"div",27),e.EFF(3," Nombre "),e.k0s(),e.j41(4,"div",28),e.EFF(5," Descripci\xf3n "),e.k0s(),e.j41(6,"div",29)(7,"span"),e.EFF(8,"Activo"),e.k0s()(),e.j41(9,"div",30),e.EFF(10," Acciones "),e.k0s()(),e.DNE(11,At,2,0),e.nI1(12,"async"),e.k0s()),2&o){let t;const i=e.XpG(2);e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(4),e.Y8G("mat-sort-header","active"),e.R7$(5),e.vxM(11,(t=e.bMT(12,3,i.departments$))?11:-1,t)}}function Tt(o,r){if(1&o&&(e.j41(0,"div",41),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado departamentos!":"\xa1No se ha creado ning\xfan departamento a\xfan!","")}}function Mt(o,r){1&o&&e.DNE(0,Tt,2,1,"div",40),2&o&&e.Y8G("ngxPermissionsExcept",e.lJ4(1,_e))}function Nt(o,r){1&o&&e.DNE(0,wt,13,5,"div",25)(1,Mt,1,2),2&o&&e.vxM(0,r.length>0?0:1)}function Lt(o,r){if(1&o&&e.nrm(0,"mat-paginator",17),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,Rt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,jt))("showFirstLastButtons",!0)}}let Bt=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new s.MJ(null),this._unsubscribeAll=new C.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._fuseConfirmationService=(0,e.WQX)(S.G),this._departmentService=(0,e.WQX)(J),this._snackBar=(0,e.WQX)(G.UG),this._dialog=(0,e.WQX)(y.bZ),this.store=(0,e.WQX)(v.il)}ngOnInit(){this.departments$=this.store.select(ge),this.store.select(L.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(O.D).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,Y.B)(300),(0,X.Z)(null),(0,T.n)(t=>null!==t?(this.isLoading=!0,this._departmentService.findAllDepartments(0,10,"name","desc",t)):(0,M.of)()),(0,g.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Q.h)(this._sort.sortChange,this._paginator.page).pipe((0,T.n)(()=>(this.isLoading=!0,this._departmentService.findAllDepartments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,g.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateDepartmentStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._departmentService.updateDepartmentStatus({id:i.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createDepartment(){this._openDialog(new Dt,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._departmentService.removeDepartment(t.id,this.pagination.page,this.pagination.size,"active","desc").subscribe(a=>{this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}trackByFn(t,i){return i.id||t}_openDialog(t,i){this._dialog.open(Et,{data:{department:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["departments"]],viewQuery:function(i,n){if(1&i&&(e.GBs(j.iy,5),e.GBs(E.B4,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._paginator=a.first),e.mGM(a=e.lsd())&&(n._sort=a.first)}},standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"change","checked","color"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16 ",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Departamentos"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Departamentos "),e.k0s()()(),e.DNE(24,$t,8,6,"div",14),e.k0s(),e.j41(25,"div",15)(26,"div",16),e.DNE(27,Nt,2,1),e.nI1(28,"async"),e.DNE(29,Lt,1,9,"mat-paginator",17),e.k0s()()()),2&i){let a;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(6),e.Y8G("ngxPermissionsExcept",e.lJ4(9,_e)),e.R7$(3),e.vxM(27,(a=e.bMT(28,7,n.departments$))?27:-1,a),e.R7$(2),e.vxM(29,n.pagination.length>0?29:-1)}},dependencies:[F.Jj,u.Hl,u.$z,p.RG,p.rl,p.JW,h.m_,h.An,_.fS,_.fg,j.Ou,j.iy,I.D6,I.LG,R.mV,R.sG,E.NQ,E.B4,E.aE,F.YU,k.Wk,s.X1,s.me,s.BC,s.l_,Z.Ov,Z.f6],encapsulation:2,data:{animation:ie.X},changeDetection:0})}return o})();var B=l(67376),ne=l(29217),Yt=l(91401),z=l(9454),Xt=l(89654),re=l(11781),ae=l(84412),zt=(l(45312),l(21626));let ve=(()=>{class o{constructor(t){this._httpClient=t,this._scholarship=new ae.t(null),this._salaryFreqs=new ae.t(null),this._salaryMethods=new ae.t(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,g.T)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,x.M)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,g.T)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,x.M)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,g.T)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,x.M)(t=>{this._salaryMethods.next(t)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(zt.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var se=l(62590),K=l(90118),Vt=l(6124),be=l(55542),Fe=l(86600);const ee=o=>({"cursor-not-allowed":o}),Ce=o=>({"mt-6":o});function Pt(o,r){1&o&&(e.j41(0,"a",12),e.EFF(1,"Nuevo"),e.k0s())}function Qt(o,r){if(1&o&&(e.j41(0,"a",12),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.selectedEmployee.name)}}function qt(o,r){1&o&&e.EFF(0," Nuevo ")}function Ht(o,r){if(1&o&&e.EFF(0),2&o){const t=e.XpG();e.SpI(" ",t.selectedEmployee.name," ")}}function Ot(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function Wt(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}function Jt(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado es obligatorio. "),e.k0s())}function Zt(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function Kt(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado no debe contener n\xfameros. "),e.k0s())}function eo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado es obligatorio. "),e.k0s())}function to(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function oo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado no debe contener n\xfameros. "),e.k0s())}function io(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function no(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.k0s())}function ro(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe escoger el g\xe9nero "),e.k0s())}function ao(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.k0s())}function so(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.k0s())}function lo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.k0s())}function mo(o,r){if(1&o){const t=e.RV6();e.j41(0,"bank-account",87),e.bIt("remove",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.removeBankAccount(n))}),e.k0s()}if(2&o){const t=r.$implicit,i=r.$index,n=r.$index,a=r.$count,c=e.XpG();e.Y8G("bankAccountForm",t)("first",0===n)("last",n===a-1)("index",i)("currencies",c.currencies)}}function co(o,r){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Tel\xe9fonos"),e.k0s())}function po(o,r){if(1&o&&(e.j41(0,"mat-option",38)(1,"span",27),e.nrm(2,"span",92),e.j41(3,"span",93),e.EFF(4),e.k0s(),e.j41(5,"span",94),e.EFF(6),e.k0s()()()),2&o){const t=r.$implicit;e.Y8G("value",t.code),e.R7$(4),e.JRh(t.name),e.R7$(2),e.JRh(t.code)}}function uo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),e.k0s())}function ho(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.k0s())}function go(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El c\xf3digo sebe ser obligatorio. "),e.k0s())}function fo(o,r){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Etiqueta"),e.k0s())}function _o(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.k0s())}function vo(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",52)(1,"mat-form-field",88),e.DNE(2,co,2,0,"mat-label"),e.nrm(3,"input",89),e.j41(4,"mat-select",90)(5,"mat-select-trigger")(6,"span",27)(7,"span",91),e.EFF(8),e.k0s()()(),e.j41(9,"mat-option",38)(10,"span",27),e.nrm(11,"span",92),e.j41(12,"span",93),e.EFF(13),e.nI1(14,"titlecase"),e.k0s(),e.j41(15,"span",94),e.EFF(16),e.k0s()()(),e.Z7z(17,po,7,3,"mat-option",38,e.BUC().trackByFn,!0),e.k0s(),e.DNE(19,uo,2,0,"mat-error")(20,ho,2,0,"mat-error")(21,go,2,0,"mat-error"),e.k0s(),e.j41(22,"mat-form-field",95),e.DNE(23,fo,2,0,"mat-label"),e.nrm(24,"mat-icon",39)(25,"input",96),e.DNE(26,_o,2,0,"mat-error"),e.k0s(),e.qex(27),e.j41(28,"div",97)(29,"button",98),e.bIt("click",function(){const n=e.eBV(t).$index,a=e.XpG();return e.Njj(a.removePhoneNumberField(n))}),e.nrm(30,"mat-icon",48),e.k0s()(),e.bVm(),e.k0s()}if(2&o){const t=r.$implicit,i=r.$index,n=r.$index,a=e.XpG();e.R7$(2),e.vxM(2,0===n?2:-1),e.R7$(),e.Y8G("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),e.R7$(),e.Y8G("formControl",t.get("stateCode")),e.R7$(4),e.JRh(a.employeeForm.get("phoneNumbers").value[i].stateCode),e.R7$(),e.Y8G("value","+535"),e.R7$(4),e.JRh(e.bMT(14,23,"celular")),e.R7$(3),e.JRh("+535"),e.R7$(),e.Dyx(a.statesCodes),e.R7$(2),e.vxM(19,t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")?19:-1),e.R7$(),e.vxM(20,t.get("phoneNumber").hasError("pattern")?20:-1),e.R7$(),e.vxM(21,t.get("stateCode").hasError("required")?21:-1),e.R7$(2),e.vxM(23,0===n?23:-1),e.R7$(),e.Y8G("svgIcon","heroicons_solid:tag"),e.R7$(),e.Y8G("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.R7$(),e.vxM(26,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?26:-1),e.R7$(2),e.Y8G("ngClass",e.eq3(25,Ce,0===n)),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function bo(o,r){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Correos Electr\xf3nicos"),e.k0s())}function Fo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.k0s())}function Co(o,r){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Etiqueta"),e.k0s())}function yo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.k0s())}function xo(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",54)(1,"mat-form-field",88),e.DNE(2,bo,2,0,"mat-label"),e.nrm(3,"mat-icon",39)(4,"input",99),e.DNE(5,Fo,2,0,"mat-error"),e.k0s(),e.j41(6,"mat-form-field",95),e.DNE(7,Co,2,0,"mat-label"),e.nrm(8,"mat-icon",39)(9,"input",96),e.DNE(10,yo,2,0,"mat-error"),e.k0s(),e.qex(11),e.j41(12,"div",97)(13,"button",100),e.bIt("click",function(){const n=e.eBV(t).$index,a=e.XpG();return e.Njj(a.removeEmailField(n))}),e.nrm(14,"mat-icon",48),e.k0s()(),e.bVm(),e.k0s()}if(2&o){const t=r.$implicit,i=r.$index;e.R7$(2),e.vxM(2,0===i?2:-1),e.R7$(),e.Y8G("svgIcon","mat_solid:email"),e.R7$(),e.Y8G("formControl",t.get("email"))("spellcheck",!1),e.R7$(),e.vxM(5,t.get("email").hasError("email")?5:-1),e.R7$(2),e.vxM(7,0===i?7:-1),e.R7$(),e.Y8G("svgIcon","heroicons_solid:tag"),e.R7$(),e.Y8G("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.R7$(),e.vxM(10,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?10:-1),e.R7$(2),e.Y8G("ngClass",e.eq3(14,Ce,0===i)),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function ko(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el pa\xeds. "),e.k0s())}function Eo(o,r){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function Do(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar una provincia. "),e.k0s())}function Ro(o,r){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.city),e.R7$(),e.SpI(" ",t.city," ")}}function jo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un municipio. "),e.k0s())}function $o(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El c\xf3digo postal no presenta un formato v\xe1lido. "),e.k0s())}function Io(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n es obligatoria. "),e.k0s())}function Go(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.k0s())}function So(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La fecha de contrataci\xf3n es obligatoria. "),e.k0s())}function Ao(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un tipo de contrato. "),e.k0s())}function wo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.k0s())}function To(o,r){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function Mo(o,r){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function No(o,r){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name,"")}}function Lo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el cargo "),e.k0s())}function Bo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el nivel de escolaridad. "),e.k0s())}function Yo(o,r){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI("",t," ")}}function Xo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.k0s())}function Uo(o,r){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI("",t," ")}}function zo(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un modo pago "),e.k0s())}function Vo(o,r){if(1&o&&e.nrm(0,"img",79),2&o){const t=e.XpG();e.Y8G("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.B4B)}}function Po(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",101),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.removeImage())}),e.nrm(1,"mat-icon",102),e.k0s()}}function Qo(o,r){1&o&&(e.j41(0,"div",81),e.EFF(1," SIN IMAGEN "),e.k0s())}function qo(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"input",103,2),e.bIt("change",function(){e.eBV(t);const n=e.sdS(2),a=e.XpG();return e.Njj(a.uploadImage(n.files))}),e.k0s(),e.j41(3,"label",104)(4,"div",105),e.nrm(5,"mat-icon",48),e.j41(6,"span",49),e.EFF(7," Agregar imagen "),e.k0s()()()()}2&o&&(e.R7$(),e.Y8G("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.R7$(4),e.Y8G("svgIcon","heroicons_solid:plus-circle"))}function Ho(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function Oo(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}let Wo=(()=>{class o{constructor(t,i,n,a,c,d,f,_n,vn,bn,Fn){this._activatedRoute=t,this._changeDetectorRef=i,this._formBuilder=n,this._fuseConfirmationService=a,this._hrmService=c,this._employeesService=d,this._locationService=f,this._router=_n,this._imagesService=vn,this._snackBar=bn,this.store=Fn,this.cities=[],this.currencies=[],this.states=[],this.statesCodes=[],this.stateSelected="",this.windowsMode="new",this._unsubscribeAll=new C.B}ngOnInit(){this.store.select(L.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this.currentMerchant=i}),this.store.select(ne.x2).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this.selectedEmployee=i}),this.store.select(Yt.y$).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this.currencies=i}),this.locations$=this.store.select(re.BF),this.charges$=this.store.select(de),this.departments$=this.store.select(ge),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this._locationService.states$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this.states=i,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this.statesCodes=i,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({id:[null],merchantId:[this.currentMerchant.id,[s.k0.required]],active:[!0],name:[null,[s.k0.required,s.k0.minLength(3),s.k0.maxLength(255),$.t.onlyAlphabetsWithAccentPattern()]],lastname1:[null,[s.k0.required,s.k0.minLength(3),s.k0.maxLength(255),$.t.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[s.k0.minLength(3),s.k0.maxLength(255),$.t.onlyAlphabetsWithAccentPattern()]],gender:[null,[s.k0.required]],idNumber:[null,[s.k0.maxLength(11),s.k0.minLength(11),$.t.onlyNumbersPattern()]],bankAccounts:this._formBuilder.array([]),emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:[null,[s.k0.required,s.k0.minLength(3),s.k0.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[s.k0.required]],state:[null,[s.k0.required]],city:[null,[s.k0.required]],zip:[null,[s.k0.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],dateOfJoining:[null],typeOfContract:[null],contractEndDate:[null],contractTime:[0,[$.t.onlyNumbersPattern()]],departmentId:[null],chargeId:[null],scholarship:[null],locationId:[null],salaryFreq:[null],salaryMethod:[null],salaryLevel:[null],imageUrl:[null]}),this.employeeForm.get("state")?.valueChanges.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this._getCitiesByState(i),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({employeeId:i})=>{"new"!==i&&(this.windowsMode="edit"),this._fillEmployeeData()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addBankAccount(){const t=this._formBuilder.group({bank:[null,[s.k0.maxLength(255)]],beneficiary:[null,[s.k0.maxLength(255),$.t.onlyAlphabetsWithAccentPattern()]],no:[null,[s.k0.required,s.k0.minLength(16),s.k0.maxLength(24)]],currency:[null],cardType:[""]});this.employeeForm.get("bankAccounts").push(t),this._changeDetectorRef.markForCheck()}removeBankAccount(t){this.employeeForm.get("bankAccounts").removeAt(t),this._changeDetectorRef.markForCheck()}addEmailField(){const t=this._formBuilder.group({email:["",[s.k0.email,s.k0.maxLength(255)]],label:["",[s.k0.minLength(3),s.k0.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["+535",[s.k0.required]],phoneNumber:["",[s.k0.minLength(7),s.k0.maxLength(7),$.t.onlyNumbersPattern()]],label:["",[s.k0.minLength(3),s.k0.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){let t=this.employeeForm.getRawValue();delete t.id,t=B(t).omitBy(B.isNull).omitBy(B.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.createEmployee(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}updateEmployee(){let t=this.employeeForm.getRawValue();t=B(t).omitBy(B.isNull).value(),this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.updateEmployee(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}trackByFn(t,i){return i.id||t}uploadImage(t){if(!t.length)return;const n=t[0];n.size/1024/1024>1?this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}}):["image/jpeg","image/jpg","image/webp","image/png"].includes(n.type)&&this._imagesService.uploadImage("HRM",n).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{this.employeeForm.get("imageUrl").setValue(a.imageUrl),"edit"===this.windowsMode?this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:a.imageUrl}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(c=>{c&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:c.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())}):this._changeDetectorRef.markForCheck()},a=>{console.warn(a)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen de este empleado?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._imagesService.removeImage(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{this.employeeForm.get("imageUrl").setValue(null),"edit"===this.windowsMode&&this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:null}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(c=>{c&&this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})})}_fillEmployeeData(){"new"!==this.windowsMode&&(this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this.employeeForm.get("bankAccounts").clear(),this._setEmployeeDataOnForm(this.selectedEmployee),this._changeDetectorRef.markForCheck())}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this._getCitiesByState(t.state);const i=[];t.emails.length>0&&t.emails.forEach(c=>{i.push(this._formBuilder.group({email:[c.email,[s.k0.email,s.k0.maxLength(255)]],label:[c.label,[s.k0.minLength(3),s.k0.maxLength(255)]]}))}),i.forEach(c=>{this.employeeForm.get("emails").push(c)});const n=[];t.phoneNumbers.length>0&&t.phoneNumbers.forEach(c=>{n.push(this._formBuilder.group({stateCode:[c.stateCode,[s.k0.required]],phoneNumber:[c.phoneNumber,[s.k0.minLength(7),s.k0.maxLength(7),$.t.onlyNumbersPattern()]],label:[c.label,[s.k0.minLength(3),s.k0.maxLength(255)]]}))}),n.forEach(c=>{this.employeeForm.get("phoneNumbers").push(c)});const a=[];t.bankAccounts.length>0&&(t.bankAccounts.forEach(c=>{a.push(this._formBuilder.group({bank:[c.bank,[s.k0.maxLength(255)]],beneficiary:[c.beneficiary,[$.t.onlyAlphabetsWithAccentPattern()]],no:[c.no,[s.k0.required,s.k0.minLength(16),s.k0.maxLength(24)]],currency:[c.currency],cardType:[c.cardType]}))}),a.forEach(c=>{this.employeeForm.get("bankAccounts").push(c)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(k.nX),e.rXU(e.gRc),e.rXU(s.ok),e.rXU(S.G),e.rXU(ve),e.rXU(se.r),e.rXU(K.N),e.rXU(k.Ix),e.rXU(Vt.M),e.rXU(G.UG),e.rXU(v.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["employee-detail"]],standalone:!0,features:[e.aNF],decls:309,vars:119,consts:[["joinDatepicker",""],["birthdayDatepicker",""],["imageFileInput",""],["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-700"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","masculino"],["value","femenino"],[3,"value"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[1,"pt-8","pb-8","pl-4","pr-4","border-t-2"],[1,"flex","flex-col","space-y-6"],[3,"bankAccountForm","first","last","index","currencies"],[1,"inline-flex","items-center","px-4","py-2","mt-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"flex","flex-col","sm:flex-row"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",1,"mat-fuse-dense",3,"formControlName","max"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["matPrefix","",3,"for"],["matInput","",3,"matDatepicker","formControlName","placeholder"],[3,"formControlName"],["value","Determinado"],["value","Indeterminado"],["matInput","","type","number",3,"formControlName","min"],["matSuffix","",1,"ml-1"],["value","Primaria"],["value","Secundaria"],["value","TecnicoMedio"],["value","ObreroCalificado"],["value","MedioSuperior"],["value","Superior"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click","disabled","ngClass"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"remove","bankAccountForm","first","last","index","currencies"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white","icon-size-5"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"change","multiple","accept"],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div")(4,"div",6)(5,"div",7)(6,"a",8),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"mat-icon",9),e.j41(10,"a",10),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",7),e.nrm(13,"mat-icon",9),e.j41(14,"a",11),e.EFF(15,"Empleados"),e.k0s()(),e.j41(16,"div",7),e.nrm(17,"mat-icon",9),e.DNE(18,Pt,2,0,"a",12)(19,Qt,2,1,"a",12),e.j41(20,"a",13),e.EFF(21,"Nuevo"),e.k0s()()(),e.j41(22,"div",14)(23,"a",15),e.nrm(24,"mat-icon",9),e.j41(25,"span",16),e.EFF(26,"Regresar"),e.k0s()()()(),e.j41(27,"div",17)(28,"div",18),e.DNE(29,qt,1,0)(30,Ht,1,1),e.k0s()()(),e.j41(31,"div",19),e.DNE(32,Ot,4,5,"button",20)(33,Wt,4,5,"button",20),e.k0s()(),e.j41(34,"div",21)(35,"div",22)(36,"form",23)(37,"mat-accordion",24)(38,"mat-expansion-panel",25)(39,"mat-expansion-panel-header",26)(40,"mat-panel-title",27)(41,"div",28),e.EFF(42," Informaci\xf3n General "),e.k0s()()(),e.j41(43,"div",29)(44,"div",30)(45,"mat-form-field",31)(46,"mat-label"),e.EFF(47,"Nombre"),e.k0s(),e.nrm(48,"input",32),e.DNE(49,Jt,2,0,"mat-error")(50,Zt,2,0,"mat-error")(51,Kt,2,0,"mat-error"),e.k0s()(),e.j41(52,"div",30)(53,"mat-form-field",31)(54,"mat-label"),e.EFF(55,"Primer Apellido"),e.k0s(),e.nrm(56,"input",33),e.DNE(57,eo,2,0,"mat-error")(58,to,2,0,"mat-error")(59,oo,2,0,"mat-error"),e.k0s()(),e.j41(60,"div",30)(61,"mat-form-field",31)(62,"mat-label"),e.EFF(63,"Segundo Apellido"),e.k0s(),e.nrm(64,"input",34),e.DNE(65,io,2,0,"mat-error")(66,no,2,0,"mat-error"),e.k0s()(),e.j41(67,"div",30)(68,"mat-form-field",31)(69,"mat-label"),e.EFF(70,"G\xe9nero"),e.k0s(),e.j41(71,"mat-select",35)(72,"mat-option",36),e.EFF(73,"Masculino"),e.k0s(),e.j41(74,"mat-option",37),e.EFF(75,"Femenino"),e.k0s(),e.j41(76,"mat-option",38),e.EFF(77,"Otro"),e.k0s()(),e.DNE(78,ro,2,0,"mat-error"),e.k0s()(),e.j41(79,"div",30)(80,"mat-form-field",31)(81,"mat-label"),e.EFF(82,"N\xfamero de identidad"),e.k0s(),e.nrm(83,"mat-icon",39)(84,"input",40),e.DNE(85,ao,2,0,"mat-error")(86,so,2,0,"mat-error")(87,lo,2,0,"mat-error"),e.k0s()(),e.j41(88,"div",41)(89,"span",42),e.EFF(90,"Estado"),e.k0s(),e.j41(91,"mat-slide-toggle",43),e.EFF(92," Activo "),e.k0s()()()(),e.j41(93,"mat-expansion-panel")(94,"mat-expansion-panel-header",26)(95,"mat-panel-title",27)(96,"div",28),e.EFF(97," Cuentas de banco "),e.k0s()()(),e.j41(98,"div",44)(99,"div",45),e.Z7z(100,mo,1,5,"bank-account",46,n.trackByFn,!0),e.k0s(),e.j41(102,"div",47),e.bIt("click",function(){return e.eBV(a),e.Njj(n.addBankAccount())}),e.nrm(103,"mat-icon",48),e.j41(104,"span",49),e.EFF(105," Agregar Cuenta "),e.k0s()()()(),e.j41(106,"mat-expansion-panel")(107,"mat-expansion-panel-header",26)(108,"mat-panel-title",27)(109,"div",28),e.EFF(110," Informaci\xf3n de contacto "),e.k0s()()(),e.j41(111,"div",50)(112,"div",30)(113,"div",51),e.Z7z(114,vo,31,27,"div",52,n.trackByFn,!0),e.k0s(),e.j41(116,"div",53),e.bIt("click",function(){return e.eBV(a),e.Njj(n.addPhoneNumberField())}),e.nrm(117,"mat-icon",48),e.j41(118,"span",49),e.EFF(119,"Agregar tel\xe9fono"),e.k0s()()(),e.j41(120,"div",30)(121,"div",51),e.Z7z(122,xo,15,16,"div",54,n.trackByFn,!0),e.k0s(),e.j41(124,"div",53),e.bIt("click",function(){return e.eBV(a),e.Njj(n.addEmailField())}),e.nrm(125,"mat-icon",48),e.j41(126,"span",49),e.EFF(127,"Agregar correo electr\xf3nico"),e.k0s()()()()(),e.j41(128,"mat-expansion-panel",25)(129,"mat-expansion-panel-header",26)(130,"mat-panel-title",27)(131,"div",28),e.EFF(132," Domicilio "),e.k0s()()(),e.j41(133,"div",44)(134,"div",55)(135,"div",30)(136,"mat-form-field",31)(137,"mat-label"),e.EFF(138,"Pa\xeds"),e.k0s(),e.j41(139,"mat-select",35)(140,"mat-option",56),e.EFF(141,"Cuba"),e.k0s()(),e.nrm(142,"mat-icon",57),e.DNE(143,ko,2,0,"mat-error"),e.k0s()(),e.j41(144,"div",30)(145,"mat-form-field",31)(146,"mat-label"),e.EFF(147,"Provincia"),e.k0s(),e.j41(148,"mat-select",35),e.Z7z(149,Eo,2,2,"mat-option",38,n.trackByFn,!0),e.k0s(),e.nrm(151,"mat-icon",57),e.DNE(152,Do,2,0,"mat-error"),e.k0s()(),e.j41(153,"div",30)(154,"mat-form-field",31)(155,"mat-label"),e.EFF(156,"Municipio"),e.k0s(),e.j41(157,"mat-select",35),e.Z7z(158,Ro,2,2,"mat-option",38,n.trackByFn,!0),e.k0s(),e.nrm(160,"mat-icon",57),e.DNE(161,jo,2,0,"mat-error"),e.k0s()(),e.j41(162,"div",30)(163,"mat-form-field",58)(164,"mat-label"),e.EFF(165,"C\xf3digo Postal"),e.k0s(),e.nrm(166,"input",59),e.DNE(167,$o,2,0,"mat-error"),e.k0s()(),e.j41(168,"div",60)(169,"mat-form-field",61)(170,"mat-label"),e.EFF(171,"Direcci\xf3n"),e.k0s(),e.nrm(172,"mat-icon",39)(173,"textarea",62),e.DNE(174,Io,2,0,"mat-error")(175,Go,2,0,"mat-error"),e.k0s()()()()(),e.j41(176,"mat-expansion-panel")(177,"mat-expansion-panel-header",26)(178,"mat-panel-title",27)(179,"div",28),e.EFF(180," Datos de incorporaci\xf3n "),e.k0s()()(),e.j41(181,"div",29)(182,"div",30)(183,"mat-form-field",31)(184,"mat-label"),e.EFF(185,"Fecha de contrataci\xf3n"),e.k0s(),e.nrm(186,"mat-datepicker-toggle",63)(187,"mat-datepicker",null,0)(189,"input",64),e.DNE(190,So,2,0,"mat-error"),e.k0s()(),e.j41(191,"div",30)(192,"mat-form-field",31)(193,"mat-label"),e.EFF(194,"Tipo de contrato"),e.k0s(),e.j41(195,"mat-select",65)(196,"mat-option",66),e.EFF(197,"Determinado"),e.k0s(),e.j41(198,"mat-option",67),e.EFF(199,"Indeterminado"),e.k0s()(),e.DNE(200,Ao,2,0,"mat-error"),e.k0s()(),e.j41(201,"div",30)(202,"mat-form-field",31)(203,"mat-label"),e.EFF(204,"Fecha de cierre del contrato"),e.k0s(),e.nrm(205,"mat-datepicker-toggle",63)(206,"mat-datepicker",null,1)(208,"input",64),e.k0s()(),e.j41(209,"div",30)(210,"mat-form-field",31)(211,"mat-label"),e.EFF(212,"Tiempo del contrato"),e.k0s(),e.nrm(213,"mat-icon",39)(214,"input",68),e.j41(215,"span",69),e.EFF(216,"D\xedas"),e.k0s(),e.DNE(217,wo,2,0,"mat-error"),e.k0s()()()(),e.j41(218,"mat-expansion-panel")(219,"mat-expansion-panel-header",26)(220,"mat-panel-title",27)(221,"div",28),e.EFF(222," Departamento, cargo y escolaridad "),e.k0s()()(),e.j41(223,"div",44)(224,"div",55)(225,"div",30)(226,"mat-form-field",31)(227,"mat-label"),e.EFF(228,"Unidad Comercial"),e.k0s(),e.j41(229,"mat-select",65),e.Z7z(230,To,2,2,"mat-option",38,e.fX1),e.nI1(232,"async"),e.k0s()()(),e.j41(233,"div",30)(234,"mat-form-field",31)(235,"mat-label"),e.EFF(236,"Departamento"),e.k0s(),e.j41(237,"mat-select",65),e.Z7z(238,Mo,2,2,"mat-option",38,e.fX1),e.nI1(240,"async"),e.k0s()()(),e.j41(241,"div",30)(242,"mat-form-field",31)(243,"mat-label"),e.EFF(244,"Cargo"),e.k0s(),e.j41(245,"mat-select",65),e.Z7z(246,No,2,2,"mat-option",38,e.fX1),e.nI1(248,"async"),e.k0s(),e.DNE(249,Lo,2,0,"mat-error"),e.k0s()(),e.j41(250,"div",30)(251,"mat-form-field",31)(252,"mat-label"),e.EFF(253,"Escolaridad"),e.k0s(),e.j41(254,"mat-select",65)(255,"mat-option",70),e.EFF(256,"Primaria"),e.k0s(),e.j41(257,"mat-option",71),e.EFF(258,"Secundaria"),e.k0s(),e.j41(259,"mat-option",72),e.EFF(260,"T\xe9cnico Medio"),e.k0s(),e.j41(261,"mat-option",73),e.EFF(262,"Obrero Calificado"),e.k0s(),e.j41(263,"mat-option",74),e.EFF(264,"Medio Superior"),e.k0s(),e.j41(265,"mat-option",75),e.EFF(266,"Superior"),e.k0s()(),e.DNE(267,Bo,2,0,"mat-error"),e.k0s()()()()(),e.j41(268,"mat-expansion-panel")(269,"mat-expansion-panel-header",26)(270,"mat-panel-title",27)(271,"div",28),e.EFF(272," Salario "),e.k0s()()(),e.j41(273,"div",29)(274,"div",30)(275,"mat-form-field",31)(276,"mat-label"),e.EFF(277,"Frecuencia"),e.k0s(),e.j41(278,"mat-select",65),e.Z7z(279,Yo,2,2,"mat-option",38,e.fX1),e.nI1(281,"async"),e.k0s(),e.DNE(282,Xo,2,0,"mat-error"),e.k0s()(),e.j41(283,"div",30)(284,"mat-form-field",31)(285,"mat-label"),e.EFF(286,"Modo de pago"),e.k0s(),e.j41(287,"mat-select",65),e.Z7z(288,Uo,2,2,"mat-option",38,e.fX1),e.nI1(290,"async"),e.k0s(),e.DNE(291,zo,2,0,"mat-error"),e.k0s()()()(),e.j41(292,"mat-expansion-panel")(293,"mat-expansion-panel-header",26)(294,"mat-panel-title",27)(295,"div",28),e.EFF(296," Imagen "),e.k0s()()(),e.j41(297,"div",29)(298,"div",76)(299,"div",77)(300,"div",78),e.DNE(301,Vo,1,2,"img",79)(302,Po,2,0,"button",80)(303,Qo,2,0,"div",81),e.k0s()(),e.DNE(304,qo,8,3,"div"),e.k0s()()()()()()(),e.j41(305,"div",82)(306,"div",83),e.DNE(307,Ho,4,5,"button",20)(308,Oo,4,5,"button",20),e.k0s()()()}if(2&i){const a=e.sdS(188),c=e.sdS(207);e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(),e.vxM(18,"new"===n.windowsMode?18:-1),e.R7$(),e.vxM(19,"new"!==n.windowsMode?19:-1),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(5),e.vxM(29,"new"===n.windowsMode?29:-1),e.R7$(),e.vxM(30,"new"!==n.windowsMode?30:-1),e.R7$(2),e.vxM(32,"new"===n.windowsMode?32:-1),e.R7$(),e.vxM(33,"new"!==n.windowsMode?33:-1),e.R7$(3),e.Y8G("formGroup",n.employeeForm)("autocomplete","off"),e.R7$(2),e.Y8G("expanded",!0),e.R7$(),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.R7$(),e.vxM(49,n.employeeForm.get("name").hasError("required")?49:-1),e.R7$(),e.vxM(50,n.employeeForm.get("name").hasError("maxlength")||n.employeeForm.get("name").hasError("minlength")?50:-1),e.R7$(),e.vxM(51,n.employeeForm.get("name").hasError("pattern")?51:-1),e.R7$(5),e.Y8G("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.R7$(),e.vxM(57,n.employeeForm.get("lastname1").hasError("required")?57:-1),e.R7$(),e.vxM(58,n.employeeForm.get("lastname1").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?58:-1),e.R7$(),e.vxM(59,n.employeeForm.get("lastname1").hasError("pattern")?59:-1),e.R7$(5),e.Y8G("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.R7$(),e.vxM(65,n.employeeForm.get("lastname2").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?65:-1),e.R7$(),e.vxM(66,n.employeeForm.get("lastname2").hasError("pattern")?66:-1),e.R7$(5),e.Y8G("formControlName","gender"),e.R7$(5),e.Y8G("value","otro"),e.R7$(2),e.vxM(78,n.employeeForm.get("gender").hasError("required")?78:-1),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:identification"),e.R7$(),e.Y8G("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.R7$(),e.vxM(85,n.employeeForm.get("idNumber").hasError("required")?85:-1),e.R7$(),e.vxM(86,n.employeeForm.get("idNumber").hasError("maxlength")||n.employeeForm.get("idNumber").hasError("minlength")?86:-1),e.R7$(),e.vxM(87,n.employeeForm.get("idNumber").hasError("pattern")?87:-1),e.R7$(4),e.Y8G("color","primary")("formControlName","active"),e.R7$(3),e.Y8G("collapsedHeight","56px"),e.R7$(6),e.Dyx(n.employeeForm.get("bankAccounts").controls),e.R7$(3),e.Y8G("svgIcon","mat_solid:add_circle"),e.R7$(4),e.Y8G("collapsedHeight","56px"),e.R7$(7),e.Dyx(n.employeeForm.get("phoneNumbers").controls),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:plus-circle"),e.R7$(5),e.Dyx(n.employeeForm.get("emails").controls),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:plus-circle"),e.R7$(3),e.Y8G("expanded",!0),e.R7$(),e.Y8G("collapsedHeight","56px"),e.R7$(10),e.Y8G("formControlName","country"),e.R7$(3),e.Y8G("svgIcon","mat_solid:public"),e.R7$(),e.vxM(143,n.employeeForm.get("country").hasError("required")?143:-1),e.R7$(5),e.Y8G("formControlName","state"),e.R7$(),e.Dyx(n.states),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:map"),e.R7$(),e.vxM(152,n.employeeForm.get("state").hasError("required")?152:-1),e.R7$(5),e.Y8G("formControlName","city"),e.R7$(),e.Dyx(n.cities),e.R7$(2),e.Y8G("svgIcon","mat_solid:location_on"),e.R7$(),e.vxM(161,n.employeeForm.get("city").hasError("required")?161:-1),e.R7$(5),e.Y8G("formControlName","zip")("max",99999),e.R7$(),e.vxM(167,n.employeeForm.get("zip").hasError("pattern")?167:-1),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:home"),e.R7$(),e.Y8G("formControlName","address")("minLength",3)("maxlength",255),e.R7$(),e.vxM(174,n.employeeForm.get("address").hasError("required")?174:-1),e.R7$(),e.vxM(175,n.employeeForm.get("address").hasError("maxlength")||n.employeeForm.get("address").hasError("minlength")?175:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("for",a),e.R7$(3),e.Y8G("matDatepicker",a)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.R7$(),e.vxM(190,n.employeeForm.get("dateOfJoining").hasError("required")?190:-1),e.R7$(5),e.Y8G("formControlName","typeOfContract"),e.R7$(5),e.vxM(200,n.employeeForm.get("typeOfContract").hasError("required")?200:-1),e.R7$(5),e.Y8G("for",c),e.R7$(3),e.Y8G("matDatepicker",c)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:clock"),e.R7$(),e.Y8G("formControlName","contractTime")("min",0),e.R7$(3),e.vxM(217,n.employeeForm.get("contractTime").hasError("pattern")?217:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(10),e.Y8G("formControlName","locationId"),e.R7$(),e.Dyx(e.bMT(232,109,n.locations$)),e.R7$(7),e.Y8G("formControlName","departmentId"),e.R7$(),e.Dyx(e.bMT(240,111,n.departments$)),e.R7$(7),e.Y8G("formControlName","chargeId"),e.R7$(),e.Dyx(e.bMT(248,113,n.charges$)),e.R7$(3),e.vxM(249,n.employeeForm.get("chargeId").hasError("required")?249:-1),e.R7$(5),e.Y8G("formControlName","scholarship"),e.R7$(13),e.vxM(267,n.employeeForm.get("scholarship").hasError("required")?267:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("formControlName","salaryFreq"),e.R7$(),e.Dyx(e.bMT(281,115,n.salaryFreqs$)),e.R7$(3),e.vxM(282,n.employeeForm.get("salaryFreq").hasError("required")?282:-1),e.R7$(5),e.Y8G("formControlName","salaryMethod"),e.R7$(),e.Dyx(e.bMT(290,117,n.salaryMethods$)),e.R7$(3),e.vxM(291,n.employeeForm.get("salaryMethod").hasError("required")?291:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(8),e.vxM(301,n.employeeForm.get("imageUrl").value?301:-1),e.R7$(),e.vxM(302,n.employeeForm.get("imageUrl").value?302:-1),e.R7$(),e.vxM(303,n.employeeForm.get("imageUrl").value?-1:303),e.R7$(),e.vxM(304,n.employeeForm.get("imageUrl").value?-1:304),e.R7$(3),e.vxM(307,"new"===n.windowsMode?307:-1),e.R7$(),e.vxM(308,"new"!==n.windowsMode?308:-1)}},dependencies:[F.Jj,Xt.n,u.Hl,u.$z,u.iY,u.$0,W.g7,U.X6,be.uv,U.Vh,U.bZ,U.bU,y.hM,z.MY,z.BS,z.GK,z.Z2,z.WN,p.RG,p.rl,p.nJ,p.TL,p.JW,p.yw,h.m_,h.An,_.fS,_.fg,N.Ve,N.VO,N.$2,Fe.wT,R.mV,R.sG,F.YU,s.X1,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.xh,s.tU,s.VZ,s.l_,s.j4,s.JD,k.Wk,F.PV],encapsulation:2,changeDetection:0})}return o})();var Jo=l(44312),Zo=l(87932);const Ko=o=>({"cursor-not-allowed":o});function ei(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correo electr\xf3nico es obligatorio. "),e.k0s())}function ti(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correo no posee un formato v\xe1lido. "),e.k0s())}function oi(o,r){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility")}function ii(o,r){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility-off")}function ni(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La contrase\xf1a es obligatoria. "),e.k0s())}function ri(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1,' La contrase\xf1a deber\xe1 tener entre 8 y 100 caracteres e incluir may\xfasculas, min\xfasculas n\xfameros y s\xedmbolos como: ! " ? $ % ^ &. '),e.k0s())}function ai(o,r){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility")}function si(o,r){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility-off")}function li(o,r){1&o&&(e.j41(0,"mat-error",14),e.EFF(1," La contrase\xf1a es obligatoria "),e.k0s())}function mi(o,r){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.employeeUserForm.get("pwd2").getError("mustMatch")," ")}}function ci(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.markRole(n.id,!n.checked))}),e.j41(1,"div",26),e.EFF(2),e.k0s()()}if(2&o){const t=e.XpG().$implicit;e.R7$(2),e.SpI(" ",t.description," ")}}function pi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"mat-checkbox",22),e.bIt("change",function(n){const a=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.markRole(a.id,n.checked))}),e.j41(2,"span",23),e.EFF(3),e.k0s()(),e.DNE(4,ci,3,1,"div",24),e.k0s()}if(2&o){const t=r.$implicit;e.R7$(),e.Y8G("color","primary")("color","primary")("checked",t.checked),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(),e.vxM(4,t.description?4:-1)}}let di=(()=>{class o{constructor(t){this.data=t,this.roles=[],this._changeDetectorRef=(0,e.WQX)(e.gRc),this._dialogRef=(0,e.WQX)(y.CP),this._formBuilder=(0,e.WQX)(s.ok),this._fuseConfirmationService=(0,e.WQX)(S.G),this._snackBar=(0,e.WQX)(G.UG),this._unsubscribeAll=new C.B,this._usersService=(0,e.WQX)(Zo.g),this._rolesService=(0,e.WQX)(Jo.W),this.store=(0,e.WQX)(v.il)}ngOnInit(){this._rolesService.findAllActiveRoles().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.roles=structuredClone(t),this._changeDetectorRef.markForCheck()}),this.employeeUserForm=this._formBuilder.group({employeeId:[this.data.employee.id,[s.k0.required]],email:[null,[s.k0.email,s.k0.required]],pwd:["",[s.k0.minLength(8),s.k0.maxLength(100),$.t.strongPasWordPattern()]],pwd2:[""],roleId:[null,[s.k0.required]]},{validators:$.t.mustMatch("pwd","pwd2")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createUser(){const t=this.employeeUserForm.getRawValue();delete t.pwd2,this._fuseConfirmationService.open({title:"Crear usuario",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._usersService.createUserFromEmployee(t).subscribe(({data:a})=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.createUserFromEmployee.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})}),this._changeDetectorRef.markForCheck()}markRole(t,i){for(const n of this.roles)n.id===t&&i?(n.checked=!0,this.employeeUserForm.get("roleId").setValue(n.id)):n.checked=!1;this.roles.some(n=>n.checked)||this.employeeUserForm.get("roleId").setValue(null),this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(y.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-employee-user-dialog"]],standalone:!0,features:[e.aNF],decls:43,vars:25,consts:[["passwordField1",""],["passwordField2",""],[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"w-full","px-8","pb-6","overflow-hidden","sm:flex-row","sm:items-start","sm:pb-8"],[1,"grid","w-full","grid-cols-1","gap-3","pt-6","mt-3","overflow-auto","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full","sm:col-span-2"],["matInput","","required","",3,"type","formControlName","placeholder"],[1,"w-full","col-span-1"],["type","password","placeholder","Contrase\xf1a","matInput","","required","",3,"formControlName","minlength","maxlength"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],["type","password","placeholder","Repita la contrase\xf1a","matInput","","required","",3,"formControlName"],[1,"pb-5"],[1,"col-span-1","sm:col-span-2","h-50"],[1,"font-semibold"],[1,"grid","w-full","grid-cols-2","gap-4","mt-3","overflow-auto"],[1,"relative","p-3","overflow-hidden","border","border-dashed","rounded-sm","cursor-pointer","border-primary-700","max-h-30"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"click","color","disabled","ngClass"],[1,"absolute","top-2.5","left-3",3,"change","color","checked"],[1,"font-medium","truncate"],[1,"h-full","mt-8"],[1,"h-full","mt-8",3,"click"],[1,"whitespace-pre-line","text-md","text-hint","line-clamp-3"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"h2",4),e.EFF(3,"Crear Usuario"),e.k0s()(),e.j41(4,"div",5)(5,"form",6)(6,"mat-form-field",7)(7,"mat-label"),e.EFF(8,"Correo electr\xf3nico"),e.k0s(),e.nrm(9,"input",8),e.DNE(10,ei,2,0,"mat-error")(11,ti,2,0,"mat-error"),e.k0s(),e.j41(12,"mat-form-field",9)(13,"mat-label"),e.EFF(14,"Contrase\xf1a"),e.k0s(),e.nrm(15,"input",10,0),e.j41(17,"button",11),e.bIt("click",function(){e.eBV(a);const d=e.sdS(16);return e.Njj(d.type="password"===d.type?"text":"password")}),e.DNE(18,oi,1,1,"mat-icon",12)(19,ii,1,1,"mat-icon",12),e.k0s(),e.DNE(20,ni,2,0,"mat-error")(21,ri,2,0,"mat-error"),e.k0s(),e.j41(22,"mat-form-field",9)(23,"mat-label"),e.EFF(24,"Confirmar contrase\xf1a"),e.k0s(),e.nrm(25,"input",13,1),e.j41(27,"button",11),e.bIt("click",function(){e.eBV(a);const d=e.sdS(26);return e.Njj(d.type="password"===d.type?"text":"password")}),e.DNE(28,ai,1,1,"mat-icon",12)(29,si,1,1,"mat-icon",12),e.k0s(),e.DNE(30,li,2,0,"mat-error",14)(31,mi,2,1,"mat-error"),e.k0s(),e.j41(32,"div",15)(33,"span",16),e.EFF(34,"Roles"),e.k0s(),e.j41(35,"div",17),e.Z7z(36,pi,5,5,"div",18,e.fX1),e.k0s()()()(),e.j41(38,"div",19)(39,"button",20),e.EFF(40," Cancelar "),e.k0s(),e.j41(41,"button",21),e.bIt("click",function(){return e.eBV(a),e.Njj(n.createUser())}),e.EFF(42," Aceptar "),e.k0s()()()}if(2&i){const a=e.sdS(16),c=e.sdS(26);e.R7$(5),e.Y8G("formGroup",n.employeeUserForm)("autocomplete","off"),e.R7$(4),e.Y8G("type","email")("formControlName","email")("placeholder","Correo electr\xf3nico"),e.R7$(),e.vxM(10,n.employeeUserForm.get("email").hasError("required")?10:-1),e.R7$(),e.vxM(11,n.employeeUserForm.get("email").hasError("email")?11:-1),e.R7$(4),e.Y8G("formControlName","pwd")("minlength",8)("maxlength",100),e.R7$(3),e.vxM(18,"password"===a.type?18:-1),e.R7$(),e.vxM(19,"text"===a.type?19:-1),e.R7$(),e.vxM(20,n.employeeUserForm.get("pwd").hasError("required")?20:-1),e.R7$(),e.vxM(21,n.employeeUserForm.get("pwd").hasError("pattern")||n.employeeUserForm.get("pwd").hasError("minlength")?21:-1),e.R7$(4),e.Y8G("formControlName","pwd2"),e.R7$(3),e.vxM(28,"password"===c.type?28:-1),e.R7$(),e.vxM(29,"text"===c.type?29:-1),e.R7$(),e.vxM(30,n.employeeUserForm.get("pwd2").hasError("required")?30:-1),e.R7$(),e.vxM(31,n.employeeUserForm.get("pwd2").hasError("mustMatch")?31:-1),e.R7$(5),e.Dyx(n.roles),e.R7$(3),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.Y8G("color","primary")("disabled",n.employeeUserForm.invalid)("ngClass",e.eq3(23,Ko,n.employeeUserForm.invalid))}},dependencies:[p.RG,p.rl,p.nJ,p.TL,p.yw,h.m_,h.An,_.fS,_.fg,u.Hl,u.$z,u.iY,s.X1,s.qT,s.me,s.BC,s.cb,s.YS,s.xh,s.tU,s.j4,s.JD,W.g7,W.So,y.hM,y.tx,F.YU],encapsulation:2})}return o})();const ye=()=>["Super Administrador"],ui=()=>["new"],hi=o=>[o],gi=o=>({"pointer-events-none":o}),fi=()=>[10,25,50,100];function _i(o,r){if(1&o&&(e.j41(0,"div",18)(1,"mat-form-field",19),e.nrm(2,"mat-icon",20)(3,"input",21),e.k0s(),e.j41(4,"button",22),e.nrm(5,"mat-icon",23),e.j41(6,"span",24),e.EFF(7,"Nuevo"),e.k0s()()()),2&o){const t=e.XpG();e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar empleados"),e.R7$(),e.Y8G("routerLink",e.lJ4(7,ui)),e.R7$(),e.Y8G("svgIcon","mat_solid:add")}}function vi(o,r){if(1&o&&e.nrm(0,"img",34),2&o){const t=e.XpG().$implicit;e.Y8G("alt","Foto")("src",t.imageUrl,e.B4B)}}function bi(o,r){1&o&&(e.j41(0,"div",35),e.EFF(1," SIN FOTO "),e.k0s())}function Fi(o,r){if(1&o&&(e.j41(0,"div",37),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.department.name," ")}}function Ci(o,r){1&o&&(e.j41(0,"div",38),e.EFF(1," No tiene asignado "),e.k0s())}function yi(o,r){if(1&o&&(e.j41(0,"div",32),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.charge.name," ")}}function xi(o,r){1&o&&(e.j41(0,"div",38),e.EFF(1," No tiene asignado "),e.k0s())}function ki(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",47),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(),c=a.$implicit,d=a.$index,f=e.XpG(4);return e.Njj(f.updateEmployeeStatus(n,c,d))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function Ei(o,r){1&o&&e.nrm(0,"mat-spinner",41),2&o&&e.Y8G("diameter",20)("color","primary")}function Di(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",31)(1,"div",32)(2,"div",33),e.DNE(3,vi,1,2,"img",34)(4,bi,2,0,"div",35),e.k0s()(),e.j41(5,"div",36),e.EFF(6),e.k0s(),e.j41(7,"div",36),e.EFF(8),e.k0s(),e.DNE(9,Fi,2,1,"div",37)(10,Ci,2,0,"div",38)(11,yi,2,1,"div",32)(12,xi,2,0,"div",38),e.j41(13,"div",39),e.DNE(14,ki,1,2,"mat-slide-toggle",40)(15,Ei,1,2,"mat-spinner",41),e.k0s(),e.j41(16,"div",42)(17,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(4);return e.Njj(a.createUser(n))}),e.nrm(18,"mat-icon",44),e.k0s(),e.j41(19,"button",45),e.nrm(20,"mat-icon",44),e.k0s(),e.j41(21,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(4);return e.Njj(a.deleteEmployee(n.id))}),e.nrm(22,"mat-icon",44),e.k0s()()()}if(2&o){const t=r.$implicit,i=r.$index,n=e.XpG(4);e.R7$(3),e.vxM(3,t.imageUrl?3:-1),e.R7$(),e.vxM(4,t.imageUrl?-1:4),e.R7$(2),e.SpI(" ",t.code," "),e.R7$(2),e.E5c(" ",t.name," ",t.lastname1," ",t.lastname2?t.lastname2:""," "),e.R7$(),e.vxM(9,t.department?9:-1),e.R7$(),e.vxM(10,t.department?-1:10),e.R7$(),e.vxM(11,t.charge?11:-1),e.R7$(),e.vxM(12,t.charge?-1:12),e.R7$(2),e.vxM(14,n.isLoading&&n.selectedSlide===i?-1:14),e.R7$(),e.vxM(15,n.isLoading&&n.selectedSlide===i?15:-1),e.R7$(3),e.Y8G("svgIcon","mat_solid:person_add"),e.R7$(),e.Y8G("routerLink",e.eq3(16,hi,t.id)),e.R7$(),e.Y8G("svgIcon","heroicons_solid:pencil"),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function Ri(o,r){1&o&&e.Z7z(0,Di,23,18,"div",31,e.BUC().trackByFn,!0),2&o&&e.Dyx(r)}function ji(o,r){if(1&o&&(e.j41(0,"div",25)(1,"div",26)(2,"div",27),e.EFF(3," Foto "),e.k0s(),e.j41(4,"div",28),e.EFF(5," C\xf3digo "),e.k0s(),e.j41(6,"div",28)(7,"span"),e.EFF(8," Nombre y Apellidos "),e.k0s()(),e.j41(9,"div"),e.EFF(10," Departamento "),e.k0s(),e.j41(11,"div"),e.EFF(12," Cargo "),e.k0s(),e.j41(13,"div",29)(14,"span"),e.EFF(15,"Activo"),e.k0s()(),e.j41(16,"div",30),e.EFF(17," Acciones "),e.k0s()(),e.DNE(18,Ri,2,0),e.nI1(19,"async"),e.k0s()),2&o){let t;const i=e.XpG(2);e.R7$(4),e.Y8G("mat-sort-header","code"),e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(7),e.Y8G("mat-sort-header","active"),e.R7$(5),e.vxM(18,(t=e.bMT(19,4,i.employees$))?18:-1,t)}}function $i(o,r){if(1&o&&(e.j41(0,"div",49),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!","")}}function Ii(o,r){1&o&&e.DNE(0,$i,2,1,"div",48),2&o&&e.Y8G("ngxPermissionsExcept",e.lJ4(1,ye))}function Gi(o,r){1&o&&e.DNE(0,ji,20,6,"div",25)(1,Ii,1,2),2&o&&e.vxM(0,r.length>0?0:1)}function Si(o,r){if(1&o&&e.nrm(0,"mat-paginator",17),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,gi,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,fi))("showFirstLastButtons",!0)}}let Ai=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new s.MJ(null),this._unsubscribeAll=new C.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._employeeService=(0,e.WQX)(se.r),this._fuseConfirmationService=(0,e.WQX)(S.G),this._snackBar=(0,e.WQX)(G.UG),this._dialog=(0,e.WQX)(y.bZ),this.store=(0,e.WQX)(v.il)}ngOnInit(){this.employees$=this.store.select(ne.OB),this.store.select(L.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(O.D).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,Y.B)(300),(0,X.Z)(null),(0,T.n)(t=>null!==t?(this.isLoading=!0,this._employeeService.findAllEmployees(0,10,"name","desc",t)):(0,M.of)()),(0,g.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Q.h)(this._sort.sortChange,this._paginator.page).pipe((0,T.n)(()=>(this.isLoading=!0,this._employeeService.findAllEmployees(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,g.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateEmployeeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._employeeService.updateEmployeeStatus({id:i.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._employeeService.removeEmployee(t,this.pagination.page,this.pagination.size,"name","desc").pipe((0,m.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())})})}createUser(t){this._dialog.open(di,{data:{employee:t},disableClose:!0,panelClass:"ath-dialog-panel"})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["employees"]],viewQuery:function(i,n){if(1&i&&(e.GBs(j.iy,5),e.GBs(E.B4,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._paginator=a.first),e.mGM(a=e.lsd())&&(n._sort=a.first)}},standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black/5","employees-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-10","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"truncate"],[1,""],[1,"text-red-700"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","","matTooltip","Crear Usuario",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[3,"change","checked","color"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Empleados"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Empleados "),e.k0s()()(),e.DNE(24,_i,8,8,"div",14),e.k0s(),e.j41(25,"div",15)(26,"div",16),e.DNE(27,Gi,2,1),e.nI1(28,"async"),e.DNE(29,Si,1,9,"mat-paginator",17),e.k0s()()()),2&i){let a;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(6),e.Y8G("ngxPermissionsExcept",e.lJ4(9,ye)),e.R7$(3),e.vxM(27,(a=e.bMT(28,7,n.employees$))?27:-1,a),e.R7$(2),e.vxM(29,n.pagination&&n.pagination.length>0?29:-1)}},dependencies:[h.m_,h.An,u.Hl,u.$z,j.Ou,j.iy,E.NQ,E.B4,E.aE,_.fS,_.fg,p.rl,p.JW,k.Wk,R.mV,R.sG,I.D6,I.LG,p.RG,F.Jj,F.YU,s.X1,s.me,s.BC,s.l_,Z.Ov,Z.f6],encapsulation:2,data:{animation:ie.X},changeDetection:0})}return o})();var wi=l(70980),xe=l(49098);class ke{}const Ti=()=>["new"],Mi=o=>({"pointer-events-none":o}),Ni=()=>[10,25,100],Li=o=>[o];function Bi(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",35),e.bIt("change",function(n){e.eBV(t);const a=e.XpG(),c=a.$implicit,d=a.$index,f=e.XpG(4);return e.Njj(f.updateLocationStatus(n,c,d))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function Yi(o,r){1&o&&e.nrm(0,"mat-spinner",30),2&o&&e.Y8G("diameter",20)("color","primary")}function Xi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",26)(1,"div",21),e.EFF(2),e.k0s(),e.j41(3,"div",27),e.EFF(4),e.k0s(),e.j41(5,"div",27),e.EFF(6),e.k0s(),e.j41(7,"div",24),e.EFF(8),e.k0s(),e.j41(9,"div",24),e.EFF(10),e.k0s(),e.j41(11,"div",24),e.EFF(12),e.k0s(),e.j41(13,"div",28),e.DNE(14,Bi,1,2,"mat-slide-toggle",29)(15,Yi,1,2,"mat-spinner",30),e.k0s(),e.j41(16,"div",31)(17,"button",32),e.nrm(18,"mat-icon",33),e.k0s(),e.j41(19,"button",34),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(4);return e.Njj(a.deleteLocation(n))}),e.nrm(20,"mat-icon",33),e.k0s()()()}if(2&o){const t=r.$implicit,i=r.$index,n=e.XpG(4);e.R7$(2),e.SpI(" ",i+1," "),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",null==t.manager?null:t.manager.fullname," "),e.R7$(2),e.SpI(" ",t.address," "),e.R7$(2),e.SpI(" ",t.state," "),e.R7$(2),e.SpI(" ",t.city," "),e.R7$(2),e.vxM(14,n.isLoading&&n.selectedSlide===i?-1:14),e.R7$(),e.vxM(15,n.isLoading&&n.selectedSlide===i?15:-1),e.R7$(2),e.Y8G("routerLink",e.eq3(11,Li,t.id)),e.R7$(),e.Y8G("svgIcon","mat_solid:edit"),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function Ui(o,r){1&o&&e.Z7z(0,Xi,21,13,"div",26,e.BUC().trackByFn,!0),2&o&&e.Dyx(r)}function zi(o,r){if(1&o&&(e.j41(0,"div",19)(1,"div",20),e.nrm(2,"div",21),e.j41(3,"div",22),e.EFF(4," Nombre "),e.k0s(),e.j41(5,"div",23),e.EFF(6," Responsable "),e.k0s(),e.j41(7,"div",24),e.EFF(8," Direcci\xf3n "),e.k0s(),e.j41(9,"div",24),e.EFF(10," Provincia "),e.k0s(),e.j41(11,"div",24),e.EFF(12," Municipio "),e.k0s(),e.j41(13,"div",24),e.EFF(14," Acciones "),e.k0s(),e.j41(15,"div",24),e.EFF(16," Estado "),e.k0s()(),e.DNE(17,Ui,2,0),e.nI1(18,"async"),e.nrm(19,"mat-paginator",25),e.k0s()),2&o){let t;const i=e.XpG(2);e.R7$(3),e.Y8G("mat-sort-header","name"),e.R7$(14),e.vxM(17,(t=e.bMT(18,8,i.locations$))?17:-1,t),e.R7$(2),e.Y8G("ngClass",e.eq3(10,Mi,i.isLoading))("length",i.pagination.length)("pageIndex",i.pagination.page)("pageSize",i.pagination.size)("pageSizeOptions",e.lJ4(12,Ni))("showFirstLastButtons",!0)}}function Vi(o,r){1&o&&(e.j41(0,"div",36),e.EFF(1," \xa1No hay ubicaciones registradas!"),e.k0s())}function Pi(o,r){1&o&&e.DNE(0,zi,20,13,"div",19)(1,Vi,2,0),2&o&&e.vxM(0,r.length>0?0:1)}let Qi=(()=>{class o{constructor(){this.location=new ke,this.locations$=(0,M.of)([]),this.isLoading=!1,this.searchInputControl=new s.MJ(null),this.selectedSlide=null,this._unsubscribeAll=new C.B,this._locationsService=(0,e.WQX)(xe.O),this._changeDetectorRef=(0,e.WQX)(e.gRc),this._fuseConfirmationService=(0,e.WQX)(S.G),this._snackBar=(0,e.WQX)(G.UG),this.store=(0,e.WQX)(v.il)}ngOnInit(){this.locations$=this.store.select(re.BF),this.store.select(O.D).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,Y.B)(300),(0,X.Z)(null),(0,T.n)(t=>null!==t?(this.isLoading=!0,this._locationsService.getLocations(0,10,"name","desc",t)):(0,M.of)()),(0,g.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"code",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Q.h)(this._sort.sortChange,this._paginator.page).pipe((0,T.n)(()=>(this.isLoading=!0,this._locationsService.getLocations(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,g.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteLocation(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la taller: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._locationsService.removeLocation(t.id).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.removeLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateLocationStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._locationsService.updateLocationStatus({id:i.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll),(0,wi.j)(()=>{this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})).subscribe(({data:a})=>{this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateLocationStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-locations"]],viewQuery:function(i,n){if(1&i&&(e.GBs(j.iy,5),e.GBs(E.B4,5)),2&i){let a;e.mGM(a=e.lsd())&&(n._paginator=a.first),e.mGM(a=e.lsd())&&(n._sort=a.first)}},standalone:!0,features:[e.aNF],decls:30,vars:13,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],["cdkScrollable","",1,"flex","flex-col","flex-auto","overflow-auto","sm:mb-18"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","locations-grid","md:px-8","text-md","text-primary-200","bg-gray-50","dark:bg-black/5"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,""],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","locations-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","items-center","justify-center","gap-1"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[3,"change","checked","color"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e.EFF(6,"Inicio"),e.k0s()(),e.j41(7,"div",5),e.nrm(8,"mat-icon",6),e.j41(9,"a",7),e.EFF(10,"Recursos Humanos"),e.k0s()(),e.j41(11,"div",5),e.nrm(12,"mat-icon",6),e.j41(13,"a",7),e.EFF(14,"Unidades Comerciales"),e.k0s()()(),e.j41(15,"div",8)(16,"h2",9),e.EFF(17," Unidades Comerciales "),e.k0s()()(),e.j41(18,"div",10)(19,"mat-form-field",11),e.nrm(20,"mat-icon",12)(21,"input",13),e.k0s(),e.j41(22,"button",14),e.nrm(23,"mat-icon",15),e.j41(24,"span",16),e.EFF(25,"Agregar"),e.k0s()()()(),e.j41(26,"div",17)(27,"div",18),e.DNE(28,Pi,2,1),e.nI1(29,"async"),e.k0s()()()),2&i){let a;e.R7$(8),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(7),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para buscar..."),e.R7$(),e.Y8G("routerLink",e.lJ4(12,Ti)),e.R7$(),e.Y8G("svgIcon","mat_solid:add"),e.R7$(5),e.vxM(28,(a=e.bMT(29,10,n.locations$))?28:-1,a)}},dependencies:[h.m_,h.An,s.X1,s.me,s.BC,s.l_,u.Hl,u.$z,j.Ou,j.iy,E.NQ,E.B4,E.aE,_.fS,_.fg,p.rl,p.JW,k.Wk,p.RG,F.Jj,F.YU,R.mV,R.sG,I.D6,I.LG],encapsulation:2,changeDetection:0})}return o})();var qi=l(31397),le=l(60850);const Ee=o=>({"cursor-not-allowed":o});function Hi(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createLocation())}),e.nrm(1,"mat-icon",35),e.j41(2,"span",36),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.locationForm.invalid)("ngClass",e.eq3(3,Ee,t.locationForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function Oi(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateLocation())}),e.nrm(1,"mat-icon",35),e.j41(2,"span",36),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.locationForm.invalid)("ngClass",e.eq3(3,Ee,t.locationForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}function Wi(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de la ubicaci\xf3n es obligatorio. "),e.k0s())}function Ji(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de la ubicaci\xf3n debe tener 250 caracteres. "),e.k0s())}function Zi(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-option",37),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.selectEmployee(n))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.fullname," ")}}function Ki(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el pa\xeds. "),e.k0s())}function en(o,r){if(1&o&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function tn(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar una provincia. "),e.k0s())}function on(o,r){if(1&o&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.city),e.R7$(),e.SpI(" ",t.city," ")}}function nn(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un municipio. "),e.k0s())}function rn(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n es obligatoria. "),e.k0s())}function an(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.k0s())}let sn=(()=>{class o{constructor(){this.cities=[],this.editMode=!1,this.employees$=(0,M.of)([]),this.isLoading=!1,this.isLoadingData=!0,this.locations$=(0,M.of)([]),this.searchEmployeeControl=new s.MJ(null),this.selectedLocation=new ke,this.states=[],this.employees=[],this.statesCodes=[],this.stateSelected="",this.selectedEmployeeName="",this._unsubscribeAll=new C.B,this._activatedRoute=(0,e.WQX)(k.nX),this._changeDetectorRef=(0,e.WQX)(e.gRc),this._formBuilder=(0,e.WQX)(s.ok),this._fuseConfirmationService=(0,e.WQX)(S.G),this._locationsService=(0,e.WQX)(xe.O),this._locationService=(0,e.WQX)(K.N),this._snackBar=(0,e.WQX)(G.UG),this._router=(0,e.WQX)(k.Ix),this.store=(0,e.WQX)(v.il),this._employeesService=(0,e.WQX)(se.r)}ngOnInit(){this.employees$=this.store.select(ne.OB),this.employees$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.employees=t,this._changeDetectorRef.markForCheck()}),this.employeesFiltered$=this.searchEmployeeControl.valueChanges.pipe((0,Y.B)(200),(0,X.Z)(null),(0,qi.Z)(t=>null!==t&&"string"==typeof t&&t!==this.selectedEmployeeName?this._employeesService.findActiveEmployees(t.trim()):this.employees$)),this._locationService.states$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.states=t,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.statesCodes=t,this._changeDetectorRef.markForCheck()}),this.locationForm=this._formBuilder.group({id:new s.MJ(null),managerId:new s.MJ(null,[s.k0.pattern(/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i),s.k0.maxLength(255)]),name:new s.MJ(null,[s.k0.required,s.k0.maxLength(250)]),address:new s.MJ(null,[s.k0.maxLength(250)]),city:new s.MJ(null,[s.k0.maxLength(250)]),state:new s.MJ(null,[s.k0.maxLength(250)]),country:new s.MJ("Cuba",[s.k0.maxLength(50)])}),this._activatedRoute.params.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({locationId:t})=>{"new"!==t&&(this.editMode=!0,this.store.select(re.UA).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{this.selectedLocation=i,this.isLoadingData=!1,this.locationForm.patchValue(i);const n=this.employees.find(a=>a.id===i.managerId);n&&this.searchEmployeeControl.setValue(n),null!==i.state&&this._getCitiesByState(i.state),this.isLoadingData=!1,this._changeDetectorRef.markForCheck()}))}),this.locationForm.get("state")?.valueChanges.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this._getCitiesByState(t),this.locationForm.get("city").enable(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createLocation(){const t=this.locationForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.createLocation(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({data:a})=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.createLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck(),this._router.navigateByUrl("/modules/hrm/locations"))}),this._changeDetectorRef.markForCheck()})}updateLocation(){let t=this.locationForm.getRawValue();t=(0,B.omit)(t,["code"]),this._fuseConfirmationService.open({title:"Actualizar ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.updateLocation(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/modules/hrm/locations")}),this._changeDetectorRef.markForCheck()})}selectEmployee(t){this.locationForm.get("managerId").setValue(t.id),this.selectedEmployeeName=t.name}displayFn(t){return t&&t.fullname?t.fullname:""}trackByFn(t,i){return i.id||t}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-location-details"]],standalone:!0,features:[e.aNF],decls:83,vars:40,consts:[["employeeAutocomplete","matAutocomplete"],["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto"],[1,"z-20","flex","flex-col","p-6","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],["routerLink","/modules/hmr/locations",1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","lg:mt-0","lg:ml-4"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"disabled","ngClass"],[1,"flex","flex-auto"],[1,"flex","flex-col","w-full","divide-y","divide-dashed",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","p-10"],[1,"flex","flex-col"],[1,"text-xl","font-semibold"],[1,"flex","flex-col","p-6","mt-5","border","shadow-md","sm:flex-row","bg-card","rounded-2xl"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-5","w-full"],[1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matInput","","type","text","maxlength","250","required","",3,"formControlName"],["appearance","fill",1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matPrefix","",3,"svgIcon"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder","required"],[3,"displayWith"],[3,"value"],["required","",3,"formControlName"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-textarea","sm:col-span-3"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click","disabled","ngClass"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[3,"click","value"]],template:function(i,n){if(1&i&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"div",4)(5,"div")(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",6),e.nrm(9,"mat-icon",7),e.j41(10,"a",8),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",6),e.nrm(13,"mat-icon",7),e.j41(14,"a",9),e.EFF(15,"Ubicaciones"),e.k0s()(),e.j41(16,"div",6),e.nrm(17,"mat-icon",7),e.j41(18,"a",8),e.EFF(19),e.k0s()()()(),e.j41(20,"div",10)(21,"h2",11),e.EFF(22),e.k0s()()(),e.j41(23,"div",12),e.DNE(24,Hi,4,5,"button",13)(25,Oi,4,5,"button",13),e.k0s()(),e.j41(26,"div",14)(27,"form",15)(28,"div",16)(29,"div",17)(30,"span",18),e.EFF(31,"Generales"),e.k0s(),e.j41(32,"span"),e.EFF(33,"Ingrese la informaci\xf3n necesaria para identificar la ubicaci\xf3n"),e.k0s()(),e.j41(34,"div",19)(35,"div",20)(36,"mat-form-field",21)(37,"mat-label"),e.EFF(38,"Nombre del establecimiento"),e.k0s(),e.nrm(39,"input",22),e.DNE(40,Wi,2,0,"mat-error")(41,Ji,2,0,"mat-error"),e.k0s(),e.j41(42,"mat-form-field",23)(43,"mat-label"),e.EFF(44,"Responsable"),e.k0s(),e.nrm(45,"mat-icon",24)(46,"input",25),e.j41(47,"mat-autocomplete",26,0),e.Z7z(49,Zi,2,2,"mat-option",27,e.fX1),e.nI1(51,"async"),e.k0s()(),e.j41(52,"mat-form-field",21)(53,"mat-label"),e.EFF(54,"Pa\xeds"),e.k0s(),e.j41(55,"mat-select",28)(56,"mat-option",29),e.EFF(57,"Cuba"),e.k0s()(),e.nrm(58,"mat-icon",30),e.DNE(59,Ki,2,0,"mat-error"),e.k0s(),e.j41(60,"mat-form-field",21)(61,"mat-label"),e.EFF(62,"Provincia"),e.k0s(),e.j41(63,"mat-select",28),e.Z7z(64,en,2,2,"mat-option",27,n.trackByFn,!0),e.k0s(),e.nrm(66,"mat-icon",30),e.DNE(67,tn,2,0,"mat-error"),e.k0s(),e.j41(68,"mat-form-field",21)(69,"mat-label"),e.EFF(70,"Municipio"),e.k0s(),e.j41(71,"mat-select",28),e.Z7z(72,on,2,2,"mat-option",27,n.trackByFn,!0),e.k0s(),e.nrm(74,"mat-icon",30),e.DNE(75,nn,2,0,"mat-error"),e.k0s(),e.j41(76,"mat-form-field",31)(77,"mat-label"),e.EFF(78,"Direcci\xf3n"),e.k0s(),e.nrm(79,"mat-icon",32)(80,"textarea",33),e.DNE(81,rn,2,0,"mat-error")(82,an,2,0,"mat-error"),e.k0s()()()()()()()),2&i){const a=e.sdS(48);e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(2),e.SpI(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.R7$(3),e.SpI(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.R7$(2),e.vxM(24,n.editMode?-1:24),e.R7$(),e.vxM(25,n.editMode?25:-1),e.R7$(2),e.Y8G("formGroup",n.locationForm)("autocomplete","off"),e.R7$(9),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","name"),e.R7$(),e.vxM(40,n.locationForm.get("name").hasError("required")?40:-1),e.R7$(),e.vxM(41,n.locationForm.get("name").hasError("minlength")?41:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",n.searchEmployeeControl)("matAutocomplete",a)("placeholder","Buscar empleado")("required",!1),e.R7$(),e.Y8G("displayWith",n.displayFn),e.R7$(2),e.Dyx(e.bMT(51,38,n.employeesFiltered$)),e.R7$(3),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","country"),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:globe"),e.R7$(),e.vxM(59,n.locationForm.get("country").hasError("required")?59:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","state"),e.R7$(),e.Dyx(n.states),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:map"),e.R7$(),e.vxM(67,n.locationForm.get("state").hasError("required")?67:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","city"),e.R7$(),e.Dyx(n.cities),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:location-marker"),e.R7$(),e.vxM(75,n.locationForm.get("city").hasError("required")?75:-1),e.R7$(4),e.Y8G("svgIcon","heroicons_solid:home"),e.R7$(),e.Y8G("formControlName","address")("minLength",3)("maxlength",255),e.R7$(),e.vxM(81,n.locationForm.get("address").hasError("required")?81:-1),e.R7$(),e.vxM(82,n.locationForm.get("address").hasError("maxlength")||n.locationForm.get("address").hasError("minlength")?82:-1)}},dependencies:[F.Jj,u.Hl,u.$z,p.RG,p.rl,p.nJ,p.TL,p.JW,h.m_,h.An,_.fS,_.fg,N.Ve,be.uv,N.VO,Fe.wT,R.mV,F.YU,s.X1,s.qT,s.me,s.BC,s.cb,s.YS,s.tU,s.l_,s.j4,s.JD,k.Wk,le.jL,le.$3,le.pN],encapsulation:2,changeDetection:0})}return o})();var te=l(99437);let ln=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllCharges().pipe((0,te.W)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(H),e.KVO(k.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),mn=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllActiveCharges().pipe((0,te.W)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(H),e.KVO(k.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),cn=(()=>{class o{constructor(t,i){this._departmentsService=t,this._router=i}resolve(t,i){return this._departmentsService.findAllDepartments().pipe((0,te.W)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(J),e.KVO(k.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),pn=(()=>{class o{constructor(t,i,n){this._departmentsService=t,this._router=i,this.store=n,this.store.select(L.Xb).subscribe(a=>{this.merchant=a})}resolve(t,i){return this.merchant?this._departmentsService.findAllActiveDepartments().pipe((0,te.W)(n=>this._router.navigateByUrl("/dashboard"))):null}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(J),e.KVO(k.Ix),e.KVO(v.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var me=l(34413),dn=l(23301),ce=l(24121),un=l(27468);const fn=[{path:"",component:P},{path:"charges",component:at,resolve:{charges:ln}},{path:"departments",component:Bt,resolve:{departments:cn}},{path:"employees",component:Ai,resolve:{employees:me.wf}},{path:"employees/:employeeId",component:Wo,resolve:{currencies:dn.p,hrm:(()=>{class o{constructor(t,i){this._hrmService=t,this._locationService=i}resolve(t,i){return(0,un.p)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(ve),e.KVO(K.N))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),employee:me.zA,charges:mn,departments:pn,locations:ce.FH}},{path:"locations",component:Qi,resolve:{locations:ce.$f}},{path:"locations/:locationId",component:sn,resolve:{employees:me.MI,locations:ce.y6,states:(()=>{class o{constructor(t){this._locationService=t}resolve(t,i){return this._locationService.getStates()}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(K.N))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]}}]);