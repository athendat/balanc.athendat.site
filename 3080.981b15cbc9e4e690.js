"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3080],{34413:(ie,B,l)=>{l.d(B,{MI:()=>r,wf:()=>k,zA:()=>y});var v=l(54438),X=l(18810),e=l(99437),b=l(62590),I=l(51188);let k=(()=>{class d{constructor(m,u){this._employeesService=m,this._router=u}resolve(m,u){return this._employeesService.findAllEmployees().pipe((0,e.W)(_=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(u){return new(u||d)(v.KVO(b.r),v.KVO(I.Ix))};static#t=this.\u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),y=(()=>{class d{constructor(m,u){this._employeesService=m,this._router=u}resolve(m,u){const _=m.params.employeeId;return"new"===_?null:this._employeesService.findEmployeeById(_).pipe((0,e.W)(R=>{const G=u.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(G),(0,X.$)(R)}))}static#e=this.\u0275fac=function(u){return new(u||d)(v.KVO(b.r),v.KVO(I.Ix))};static#t=this.\u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const r=(d,D)=>(0,v.WQX)(b.r).findActiveEmployees()},43080:(ie,B,l)=>{l.r(B),l.d(B,{default:()=>fn});var v=l(21413),X=l(10729),e=l(54438),b=l(59640);let I=(()=>{class o{constructor(t,i){this._changeDetectorRef=t,this.store=i,this._unsubscribeAll=new v.B}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(e.gRc),e.rXU(b.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["ath-hrm"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(i,n){1&i&&e.nrm(0,"ath-content-menu")},dependencies:[X.k],encapsulation:2,changeDetection:0})}return o})();var k=l(51188),y=l(60177),r=l(89417),d=l(88834),D=l(75351),m=l(32102),u=l(99213),_=l(59042),R=l(96695),G=l(9183),x=l(30450),T=l(95416),g=l(2042),f=l(7673),S=l(57786),p=l(56977),z=l(70152),w=l(99172),Y=l(25558),C=l(96354);const de=o=>o.charges,ue=((0,b.Mz)(de,o=>o.charge),(0,b.Mz)(de,o=>o.charges));var ne=l(87122),M=l(46601),E=l(94794),$=l(88141),L=l(9348),H=l(98216),j=l(73512);const Re=j.J1`
    mutation CreateCharge($createChargeInput: CreateChargeInput!) {
        createCharge(createChargeInput: $createChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active,
            }
        }
    }
`,$e=j.J1`
    query FindAllCharges($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllCharges(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,je=j.J1`
    query FindAllActiveCharges {
        findAllActiveCharges {
            id,
            name
        }
    }
`,Ie=j.J1`
    query FindChargeById($chargeId: String!) {
        findChargeById(id: $chargeId ) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,Ge=j.J1`
    mutation UpdateCharge($updateChargeInput: UpdateChargeInput!) {
        updateCharge(updateChargeInput: $updateChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,Se=j.J1`
    mutation UpdateChargeStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateChargeStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,Ae=j.J1`
    mutation RemoveCharge($id: String!) {
        removeCharge(id: $id) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`;let q=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createCharge(t){return this._apollo.mutate({mutation:Re,variables:{createChargeInput:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.createCharge:null),(0,$.M)(i=>{i&&(this.store.dispatch((0,L.Tn)({charge:i.charge})),this.store.dispatch((0,L.l1)({charge:i.charge})))}))}findAllCharges(t=0,i=10,n="name",s="desc",c=null){return this._apollo.query({query:$e,variables:{page:t,size:i,sort:n,order:s,search:c},errorPolicy:"all"}).pipe((0,C.T)(({data:h})=>h?h.findAllCharges:null),(0,$.M)(h=>{h&&(this.store.dispatch((0,L._k)({charges:h.charges})),this.store.dispatch((0,H.Bp)({pagination:h.pagination})))}))}findAllActiveCharges(){return this._apollo.query({query:je,errorPolicy:"all"}).pipe((0,C.T)(({data:t})=>t?t.findAllActiveCharges:null),(0,$.M)(t=>{t&&this.store.dispatch((0,L._k)({charges:t}))}))}findChargeById(t){return this._apollo.query({query:Ie,variables:{chargeId:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.findChargeById:null),(0,$.M)(i=>{i&&this.store.dispatch((0,L.l1)({charge:i.charge}))}))}updateCharge(t){return this._apollo.mutate({mutation:Ge,variables:{updateChargeInput:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.updateCharge:null),(0,$.M)(i=>{i&&(this.store.dispatch((0,L.C_)({charge:i.charge})),this.store.dispatch((0,L.l1)({charge:i.charge})))}))}updateChargeStatus(t){return this._apollo.mutate({mutation:Se,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.updateChargeStatus:null),(0,$.M)(i=>{i&&this.store.dispatch((0,L.sg)(t))}))}removeCharge(t,i=0,n=10,s="name",c="desc",h=null){return this._apollo.mutate({mutation:Ae,variables:{id:t,page:i,size:n,sort:s,order:c,search:h},errorPolicy:"all"}).pipe((0,C.T)(({data:F})=>F?F.removeCharge:null),(0,$.M)(F=>{F&&(this.store.dispatch((0,L.LP)({id:t})),this.store.dispatch((0,H.Bp)({pagination:F.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(j.Ic),e.KVO(b.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class Te{}var W=l(47413),U=l(82798),P=l(70819),A=l(55364);function we(o,a){1&o&&(e.j41(0,"h2",7),e.EFF(1,"Agregar cargo"),e.k0s())}function Me(o,a){1&o&&(e.j41(0,"h2",7),e.EFF(1,"Editar cargo"),e.k0s())}function Le(o,a){1&o&&(e.j41(0,"h2",7),e.EFF(1,"Detalles del cargo "),e.k0s())}function Ne(o,a){if(1&o&&(e.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e.EFF(6,"Nombre"),e.k0s(),e.j41(7,"span",14),e.EFF(8),e.k0s()(),e.j41(9,"div",15)(10,"h6",13),e.EFF(11,"Descripci\xf3n"),e.k0s(),e.j41(12,"span",14),e.EFF(13),e.k0s()()()()()()),2&o){const t=e.XpG();e.R7$(8),e.JRh(t.data.charge.name||"Sin nombre"),e.R7$(5),e.JRh(t.data.charge.description||"Sin descripci\xf3n")}}function Be(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del cargo es obligatorio. "),e.k0s())}function Ye(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.k0s())}function Xe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El salario debe ser mayor que 0. "),e.k0s())}function ze(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El salario debe contener solo n\xfameros. "),e.k0s())}function Ue(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.k0s())}function Pe(o,a){if(1&o&&(e.j41(0,"div",16)(1,"div",9)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Nombre"),e.k0s(),e.nrm(6,"input",19),e.DNE(7,Be,2,0,"mat-error")(8,Ye,2,0,"mat-error"),e.k0s(),e.j41(9,"mat-form-field",20)(10,"mat-label"),e.EFF(11,"Salario"),e.k0s(),e.nrm(12,"input",21),e.DNE(13,Xe,2,0,"mat-error")(14,ze,2,0,"mat-error"),e.k0s(),e.j41(15,"mat-form-field",22)(16,"mat-label"),e.EFF(17,"Descripci\xf3n"),e.k0s(),e.nrm(18,"mat-icon",23)(19,"textarea",24),e.DNE(20,Ue,2,0,"mat-error"),e.j41(21,"mat-hint",25),e.EFF(22),e.k0s()(),e.j41(23,"div",26)(24,"span",27),e.EFF(25,"Estado"),e.k0s(),e.j41(26,"mat-slide-toggle",28),e.EFF(27),e.k0s()()()()()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("formGroup",t.chargeForm)("autocomplete","off"),e.R7$(4),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.R7$(),e.vxM(7,t.chargeForm.get("name").hasError("required")?7:-1),e.R7$(),e.vxM(8,t.chargeForm.get("name").hasError("maxlength")||t.chargeForm.get("name").hasError("minlength")?8:-1),e.R7$(4),e.Y8G("formControlName","salary")("placeholder","Salario")("min",0)("max",99999),e.R7$(),e.vxM(13,t.chargeForm.get("salary").hasError("min")?13:-1),e.R7$(),e.vxM(14,t.chargeForm.get("salary").hasError("pattern")&&!t.chargeForm.get("salary").hasError("min")?14:-1),e.R7$(4),e.Y8G("svgIcon","mat_solid:subject"),e.R7$(),e.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.R7$(),e.vxM(20,t.chargeForm.get("description").hasError("minlength")?20:-1),e.R7$(2),e.SpI("",(null==t.chargeForm.get("description").value?null:t.chargeForm.get("description").value.length)||0,"/1000"),e.R7$(4),e.Y8G("formControlName","active")("color","primary"),e.R7$(),e.SpI(" ",!0===t.chargeForm.get("active").value?"Activo":"Inactivo"," ")}}const he=o=>({"cursor-not-allowed":o});function Ve(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateCharge())}),e.EFF(1," Actualizar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.eq3(3,he,t.chargeForm.invalid))}}function Oe(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createCharge())}),e.EFF(1," Agregar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.eq3(3,he,t.chargeForm.invalid))}}function Qe(o,a){if(1&o&&(e.j41(0,"div",29),e.qex(1),e.j41(2,"button",30),e.EFF(3," Cancelar "),e.k0s(),e.bVm(),e.DNE(4,Ve,2,5,"button",31)(5,Oe,2,5,"button",31),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.vxM(4,"edit"===t.data.dialogMode?4:-1),e.R7$(),e.vxM(5,"add"===t.data.dialogMode?5:-1)}}let He=(()=>{class o{constructor(t,i,n,s,c,h,F){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=s,this._chargesService=c,this._snackBar=h,this.store=F,this.dialogMode="view",this._unsubscribeAll=new v.B}ngOnInit(){this.store.select(P.Xb).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.chargeForm=this._formBuilder.group({id:[""],active:[!0,[r.k0.required]],merchantId:[this.currentMerchant.id,[r.k0.required]],name:["",[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255)]],description:["",[r.k0.minLength(5),r.k0.maxLength(1e3)]],salary:[0,[r.k0.min(0),r.k0.max(99999),A.t.onlyNumbersPattern()]]}),"edit"===this.data.dialogMode&&this.chargeForm.patchValue(this.data.charge)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){const t=this.chargeForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.createCharge(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateCharge(){const t=this.chargeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.updateCharge(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(D.Vh),e.rXU(D.CP),e.rXU(r.ok),e.rXU(M.G),e.rXU(q),e.rXU(T.UG),e.rXU(b.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["charges-detail"]],standalone:!0,features:[e.aNF],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"grid","w-full","gap-4","pt-4","mt-4","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"col-span-1","mt-"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"w-full"],["matInput","","type","number",3,"formControlName","placeholder","min","max"],[1,"flex-auto","w-full","sm:col-span-2","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.qex(1),e.j41(2,"div",1),e.DNE(3,we,2,0,"h2",2)(4,Me,2,0,"h2",2)(5,Le,2,0,"h2",2),e.k0s(),e.bVm(),e.j41(6,"div",3),e.qex(7),e.DNE(8,Ne,14,2,"div",4),e.bVm(),e.qex(9),e.DNE(10,Pe,28,26,"div",5),e.bVm(),e.k0s(),e.DNE(11,Qe,6,3,"div",6),e.k0s()),2&i&&(e.R7$(3),e.vxM(3,"add"===n.data.dialogMode?3:-1),e.R7$(),e.vxM(4,n.data.charge.id&&"edit"===n.data.dialogMode?4:-1),e.R7$(),e.vxM(5,n.data.charge.id&&"view"===n.data.dialogMode?5:-1),e.R7$(3),e.vxM(8,"view"===n.data.dialogMode?8:-1),e.R7$(2),e.vxM(10,10),e.R7$(),e.vxM(11,"view"!==n.data.dialogMode?11:-1))},dependencies:[d.Hl,d.$z,D.hM,D.tx,m.RG,m.rl,m.nJ,m.MV,m.TL,m.JW,u.m_,u.An,_.fS,_.fg,U.Ve,x.mV,x.sG,y.YU,r.X1,r.qT,r.me,r.Q0,r.BC,r.cb,r.YS,r.xh,r.tU,r.VZ,r.zX,r.j4,r.JD],encapsulation:2,changeDetection:0})}return o})();function qe(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",41),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(),c=s.$implicit,h=s.$index,F=e.XpG(3);return e.Njj(F.updateChargeStatus(n,c,h))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function We(o,a){1&o&&e.nrm(0,"mat-spinner",37),2&o&&e.Y8G("diameter",20)("color","primary")}const Je=()=>[""];function Ke(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",32)(1,"div",33),e.EFF(2),e.k0s(),e.j41(3,"div",33),e.EFF(4),e.k0s(),e.j41(5,"div",34),e.EFF(6),e.nI1(7,"currency"),e.k0s(),e.j41(8,"div",35),e.DNE(9,qe,1,2,"mat-slide-toggle",36)(10,We,1,2,"mat-spinner",37),e.k0s(),e.j41(11,"div",38)(12,"button",39),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG(3);return e.Njj(c.editCharge(s))}),e.nrm(13,"mat-icon",40),e.k0s(),e.j41(14,"button",39),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG(3);return e.Njj(c.deleteCharge(s.id))}),e.nrm(15,"mat-icon",40),e.k0s()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.XpG(3);e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",t.description," "),e.R7$(2),e.SpI(" ",e.i5U(7,7,t.salary,e.lJ4(10,Je))," "),e.R7$(3),e.vxM(9,n.isLoading&&n.selectedSlide===i?-1:9),e.R7$(),e.vxM(10,n.isLoading&&n.selectedSlide===i?10:-1),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:pencil"),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function Ze(o,a){if(1&o&&(e.j41(0,"div",25)(1,"div",26)(2,"div",27),e.EFF(3," Nombre "),e.k0s(),e.j41(4,"div",28),e.EFF(5," Descripci\xf3n "),e.k0s(),e.j41(6,"div",29)(7,"span"),e.EFF(8,"Salario"),e.k0s()(),e.j41(9,"div",30)(10,"span"),e.EFF(11,"Activo"),e.k0s()(),e.j41(12,"div",31),e.EFF(13," Acciones "),e.k0s()(),e.Z7z(14,Ke,16,11,"div",42,e.BUC().trackByFn),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(4),e.Y8G("mat-sort-header","salary"),e.R7$(3),e.Y8G("mat-sort-header","active"),e.R7$(5),e.Dyx(t)}}function et(o,a){if(1&o&&(e.j41(0,"div",43),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}function tt(o,a){1&o&&e.DNE(0,Ze,16,3,"div",24)(1,et,2,1),2&o&&e.vxM(0,a.length>0?0:1)}function ot(o,a){if(1&o&&(e.j41(0,"div",43),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}const it=o=>({"pointer-events-none":o}),nt=()=>[10,25,50,100];function at(o,a){if(1&o&&e.nrm(0,"mat-paginator",44),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,it,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,nt))("showFirstLastButtons",!0)}}let rt=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.MJ(null),this._unsubscribeAll=new v.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._chargeService=(0,e.WQX)(q),this._dialog=(0,e.WQX)(D.bZ),this._fuseConfirmationService=(0,e.WQX)(M.G),this._snackBar=(0,e.WQX)(T.UG),this.store=(0,e.WQX)(b.il)}ngOnInit(){this.charges$=this.store.select(ue),this.store.select(P.Xb).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(W.D).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,p.Q)(this._unsubscribeAll),(0,z.B)(300),(0,w.Z)(null),(0,Y.n)(t=>null!==t?(this.isLoading=!0,this._chargeService.findAllCharges(0,10,"name","desc",t)):(0,f.of)()),(0,C.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,S.h)(this._sort.sortChange,this._paginator.page).pipe((0,Y.n)(()=>(this.isLoading=!0,this._chargeService.findAllCharges(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,C.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateChargeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._chargeService.updateChargeStatus({id:i.id,active:t.checked}).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createCharge(){this._openDialog(new Te,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._chargeService.removeCharge(t,this.pagination.page,this.pagination.size,"active","desc").pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})}trackByFn(t,i){return i.id||t}_openDialog(t,i){this._dialog.open(He,{data:{charge:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["charges"]],viewQuery:function(i,n){if(1&i&&(e.GBs(R.iy,5),e.GBs(g.B4,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._paginator=s.first),e.mGM(s=e.lsd())&&(n._sort=s.first)}},standalone:!0,features:[e.aNF],decls:38,vars:14,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,""],[1,"flex","justify-end",3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"mr-4","text-right"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b md:px-8 charges-table"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Cargos"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Listado de Cargos "),e.k0s()()(),e.j41(24,"div",14)(25,"mat-form-field",15),e.nrm(26,"mat-icon",16)(27,"input",17),e.k0s(),e.j41(28,"button",18),e.bIt("click",function(){return n.createCharge()}),e.nrm(29,"mat-icon",19),e.j41(30,"span",20),e.EFF(31,"Nuevo"),e.k0s()()()(),e.j41(32,"div",21)(33,"div",22),e.DNE(34,tt,2,1),e.nI1(35,"async"),e.DNE(36,ot,2,1)(37,at,1,9,"mat-paginator",23),e.k0s()()()),2&i){let s;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(7),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Buscar cargos"),e.R7$(2),e.Y8G("svgIcon","mat_solid:add"),e.R7$(5),e.vxM(34,(s=e.bMT(35,12,n.charges$))?34:36,s),e.R7$(3),e.vxM(37,n.pagination.length>0?37:-1)}},dependencies:[y.Jj,y.oe,d.Hl,d.$z,m.RG,m.rl,m.JW,u.m_,u.An,_.fS,_.fg,R.Ou,R.iy,G.D6,G.LG,x.mV,x.sG,g.NQ,g.B4,g.aE,y.YU,r.X1,r.me,r.BC,r.l_,k.Wk],encapsulation:2,data:{animation:ne.X},changeDetection:0})}return o})();const ge=o=>o.departments,fe=((0,b.Mz)(ge,o=>o.department),(0,b.Mz)(ge,o=>o.departments));var J=l(82765),O=l(25084),N=l(70172);const st=j.J1`
    mutation CreateDepartment($createDepartmentInput: CreateDepartmentInput!) {
        createDepartment(createDepartmentInput: $createDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId
                name,
                description,
                active
            }
        }
    }
`,lt=j.J1`
    query FindAllDepartments($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllDepartments(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,ct=j.J1`
    query FindAllActiveDepartments {
        findAllActiveDepartments {
            id,
            name
        }
    }
`,mt=j.J1`
    query FindDepartmentById($departmentId: String!) {
        findDepartmentById(id: $departmentId ) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,pt=j.J1`
    mutation UpdateDepartment($updateDepartmentInput: UpdateDepartmentInput!) {
        updateDepartment(updateDepartmentInput: $updateDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,dt=j.J1`
    mutation UpdateDepartmentStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateDepartmentStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,ut=j.J1`
    mutation RemoveDepartment($departmentId: String!) {
        removeDepartment(id: $departmentId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`;let K=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createDepartment(t){return this._apollo.mutate({mutation:st,variables:{createDepartmentInput:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.createDepartment:null),(0,$.M)(i=>{i&&(this.store.dispatch((0,N.VL)({department:i.department})),this.store.dispatch((0,N.zn)({department:i.department})))}))}findAllDepartments(t=0,i=10,n="name",s="desc",c=null){return this._apollo.query({query:lt,variables:{page:t,size:i,sort:n,order:s,search:c},errorPolicy:"all"}).pipe((0,C.T)(({data:h})=>h?h.findAllDepartments:null),(0,$.M)(h=>{h&&(this.store.dispatch((0,N.UG)({departments:h.departments})),this.store.dispatch((0,H.Bp)({pagination:h.pagination})))}))}findAllActiveDepartments(){return this._apollo.query({query:ct,errorPolicy:"all"}).pipe((0,C.T)(({data:t})=>t?t.findAllActiveDepartments:null),(0,$.M)(t=>{t&&this.store.dispatch((0,N.UG)({departments:t}))}))}findDepartmentById(t){return this._apollo.query({query:mt,variables:{departmentId:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.findDepartmentById:null),(0,$.M)(i=>{i&&this.store.dispatch((0,N.zn)({department:i.department}))}))}updateDepartment(t){return this._apollo.mutate({mutation:pt,variables:{updateDepartmentInput:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.updateDepartment:null),(0,$.M)(i=>{i&&(this.store.dispatch((0,N.cM)({department:i.department})),this.store.dispatch((0,N.zn)({department:i.department})))}))}updateDepartmentStatus(t){return this._apollo.mutate({mutation:dt,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,C.T)(({data:i})=>i?i.updateDepartmentStatus:null),(0,$.M)(i=>{i&&this.store.dispatch((0,N.Qh)(t))}))}removeDepartment(t,i=0,n=10,s="name",c="desc",h=null){return this._apollo.mutate({mutation:ut,variables:{departmentId:t,page:i,size:n,sort:s,order:c,search:h},errorPolicy:"all"}).pipe((0,C.T)(({data:F})=>F?F.removeDepartment:null),(0,$.M)(F=>{F&&(this.store.dispatch((0,N.XI)({id:t})),this.store.dispatch((0,H.Bp)({pagination:F.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(j.Ic),e.KVO(b.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ht(o,a){1&o&&(e.j41(0,"h2",7),e.EFF(1,"Agregar departamento"),e.k0s())}function gt(o,a){1&o&&(e.j41(0,"h2",7),e.EFF(1,"Editar departamento "),e.k0s())}function ft(o,a){1&o&&(e.j41(0,"h2",7),e.EFF(1,"Detalles del departamento"),e.k0s())}function _t(o,a){if(1&o&&(e.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),e.qex(4),e.j41(5,"div",12)(6,"mat-label",13),e.EFF(7,"Nombre"),e.k0s(),e.j41(8,"div",14),e.EFF(9),e.k0s()(),e.bVm(),e.qex(10),e.j41(11,"div",12)(12,"mat-label",13),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"div",14),e.EFF(15),e.k0s()(),e.bVm(),e.k0s()()()()),2&o){const t=e.XpG();e.R7$(9),e.JRh(t.data.department.name),e.R7$(6),e.JRh(t.data.department.description)}}function vt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del departamento es obligatorio. "),e.k0s())}function bt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.k0s())}function Ct(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.k0s())}function Ft(o,a){if(1&o&&(e.j41(0,"div",15)(1,"div",9)(2,"form",16)(3,"div",17)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Nombre"),e.k0s(),e.nrm(7,"input",19),e.DNE(8,vt,2,0,"mat-error")(9,bt,2,0,"mat-error"),e.k0s()(),e.j41(10,"div",20)(11,"mat-form-field",21)(12,"mat-label"),e.EFF(13,"Descripci\xf3n del Departamento"),e.k0s(),e.nrm(14,"mat-icon",22)(15,"textarea",23),e.DNE(16,Ct,2,0,"mat-error"),e.j41(17,"mat-hint",24),e.EFF(18),e.k0s()()(),e.j41(19,"div",25)(20,"span",26),e.EFF(21,"Estado"),e.k0s(),e.j41(22,"mat-slide-toggle",27),e.EFF(23),e.k0s()()()()()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("formGroup",t.departmentForm)("autocomplete","off"),e.R7$(5),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.R7$(),e.vxM(8,t.departmentForm.get("name").hasError("required")?8:-1),e.R7$(),e.vxM(9,t.departmentForm.get("name").hasError("maxlength")||t.departmentForm.get("name").hasError("minlength")?9:-1),e.R7$(5),e.Y8G("svgIcon","mat_solid:subject"),e.R7$(),e.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.R7$(),e.vxM(16,t.departmentForm.get("description").hasError("minlength")?16:-1),e.R7$(2),e.SpI("",(null==t.departmentForm.get("description").value?null:t.departmentForm.get("description").value.length)||0,"/1000"),e.R7$(4),e.Y8G("formControlName","active")("color","primary"),e.R7$(),e.SpI(" ",!0===t.departmentForm.get("active").value?"Activo":"Inactivo"," ")}}const _e=o=>({"cursor-not-allowed":o});function yt(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateDepartment())}),e.EFF(1," Actualizar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.eq3(3,_e,t.departmentForm.invalid))}}function xt(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createDepartment())}),e.EFF(1," Agregar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.eq3(3,_e,t.departmentForm.invalid))}}function kt(o,a){if(1&o&&(e.j41(0,"div",28),e.qex(1),e.j41(2,"button",29),e.EFF(3," Cancelar "),e.k0s(),e.bVm(),e.DNE(4,yt,2,5,"button",30)(5,xt,2,5,"button",30),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.vxM(4,"edit"===t.dialogMode?4:-1),e.R7$(),e.vxM(5,"add"===t.dialogMode?5:-1)}}let Et=(()=>{class o{constructor(t,i,n,s,c,h,F){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=s,this._departmentsService=c,this._snackBar=h,this.store=F,this.dialogMode="view",this._unsubscribeAll=new v.B,this.dialogMode=t.dialogMode}ngOnInit(){this.store.select(P.Xb).pipe((0,p.Q)(this._unsubscribeAll)).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.departmentForm=this._formBuilder.group({id:[""],active:[!0],merchantId:[this.currentMerchant.id,[r.k0.required]],name:["",[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255)]],description:["",[r.k0.minLength(5),r.k0.maxLength(1e3)]]}),"edit"===this.dialogMode&&this.departmentForm.patchValue(this.data.department)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){const t=this.departmentForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.createDepartment(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateDepartment(){const t=this.departmentForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.updateDepartment(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(D.Vh),e.rXU(D.CP),e.rXU(r.ok),e.rXU(M.G),e.rXU(K),e.rXU(T.UG),e.rXU(b.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["department-detail"]],standalone:!0,features:[e.aNF],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"font-semibold","min-w-56"],[1,"leading-6"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","pt-1","mt-4","border-t",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.qex(1),e.j41(2,"div",1),e.DNE(3,ht,2,0,"h2",2)(4,gt,2,0,"h2",2)(5,ft,2,0,"h2",2),e.k0s(),e.bVm(),e.j41(6,"div",3),e.qex(7),e.DNE(8,_t,16,2,"div",4),e.bVm(),e.qex(9),e.DNE(10,Ft,24,20,"div",5),e.bVm(),e.k0s(),e.DNE(11,kt,6,3,"div",6),e.k0s()),2&i&&(e.R7$(3),e.vxM(3,"add"===n.dialogMode?3:-1),e.R7$(),e.vxM(4,n.data.department.id&&"edit"===n.dialogMode?4:-1),e.R7$(),e.vxM(5,n.data.department.id&&"view"===n.dialogMode?5:-1),e.R7$(3),e.vxM(8,"view"===n.dialogMode?8:-1),e.R7$(2),e.vxM(10,10),e.R7$(),e.vxM(11,"view"!==n.dialogMode?11:-1))},dependencies:[d.Hl,d.$z,J.g7,O.X6,D.hM,D.tx,m.RG,m.rl,m.nJ,m.MV,m.TL,m.JW,u.m_,u.An,_.fS,_.fg,U.Ve,x.mV,x.sG,y.YU,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.xh,r.tU,r.j4,r.JD],encapsulation:2,changeDetection:0})}return o})();class Dt{}var Z=l(82341);function Rt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"mat-form-field",19),e.nrm(2,"mat-icon",20)(3,"input",21),e.k0s(),e.j41(4,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createDepartment())}),e.nrm(5,"mat-icon",23),e.j41(6,"span",24),e.EFF(7,"Nuevo"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar departamentos"),e.R7$(2),e.Y8G("svgIcon","mat_solid:add")}}function $t(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",40),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(),c=s.$implicit,h=s.$index,F=e.XpG(4);return e.Njj(F.updateDepartmentStatus(n,c,h))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function jt(o,a){1&o&&e.nrm(0,"mat-spinner",36),2&o&&e.Y8G("diameter",20)("color","primary")}function It(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",32)(1,"div",33),e.EFF(2),e.k0s(),e.j41(3,"div",33),e.EFF(4),e.k0s(),e.j41(5,"div",34),e.DNE(6,$t,1,2,"mat-slide-toggle",35)(7,jt,1,2,"mat-spinner",36),e.k0s(),e.j41(8,"div",37)(9,"button",38),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG(4);return e.Njj(c.editDepartment(s))}),e.nrm(10,"mat-icon",39),e.k0s(),e.j41(11,"button",38),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG(4);return e.Njj(c.deleteDepartment(s))}),e.nrm(12,"mat-icon",39),e.k0s()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.XpG(4);e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",t.description," "),e.R7$(2),e.vxM(6,n.isLoading&&n.selectedSlide===i?-1:6),e.R7$(),e.vxM(7,n.isLoading&&n.selectedSlide===i?7:-1),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:pencil"),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function Gt(o,a){1&o&&e.Z7z(0,It,13,6,"div",41,e.BUC().trackByFn),2&o&&e.Dyx(a)}function St(o,a){if(1&o&&(e.j41(0,"div",26)(1,"div",27)(2,"div",28),e.EFF(3," Nombre "),e.k0s(),e.j41(4,"div",29),e.EFF(5," Descripci\xf3n "),e.k0s(),e.j41(6,"div",30)(7,"span"),e.EFF(8,"Activo"),e.k0s()(),e.j41(9,"div",31),e.EFF(10," Acciones "),e.k0s()(),e.DNE(11,Gt,2,0),e.nI1(12,"async"),e.k0s()),2&o){const t=e.XpG(2);let i;e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(4),e.Y8G("mat-sort-header","active"),e.R7$(5),e.vxM(11,(i=e.bMT(12,3,t.departments$))?11:-1,i)}}function At(o,a){if(1&o&&(e.j41(0,"div",43),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado departamentos!":"\xa1No se ha creado ning\xfan departamento a\xfan!","")}}const ve=()=>["Super Administrador"];function Tt(o,a){1&o&&e.DNE(0,At,2,1,"div",42),2&o&&e.Y8G("ngxPermissionsExcept",e.lJ4(1,ve))}function wt(o,a){1&o&&e.DNE(0,St,13,5,"div",25)(1,Tt,1,2),2&o&&e.vxM(0,a.length>0?0:1)}const Mt=o=>({"pointer-events-none":o}),Lt=()=>[10,25,50,100];function Nt(o,a){if(1&o&&e.nrm(0,"mat-paginator",44),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,Mt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,Lt))("showFirstLastButtons",!0)}}let Bt=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.MJ(null),this._unsubscribeAll=new v.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._fuseConfirmationService=(0,e.WQX)(M.G),this._departmentService=(0,e.WQX)(K),this._snackBar=(0,e.WQX)(T.UG),this._dialog=(0,e.WQX)(D.bZ),this.store=(0,e.WQX)(b.il)}ngOnInit(){this.departments$=this.store.select(fe),this.store.select(P.Xb).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(W.D).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,p.Q)(this._unsubscribeAll),(0,z.B)(300),(0,w.Z)(null),(0,Y.n)(t=>null!==t?(this.isLoading=!0,this._departmentService.findAllDepartments(0,10,"name","desc",t)):(0,f.of)()),(0,C.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,S.h)(this._sort.sortChange,this._paginator.page).pipe((0,Y.n)(()=>(this.isLoading=!0,this._departmentService.findAllDepartments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,C.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateDepartmentStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._departmentService.updateDepartmentStatus({id:i.id,active:t.checked}).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createDepartment(){this._openDialog(new Dt,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._departmentService.removeDepartment(t.id,this.pagination.page,this.pagination.size,"active","desc").subscribe(s=>{this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}trackByFn(t,i){return i.id||t}_openDialog(t,i){this._dialog.open(Et,{data:{department:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["departments"]],viewQuery:function(i,n){if(1&i&&(e.GBs(R.iy,5),e.GBs(g.B4,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._paginator=s.first),e.mGM(s=e.lsd())&&(n._sort=s.first)}},standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b departments-table md:px-8"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16 ",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Departamentos"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Departamentos "),e.k0s()()(),e.DNE(24,Rt,8,6,"div",14),e.k0s(),e.j41(25,"div",15)(26,"div",16),e.DNE(27,wt,2,1),e.nI1(28,"async"),e.DNE(29,Nt,1,9,"mat-paginator",17),e.k0s()()()),2&i){let s;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(6),e.Y8G("ngxPermissionsExcept",e.lJ4(9,ve)),e.R7$(3),e.vxM(27,(s=e.bMT(28,7,n.departments$))?27:-1,s),e.R7$(2),e.vxM(29,n.pagination.length>0?29:-1)}},dependencies:[y.Jj,d.Hl,d.$z,m.RG,m.rl,m.JW,u.m_,u.An,_.fS,_.fg,R.Ou,R.iy,G.D6,G.LG,x.mV,x.sG,g.NQ,g.B4,g.aE,y.YU,k.Wk,r.X1,r.me,r.BC,r.l_,Z.Ov,Z.f6],encapsulation:2,data:{animation:ne.X},changeDetection:0})}return o})();var V=l(67376),ae=l(29217),Yt=l(91401),Q=l(9454),Xt=l(89654),re=l(11781),se=l(84412),Ut=(l(45312),l(21626));let be=(()=>{class o{constructor(t){this._httpClient=t,this._scholarship=new se.t(null),this._salaryFreqs=new se.t(null),this._salaryMethods=new se.t(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,C.T)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,$.M)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,C.T)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,$.M)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,C.T)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,$.M)(t=>{this._salaryMethods.next(t)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(Ut.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var le=l(62590),ee=l(90118),Pt=l(6124),Ce=l(55542),Fe=l(86600);function Vt(o,a){1&o&&(e.j41(0,"a",80),e.EFF(1,"Nuevo"),e.k0s())}function Ot(o,a){if(1&o&&(e.j41(0,"a",80),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.selectedEmployee.name)}}function Qt(o,a){1&o&&e.EFF(0," Nuevo ")}function Ht(o,a){if(1&o&&e.EFF(0),2&o){const t=e.XpG();e.SpI(" ",t.selectedEmployee.name," ")}}const te=o=>({"cursor-not-allowed":o});function qt(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createEmployee())}),e.nrm(1,"mat-icon",82),e.j41(2,"span",83),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,te,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function Wt(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateEmployee())}),e.nrm(1,"mat-icon",82),e.j41(2,"span",83),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,te,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}function Jt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado es obligatorio. "),e.k0s())}function Kt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function Zt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado no debe contener n\xfameros. "),e.k0s())}function eo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado es obligatorio. "),e.k0s())}function to(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function oo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado no debe contener n\xfameros. "),e.k0s())}function io(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function no(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.k0s())}function ao(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe escoger el g\xe9nero "),e.k0s())}function ro(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.k0s())}function so(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.k0s())}function lo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.k0s())}function co(o,a){if(1&o){const t=e.RV6();e.j41(0,"bank-account",84),e.bIt("remove",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.removeBankAccount(n))}),e.k0s()}if(2&o){const t=a.$implicit,i=a.$index,n=a.$count,s=e.XpG();e.Y8G("bankAccountForm",t)("first",0===i)("last",i===n-1)("index",i)("currencies",s.currencies)}}function mo(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Tel\xe9fonos"),e.k0s())}function po(o,a){if(1&o&&(e.j41(0,"mat-option",35)(1,"span",24),e.nrm(2,"span",90),e.j41(3,"span",91),e.EFF(4),e.k0s(),e.j41(5,"span",92),e.EFF(6),e.k0s()()()),2&o){const t=a.$implicit;e.Y8G("value",t.code),e.R7$(4),e.JRh(t.name),e.R7$(2),e.JRh(t.code)}}function uo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),e.k0s())}function ho(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.k0s())}function go(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El c\xf3digo sebe ser obligatorio. "),e.k0s())}function fo(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Etiqueta"),e.k0s())}function _o(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.k0s())}const ye=o=>({"mt-6":o});function vo(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",85)(1,"mat-form-field",86),e.DNE(2,mo,2,0,"mat-label"),e.nrm(3,"input",87),e.j41(4,"mat-select",88)(5,"mat-select-trigger")(6,"span",24)(7,"span",89),e.EFF(8),e.k0s()()(),e.j41(9,"mat-option",35)(10,"span",24),e.nrm(11,"span",90),e.j41(12,"span",91),e.EFF(13),e.nI1(14,"titlecase"),e.k0s(),e.j41(15,"span",92),e.EFF(16),e.k0s()()(),e.Z7z(17,po,7,3,"mat-option",35,e.BUC().trackByFn),e.k0s(),e.DNE(19,uo,2,0,"mat-error")(20,ho,2,0,"mat-error")(21,go,2,0,"mat-error"),e.k0s(),e.j41(22,"mat-form-field",93),e.DNE(23,fo,2,0,"mat-label"),e.nrm(24,"mat-icon",36)(25,"input",94),e.DNE(26,_o,2,0,"mat-error"),e.k0s(),e.qex(27),e.j41(28,"div",95)(29,"button",96),e.bIt("click",function(){const s=e.eBV(t).$index,c=e.XpG();return e.Njj(c.removePhoneNumberField(s))}),e.nrm(30,"mat-icon",44),e.k0s()(),e.bVm(),e.k0s()}if(2&o){const t=a.$implicit,i=a.$index,n=e.XpG();e.R7$(2),e.vxM(2,0===i?2:-1),e.R7$(),e.Y8G("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),e.R7$(),e.Y8G("formControl",t.get("stateCode")),e.R7$(4),e.JRh(n.employeeForm.get("phoneNumbers").value[i].stateCode),e.R7$(),e.Y8G("value","+535"),e.R7$(4),e.JRh(e.bMT(14,23,"celular")),e.R7$(3),e.JRh("+535"),e.R7$(),e.Dyx(n.statesCodes),e.R7$(2),e.vxM(19,t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")?19:-1),e.R7$(),e.vxM(20,t.get("phoneNumber").hasError("pattern")?20:-1),e.R7$(),e.vxM(21,t.get("stateCode").hasError("required")?21:-1),e.R7$(2),e.vxM(23,0===i?23:-1),e.R7$(),e.Y8G("svgIcon","heroicons_solid:tag"),e.R7$(),e.Y8G("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.R7$(),e.vxM(26,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?26:-1),e.R7$(2),e.Y8G("ngClass",e.eq3(25,ye,0===i)),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function bo(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Correos Electr\xf3nicos"),e.k0s())}function Co(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.k0s())}function Fo(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Etiqueta"),e.k0s())}function yo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.k0s())}function xo(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",97)(1,"mat-form-field",86),e.DNE(2,bo,2,0,"mat-label"),e.nrm(3,"mat-icon",36)(4,"input",98),e.DNE(5,Co,2,0,"mat-error"),e.k0s(),e.j41(6,"mat-form-field",93),e.DNE(7,Fo,2,0,"mat-label"),e.nrm(8,"mat-icon",36)(9,"input",94),e.DNE(10,yo,2,0,"mat-error"),e.k0s(),e.qex(11),e.j41(12,"div",95)(13,"button",99),e.bIt("click",function(){const s=e.eBV(t).$index,c=e.XpG();return e.Njj(c.removeEmailField(s))}),e.nrm(14,"mat-icon",44),e.k0s()(),e.bVm(),e.k0s()}if(2&o){const t=a.$implicit,i=a.$index;e.R7$(2),e.vxM(2,0===i?2:-1),e.R7$(),e.Y8G("svgIcon","mat_solid:email"),e.R7$(),e.Y8G("formControl",t.get("email"))("spellcheck",!1),e.R7$(),e.vxM(5,t.get("email").hasError("email")?5:-1),e.R7$(2),e.vxM(7,0===i?7:-1),e.R7$(),e.Y8G("svgIcon","heroicons_solid:tag"),e.R7$(),e.Y8G("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.R7$(),e.vxM(10,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?10:-1),e.R7$(2),e.Y8G("ngClass",e.eq3(14,ye,0===i)),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function ko(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el pa\xeds. "),e.k0s())}function Eo(o,a){if(1&o&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function Do(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar una provincia. "),e.k0s())}function Ro(o,a){if(1&o&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.city),e.R7$(),e.SpI(" ",t.city," ")}}function $o(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un municipio. "),e.k0s())}function jo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El c\xf3digo postal no presenta un formato v\xe1lido. "),e.k0s())}function Io(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n es obligatoria. "),e.k0s())}function Go(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.k0s())}function So(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La fecha de contrataci\xf3n es obligatoria. "),e.k0s())}function Ao(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un tipo de contrato. "),e.k0s())}function To(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.k0s())}function wo(o,a){if(1&o&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function Mo(o,a){if(1&o&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function Lo(o,a){if(1&o&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name,"")}}function No(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el cargo "),e.k0s())}function Bo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el nivel de escolaridad. "),e.k0s())}function Yo(o,a){if(1&o&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI("",t," ")}}function Xo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.k0s())}function zo(o,a){if(1&o&&(e.j41(0,"mat-option",35),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI("",t," ")}}function Uo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un modo pago "),e.k0s())}function Po(o,a){if(1&o&&e.nrm(0,"img",75),2&o){const t=e.XpG();e.Y8G("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.B4B)}}function Vo(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",100),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.removeImage())}),e.nrm(1,"mat-icon",101),e.k0s()}}function Oo(o,a){1&o&&(e.j41(0,"div",102),e.EFF(1," SIN IMAGEN "),e.k0s())}function Qo(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"input",103,104),e.bIt("change",function(){e.eBV(t);const n=e.sdS(2),s=e.XpG();return e.Njj(s.uploadImage(n.files))}),e.k0s(),e.j41(3,"label",105)(4,"div",106),e.nrm(5,"mat-icon",44),e.j41(6,"span",45),e.EFF(7," Agregar imagen "),e.k0s()()()()}2&o&&(e.R7$(),e.Y8G("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.R7$(4),e.Y8G("svgIcon","heroicons_solid:plus-circle"))}function Ho(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createEmployee())}),e.nrm(1,"mat-icon",82),e.j41(2,"span",83),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,te,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function qo(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateEmployee())}),e.nrm(1,"mat-icon",82),e.j41(2,"span",83),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,te,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}let Wo=(()=>{class o{constructor(t,i,n,s,c,h,F,_n,vn,bn,Cn){this._activatedRoute=t,this._changeDetectorRef=i,this._formBuilder=n,this._fuseConfirmationService=s,this._hrmService=c,this._employeesService=h,this._locationService=F,this._router=_n,this._imagesService=vn,this._snackBar=bn,this.store=Cn,this.cities=[],this.currencies=[],this.states=[],this.statesCodes=[],this.stateSelected="",this.windowsMode="new",this._unsubscribeAll=new v.B}ngOnInit(){this.store.select(P.Xb).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this.currentMerchant=i}),this.store.select(ae.x2).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this.selectedEmployee=i}),this.store.select(Yt.y$).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this.currencies=i}),this.locations$=this.store.select(re.BF),this.charges$=this.store.select(ue),this.departments$=this.store.select(fe),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this._locationService.states$.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this.states=i,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this.statesCodes=i,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({id:[null],merchantId:[this.currentMerchant.id,[r.k0.required]],active:[!0],name:[null,[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255),A.t.onlyAlphabetsWithAccentPattern()]],lastname1:[null,[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255),A.t.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[r.k0.minLength(3),r.k0.maxLength(255),A.t.onlyAlphabetsWithAccentPattern()]],gender:[null,[r.k0.required]],idNumber:[null,[r.k0.maxLength(11),r.k0.minLength(11),A.t.onlyNumbersPattern()]],bankAccounts:this._formBuilder.array([]),emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:[null,[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[r.k0.required]],state:[null,[r.k0.required]],city:[null,[r.k0.required]],zip:[null,[r.k0.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],dateOfJoining:[null],typeOfContract:[null],contractEndDate:[null],contractTime:[0,[A.t.onlyNumbersPattern()]],departmentId:[null],chargeId:[null],scholarship:[null],locationId:[null],salaryFreq:[null],salaryMethod:[null],salaryLevel:[null],imageUrl:[null]}),this.employeeForm.get("state")?.valueChanges.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this._getCitiesByState(i),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(({employeeId:i})=>{"new"!==i&&(this.windowsMode="edit"),this._fillEmployeeData()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addBankAccount(){const t=this._formBuilder.group({bank:[null,[r.k0.maxLength(255)]],beneficiary:[null,[r.k0.maxLength(255),A.t.onlyAlphabetsWithAccentPattern()]],no:[null,[r.k0.required,r.k0.minLength(16),r.k0.maxLength(24)]],currency:[null],cardType:[""]});this.employeeForm.get("bankAccounts").push(t),this._changeDetectorRef.markForCheck()}removeBankAccount(t){this.employeeForm.get("bankAccounts").removeAt(t),this._changeDetectorRef.markForCheck()}addEmailField(){const t=this._formBuilder.group({email:["",[r.k0.email,r.k0.maxLength(255)]],label:["",[r.k0.minLength(3),r.k0.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["+535",[r.k0.required]],phoneNumber:["",[r.k0.minLength(7),r.k0.maxLength(7),A.t.onlyNumbersPattern()]],label:["",[r.k0.minLength(3),r.k0.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){let t=this.employeeForm.getRawValue();delete t.id,t=V(t).omitBy(V.isNull).omitBy(V.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.createEmployee(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}updateEmployee(){let t=this.employeeForm.getRawValue();t=V(t).omitBy(V.isNull).value(),this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.updateEmployee(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}trackByFn(t,i){return i.id||t}uploadImage(t){if(!t.length)return;const n=t[0];n.size/1024/1024>1?this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}}):["image/jpeg","image/jpg","image/webp","image/png"].includes(n.type)&&this._imagesService.uploadImage("HRM",n).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(s.imageUrl),"edit"===this.windowsMode?this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:s.imageUrl}).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(c=>{c&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:c.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())}):this._changeDetectorRef.markForCheck()},s=>{console.warn(s)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen de este empleado?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._imagesService.removeImage(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(null),"edit"===this.windowsMode&&this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:null}).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(c=>{c&&this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})})}_fillEmployeeData(){"new"!==this.windowsMode&&(this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this.employeeForm.get("bankAccounts").clear(),this._setEmployeeDataOnForm(this.selectedEmployee),this._changeDetectorRef.markForCheck())}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this._getCitiesByState(t.state);const i=[];t.emails.length>0&&t.emails.forEach(c=>{i.push(this._formBuilder.group({email:[c.email,[r.k0.email,r.k0.maxLength(255)]],label:[c.label,[r.k0.minLength(3),r.k0.maxLength(255)]]}))}),i.forEach(c=>{this.employeeForm.get("emails").push(c)});const n=[];t.phoneNumbers.length>0&&t.phoneNumbers.forEach(c=>{n.push(this._formBuilder.group({stateCode:[c.stateCode,[r.k0.required]],phoneNumber:[c.phoneNumber,[r.k0.minLength(7),r.k0.maxLength(7),A.t.onlyNumbersPattern()]],label:[c.label,[r.k0.minLength(3),r.k0.maxLength(255)]]}))}),n.forEach(c=>{this.employeeForm.get("phoneNumbers").push(c)});const s=[];t.bankAccounts.length>0&&(t.bankAccounts.forEach(c=>{s.push(this._formBuilder.group({bank:[c.bank,[r.k0.maxLength(255)]],beneficiary:[c.beneficiary,[A.t.onlyAlphabetsWithAccentPattern()]],no:[c.no,[r.k0.required,r.k0.minLength(16),r.k0.maxLength(24)]],currency:[c.currency],cardType:[c.cardType]}))}),s.forEach(c=>{this.employeeForm.get("bankAccounts").push(c)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(k.nX),e.rXU(e.gRc),e.rXU(r.ok),e.rXU(M.G),e.rXU(be),e.rXU(le.r),e.rXU(ee.N),e.rXU(k.Ix),e.rXU(Pt.M),e.rXU(T.UG),e.rXU(b.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["employee-detail"]],standalone:!0,features:[e.aNF],decls:309,vars:119,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],["class","ml-1 text-primary-700"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","masculino"],["value","femenino"],[3,"value"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[1,"pt-8","pb-8","pl-4","pr-4","border-t-2"],[1,"flex","flex-col","space-y-6"],[1,"inline-flex","items-center","px-4","py-2","mt-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",1,"mat-fuse-dense",3,"formControlName","max"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["matPrefix","",3,"for"],["joinDatepicker",""],["matInput","",3,"matDatepicker","formControlName","placeholder"],[3,"formControlName"],["value","Determinado"],["value","Indeterminado"],["birthdayDatepicker",""],["matInput","","type","number",3,"formControlName","min"],["matSuffix","",1,"ml-1"],["value","Primaria"],["value","Secundaria"],["value","TecnicoMedio"],["value","ObreroCalificado"],["value","MedioSuperior"],["value","Superior"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src"],["mat-mini-fab","","class","absolute p-5 transition-opacity ease-linear delay-200 rounded-full opacity-50 bg-primary-500 hover:opacity-100"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],[1,"ml-1","text-primary-700"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"bankAccountForm","first","last","index","currencies","remove"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white","icon-size-5"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"],[3,"bankAccountForm","first","last","index","currencies"],["class","relative flex flex-col sm:flex-row"],["class","flex flex-col sm:flex-row"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Empleados"),e.k0s()(),e.j41(16,"div",4),e.nrm(17,"mat-icon",6),e.DNE(18,Vt,2,0,"a",9)(19,Ot,2,1,"a",9),e.j41(20,"a",10),e.EFF(21,"Nuevo"),e.k0s()()(),e.j41(22,"div",11)(23,"a",12),e.nrm(24,"mat-icon",6),e.j41(25,"span",13),e.EFF(26,"Regresar"),e.k0s()()()(),e.j41(27,"div",14)(28,"div",15),e.DNE(29,Qt,1,0)(30,Ht,1,1),e.k0s()()(),e.j41(31,"div",16),e.DNE(32,qt,4,5,"button",17)(33,Wt,4,5,"button",17),e.k0s()(),e.j41(34,"div",18)(35,"div",19)(36,"form",20)(37,"mat-accordion",21)(38,"mat-expansion-panel",22)(39,"mat-expansion-panel-header",23)(40,"mat-panel-title",24)(41,"div",25),e.EFF(42," Informaci\xf3n General "),e.k0s()()(),e.j41(43,"div",26)(44,"div",27)(45,"mat-form-field",28)(46,"mat-label"),e.EFF(47,"Nombre"),e.k0s(),e.nrm(48,"input",29),e.DNE(49,Jt,2,0,"mat-error")(50,Kt,2,0,"mat-error")(51,Zt,2,0,"mat-error"),e.k0s()(),e.j41(52,"div",27)(53,"mat-form-field",28)(54,"mat-label"),e.EFF(55,"Primer Apellido"),e.k0s(),e.nrm(56,"input",30),e.DNE(57,eo,2,0,"mat-error")(58,to,2,0,"mat-error")(59,oo,2,0,"mat-error"),e.k0s()(),e.j41(60,"div",27)(61,"mat-form-field",28)(62,"mat-label"),e.EFF(63,"Segundo Apellido"),e.k0s(),e.nrm(64,"input",31),e.DNE(65,io,2,0,"mat-error")(66,no,2,0,"mat-error"),e.k0s()(),e.j41(67,"div",27)(68,"mat-form-field",28)(69,"mat-label"),e.EFF(70,"G\xe9nero"),e.k0s(),e.j41(71,"mat-select",32)(72,"mat-option",33),e.EFF(73,"Masculino"),e.k0s(),e.j41(74,"mat-option",34),e.EFF(75,"Femenino"),e.k0s(),e.j41(76,"mat-option",35),e.EFF(77,"Otro"),e.k0s()(),e.DNE(78,ao,2,0,"mat-error"),e.k0s()(),e.j41(79,"div",27)(80,"mat-form-field",28)(81,"mat-label"),e.EFF(82,"N\xfamero de identidad"),e.k0s(),e.nrm(83,"mat-icon",36)(84,"input",37),e.DNE(85,ro,2,0,"mat-error")(86,so,2,0,"mat-error")(87,lo,2,0,"mat-error"),e.k0s()(),e.j41(88,"div",38)(89,"span",39),e.EFF(90,"Estado"),e.k0s(),e.j41(91,"mat-slide-toggle",40),e.EFF(92," Activo "),e.k0s()()()(),e.j41(93,"mat-expansion-panel")(94,"mat-expansion-panel-header",23)(95,"mat-panel-title",24)(96,"div",25),e.EFF(97," Cuentas de banco "),e.k0s()()(),e.j41(98,"div",41)(99,"div",42),e.Z7z(100,co,1,5,"bank-account",107,n.trackByFn),e.k0s(),e.j41(102,"div",43),e.bIt("click",function(){return n.addBankAccount()}),e.nrm(103,"mat-icon",44),e.j41(104,"span",45),e.EFF(105," Agregar Cuenta "),e.k0s()()()(),e.j41(106,"mat-expansion-panel")(107,"mat-expansion-panel-header",23)(108,"mat-panel-title",24)(109,"div",25),e.EFF(110," Informaci\xf3n de contacto "),e.k0s()()(),e.j41(111,"div",46)(112,"div",27)(113,"div",47),e.Z7z(114,vo,31,27,"div",108,n.trackByFn),e.k0s(),e.j41(116,"div",48),e.bIt("click",function(){return n.addPhoneNumberField()}),e.nrm(117,"mat-icon",44),e.j41(118,"span",45),e.EFF(119,"Agregar tel\xe9fono"),e.k0s()()(),e.j41(120,"div",27)(121,"div",47),e.Z7z(122,xo,15,16,"div",109,n.trackByFn),e.k0s(),e.j41(124,"div",48),e.bIt("click",function(){return n.addEmailField()}),e.nrm(125,"mat-icon",44),e.j41(126,"span",45),e.EFF(127,"Agregar correo electr\xf3nico"),e.k0s()()()()(),e.j41(128,"mat-expansion-panel",22)(129,"mat-expansion-panel-header",23)(130,"mat-panel-title",24)(131,"div",25),e.EFF(132," Domicilio "),e.k0s()()(),e.j41(133,"div",41)(134,"div",49)(135,"div",27)(136,"mat-form-field",28)(137,"mat-label"),e.EFF(138,"Pa\xeds"),e.k0s(),e.j41(139,"mat-select",32)(140,"mat-option",50),e.EFF(141,"Cuba"),e.k0s()(),e.nrm(142,"mat-icon",51),e.DNE(143,ko,2,0,"mat-error"),e.k0s()(),e.j41(144,"div",27)(145,"mat-form-field",28)(146,"mat-label"),e.EFF(147,"Provincia"),e.k0s(),e.j41(148,"mat-select",32),e.Z7z(149,Eo,2,2,"mat-option",35,n.trackByFn),e.k0s(),e.nrm(151,"mat-icon",51),e.DNE(152,Do,2,0,"mat-error"),e.k0s()(),e.j41(153,"div",27)(154,"mat-form-field",28)(155,"mat-label"),e.EFF(156,"Municipio"),e.k0s(),e.j41(157,"mat-select",32),e.Z7z(158,Ro,2,2,"mat-option",35,n.trackByFn),e.k0s(),e.nrm(160,"mat-icon",51),e.DNE(161,$o,2,0,"mat-error"),e.k0s()(),e.j41(162,"div",27)(163,"mat-form-field",52)(164,"mat-label"),e.EFF(165,"C\xf3digo Postal"),e.k0s(),e.nrm(166,"input",53),e.DNE(167,jo,2,0,"mat-error"),e.k0s()(),e.j41(168,"div",54)(169,"mat-form-field",55)(170,"mat-label"),e.EFF(171,"Direcci\xf3n"),e.k0s(),e.nrm(172,"mat-icon",36)(173,"textarea",56),e.DNE(174,Io,2,0,"mat-error")(175,Go,2,0,"mat-error"),e.k0s()()()()(),e.j41(176,"mat-expansion-panel")(177,"mat-expansion-panel-header",23)(178,"mat-panel-title",24)(179,"div",25),e.EFF(180," Datos de incorporaci\xf3n "),e.k0s()()(),e.j41(181,"div",26)(182,"div",27)(183,"mat-form-field",28)(184,"mat-label"),e.EFF(185,"Fecha de contrataci\xf3n"),e.k0s(),e.nrm(186,"mat-datepicker-toggle",57)(187,"mat-datepicker",null,58)(189,"input",59),e.DNE(190,So,2,0,"mat-error"),e.k0s()(),e.j41(191,"div",27)(192,"mat-form-field",28)(193,"mat-label"),e.EFF(194,"Tipo de contrato"),e.k0s(),e.j41(195,"mat-select",60)(196,"mat-option",61),e.EFF(197,"Determinado"),e.k0s(),e.j41(198,"mat-option",62),e.EFF(199,"Indeterminado"),e.k0s()(),e.DNE(200,Ao,2,0,"mat-error"),e.k0s()(),e.j41(201,"div",27)(202,"mat-form-field",28)(203,"mat-label"),e.EFF(204,"Fecha de cierre del contrato"),e.k0s(),e.nrm(205,"mat-datepicker-toggle",57)(206,"mat-datepicker",null,63)(208,"input",59),e.k0s()(),e.j41(209,"div",27)(210,"mat-form-field",28)(211,"mat-label"),e.EFF(212,"Tiempo del contrato"),e.k0s(),e.nrm(213,"mat-icon",36)(214,"input",64),e.j41(215,"span",65),e.EFF(216,"D\xedas"),e.k0s(),e.DNE(217,To,2,0,"mat-error"),e.k0s()()()(),e.j41(218,"mat-expansion-panel")(219,"mat-expansion-panel-header",23)(220,"mat-panel-title",24)(221,"div",25),e.EFF(222," Departamento, cargo y escolaridad "),e.k0s()()(),e.j41(223,"div",41)(224,"div",49)(225,"div",27)(226,"mat-form-field",28)(227,"mat-label"),e.EFF(228,"Unidad Comercial"),e.k0s(),e.j41(229,"mat-select",60),e.Z7z(230,wo,2,2,"mat-option",35,e.fX1),e.nI1(232,"async"),e.k0s()()(),e.j41(233,"div",27)(234,"mat-form-field",28)(235,"mat-label"),e.EFF(236,"Departamento"),e.k0s(),e.j41(237,"mat-select",60),e.Z7z(238,Mo,2,2,"mat-option",35,e.fX1),e.nI1(240,"async"),e.k0s()()(),e.j41(241,"div",27)(242,"mat-form-field",28)(243,"mat-label"),e.EFF(244,"Cargo"),e.k0s(),e.j41(245,"mat-select",60),e.Z7z(246,Lo,2,2,"mat-option",35,e.fX1),e.nI1(248,"async"),e.k0s(),e.DNE(249,No,2,0,"mat-error"),e.k0s()(),e.j41(250,"div",27)(251,"mat-form-field",28)(252,"mat-label"),e.EFF(253,"Escolaridad"),e.k0s(),e.j41(254,"mat-select",60)(255,"mat-option",66),e.EFF(256,"Primaria"),e.k0s(),e.j41(257,"mat-option",67),e.EFF(258,"Secundaria"),e.k0s(),e.j41(259,"mat-option",68),e.EFF(260,"T\xe9cnico Medio"),e.k0s(),e.j41(261,"mat-option",69),e.EFF(262,"Obrero Calificado"),e.k0s(),e.j41(263,"mat-option",70),e.EFF(264,"Medio Superior"),e.k0s(),e.j41(265,"mat-option",71),e.EFF(266,"Superior"),e.k0s()(),e.DNE(267,Bo,2,0,"mat-error"),e.k0s()()()()(),e.j41(268,"mat-expansion-panel")(269,"mat-expansion-panel-header",23)(270,"mat-panel-title",24)(271,"div",25),e.EFF(272," Salario "),e.k0s()()(),e.j41(273,"div",26)(274,"div",27)(275,"mat-form-field",28)(276,"mat-label"),e.EFF(277,"Frecuencia"),e.k0s(),e.j41(278,"mat-select",60),e.Z7z(279,Yo,2,2,"mat-option",35,e.fX1),e.nI1(281,"async"),e.k0s(),e.DNE(282,Xo,2,0,"mat-error"),e.k0s()(),e.j41(283,"div",27)(284,"mat-form-field",28)(285,"mat-label"),e.EFF(286,"Modo de pago"),e.k0s(),e.j41(287,"mat-select",60),e.Z7z(288,zo,2,2,"mat-option",35,e.fX1),e.nI1(290,"async"),e.k0s(),e.DNE(291,Uo,2,0,"mat-error"),e.k0s()()()(),e.j41(292,"mat-expansion-panel")(293,"mat-expansion-panel-header",23)(294,"mat-panel-title",24)(295,"div",25),e.EFF(296," Imagen "),e.k0s()()(),e.j41(297,"div",26)(298,"div",72)(299,"div",73)(300,"div",74),e.DNE(301,Po,1,2,"img",75)(302,Vo,2,0,"button",76)(303,Oo,2,0,"div",77),e.k0s()(),e.DNE(304,Qo,8,3,"div"),e.k0s()()()()()()(),e.j41(305,"div",78)(306,"div",79),e.DNE(307,Ho,4,5,"button",17)(308,qo,4,5,"button",17),e.k0s()()()),2&i){const s=e.sdS(188),c=e.sdS(207);e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(),e.vxM(18,"new"===n.windowsMode?18:-1),e.R7$(),e.vxM(19,"new"!==n.windowsMode?19:-1),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(5),e.vxM(29,"new"===n.windowsMode?29:-1),e.R7$(),e.vxM(30,"new"!==n.windowsMode?30:-1),e.R7$(2),e.vxM(32,"new"===n.windowsMode?32:-1),e.R7$(),e.vxM(33,"new"!==n.windowsMode?33:-1),e.R7$(3),e.Y8G("formGroup",n.employeeForm)("autocomplete","off"),e.R7$(2),e.Y8G("expanded",!0),e.R7$(),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.R7$(),e.vxM(49,n.employeeForm.get("name").hasError("required")?49:-1),e.R7$(),e.vxM(50,n.employeeForm.get("name").hasError("maxlength")||n.employeeForm.get("name").hasError("minlength")?50:-1),e.R7$(),e.vxM(51,n.employeeForm.get("name").hasError("pattern")?51:-1),e.R7$(5),e.Y8G("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.R7$(),e.vxM(57,n.employeeForm.get("lastname1").hasError("required")?57:-1),e.R7$(),e.vxM(58,n.employeeForm.get("lastname1").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?58:-1),e.R7$(),e.vxM(59,n.employeeForm.get("lastname1").hasError("pattern")?59:-1),e.R7$(5),e.Y8G("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.R7$(),e.vxM(65,n.employeeForm.get("lastname2").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?65:-1),e.R7$(),e.vxM(66,n.employeeForm.get("lastname2").hasError("pattern")?66:-1),e.R7$(5),e.Y8G("formControlName","gender"),e.R7$(5),e.Y8G("value","otro"),e.R7$(2),e.vxM(78,n.employeeForm.get("gender").hasError("required")?78:-1),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:identification"),e.R7$(),e.Y8G("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.R7$(),e.vxM(85,n.employeeForm.get("idNumber").hasError("required")?85:-1),e.R7$(),e.vxM(86,n.employeeForm.get("idNumber").hasError("maxlength")||n.employeeForm.get("idNumber").hasError("minlength")?86:-1),e.R7$(),e.vxM(87,n.employeeForm.get("idNumber").hasError("pattern")?87:-1),e.R7$(4),e.Y8G("color","primary")("formControlName","active"),e.R7$(3),e.Y8G("collapsedHeight","56px"),e.R7$(6),e.Dyx(n.employeeForm.get("bankAccounts").controls),e.R7$(3),e.Y8G("svgIcon","mat_solid:add_circle"),e.R7$(4),e.Y8G("collapsedHeight","56px"),e.R7$(7),e.Dyx(n.employeeForm.get("phoneNumbers").controls),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:plus-circle"),e.R7$(5),e.Dyx(n.employeeForm.get("emails").controls),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:plus-circle"),e.R7$(3),e.Y8G("expanded",!0),e.R7$(),e.Y8G("collapsedHeight","56px"),e.R7$(10),e.Y8G("formControlName","country"),e.R7$(3),e.Y8G("svgIcon","mat_solid:public"),e.R7$(),e.vxM(143,n.employeeForm.get("country").hasError("required")?143:-1),e.R7$(5),e.Y8G("formControlName","state"),e.R7$(),e.Dyx(n.states),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:map"),e.R7$(),e.vxM(152,n.employeeForm.get("state").hasError("required")?152:-1),e.R7$(5),e.Y8G("formControlName","city"),e.R7$(),e.Dyx(n.cities),e.R7$(2),e.Y8G("svgIcon","mat_solid:location_on"),e.R7$(),e.vxM(161,n.employeeForm.get("city").hasError("required")?161:-1),e.R7$(5),e.Y8G("formControlName","zip")("max",99999),e.R7$(),e.vxM(167,n.employeeForm.get("zip").hasError("pattern")?167:-1),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:home"),e.R7$(),e.Y8G("formControlName","address")("minLength",3)("maxlength",255),e.R7$(),e.vxM(174,n.employeeForm.get("address").hasError("required")?174:-1),e.R7$(),e.vxM(175,n.employeeForm.get("address").hasError("maxlength")||n.employeeForm.get("address").hasError("minlength")?175:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("for",s),e.R7$(3),e.Y8G("matDatepicker",s)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.R7$(),e.vxM(190,n.employeeForm.get("dateOfJoining").hasError("required")?190:-1),e.R7$(5),e.Y8G("formControlName","typeOfContract"),e.R7$(5),e.vxM(200,n.employeeForm.get("typeOfContract").hasError("required")?200:-1),e.R7$(5),e.Y8G("for",c),e.R7$(3),e.Y8G("matDatepicker",c)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:clock"),e.R7$(),e.Y8G("formControlName","contractTime")("min",0),e.R7$(3),e.vxM(217,n.employeeForm.get("contractTime").hasError("pattern")?217:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(10),e.Y8G("formControlName","locationId"),e.R7$(),e.Dyx(e.bMT(232,109,n.locations$)),e.R7$(7),e.Y8G("formControlName","departmentId"),e.R7$(),e.Dyx(e.bMT(240,111,n.departments$)),e.R7$(7),e.Y8G("formControlName","chargeId"),e.R7$(),e.Dyx(e.bMT(248,113,n.charges$)),e.R7$(3),e.vxM(249,n.employeeForm.get("chargeId").hasError("required")?249:-1),e.R7$(5),e.Y8G("formControlName","scholarship"),e.R7$(13),e.vxM(267,n.employeeForm.get("scholarship").hasError("required")?267:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("formControlName","salaryFreq"),e.R7$(),e.Dyx(e.bMT(281,115,n.salaryFreqs$)),e.R7$(3),e.vxM(282,n.employeeForm.get("salaryFreq").hasError("required")?282:-1),e.R7$(5),e.Y8G("formControlName","salaryMethod"),e.R7$(),e.Dyx(e.bMT(290,117,n.salaryMethods$)),e.R7$(3),e.vxM(291,n.employeeForm.get("salaryMethod").hasError("required")?291:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(8),e.vxM(301,n.employeeForm.get("imageUrl").value?301:-1),e.R7$(),e.vxM(302,n.employeeForm.get("imageUrl").value?302:-1),e.R7$(),e.vxM(303,n.employeeForm.get("imageUrl").value?-1:303),e.R7$(),e.vxM(304,n.employeeForm.get("imageUrl").value?-1:304),e.R7$(3),e.vxM(307,"new"===n.windowsMode?307:-1),e.R7$(),e.vxM(308,"new"!==n.windowsMode?308:-1)}},dependencies:[y.Jj,Xt.n,d.Hl,d.$z,d.iY,d.$0,J.g7,O.X6,Ce.uv,O.Vh,O.bZ,O.bU,D.hM,Q.MY,Q.BS,Q.GK,Q.Z2,Q.WN,m.RG,m.rl,m.nJ,m.TL,m.JW,m.yw,u.m_,u.An,_.fS,_.fg,U.Ve,U.VO,U.$2,Fe.wT,x.mV,x.sG,y.YU,r.X1,r.qT,r.me,r.Q0,r.BC,r.cb,r.YS,r.xh,r.tU,r.VZ,r.l_,r.j4,r.JD,k.Wk,y.PV],encapsulation:2,changeDetection:0})}return o})();var Jo=l(44312),Ko=l(87932);function Zo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correo electr\xf3nico es obligatorio. "),e.k0s())}function ei(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correo no posee un formato v\xe1lido. "),e.k0s())}function ti(o,a){1&o&&e.nrm(0,"mat-icon",21),2&o&&e.Y8G("svgIcon","mat_solid:visibility")}function oi(o,a){1&o&&e.nrm(0,"mat-icon",21),2&o&&e.Y8G("svgIcon","mat_solid:visibility-off")}function ii(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La contrase\xf1a es obligatoria. "),e.k0s())}function ni(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1,' La contrase\xf1a deber\xe1 tener entre 8 y 100 caracteres e incluir may\xfasculas, min\xfasculas n\xfameros y s\xedmbolos como: ! " ? $ % ^ &. '),e.k0s())}function ai(o,a){1&o&&e.nrm(0,"mat-icon",21),2&o&&e.Y8G("svgIcon","mat_solid:visibility")}function ri(o,a){1&o&&e.nrm(0,"mat-icon",21),2&o&&e.Y8G("svgIcon","mat_solid:visibility-off")}function si(o,a){1&o&&(e.j41(0,"mat-error",22),e.EFF(1," La contrase\xf1a es obligatoria "),e.k0s())}function li(o,a){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.employeeUserForm.get("pwd2").getError("mustMatch")," ")}}function ci(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG();return e.Njj(s.markRole(n.id,!n.checked))}),e.j41(1,"div",28),e.EFF(2),e.k0s()()}if(2&o){const t=e.XpG().$implicit;e.R7$(2),e.SpI(" ",t.description," ")}}function mi(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",23)(1,"mat-checkbox",24),e.bIt("change",function(n){const c=e.eBV(t).$implicit,h=e.XpG();return e.Njj(h.markRole(c.id,n.checked))}),e.j41(2,"span",25),e.EFF(3),e.k0s()(),e.DNE(4,ci,3,1,"div",26),e.k0s()}if(2&o){const t=a.$implicit;e.R7$(),e.Y8G("color","primary")("color","primary")("checked",t.checked),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(),e.vxM(4,t.description?4:-1)}}const pi=o=>({"cursor-not-allowed":o});let di=(()=>{class o{constructor(t){this.data=t,this.roles=[],this._changeDetectorRef=(0,e.WQX)(e.gRc),this._dialogRef=(0,e.WQX)(D.CP),this._formBuilder=(0,e.WQX)(r.ok),this._fuseConfirmationService=(0,e.WQX)(M.G),this._snackBar=(0,e.WQX)(T.UG),this._unsubscribeAll=new v.B,this._usersService=(0,e.WQX)(Ko.g),this._rolesService=(0,e.WQX)(Jo.W),this.store=(0,e.WQX)(b.il)}ngOnInit(){this._rolesService.findAllActiveRoles().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.roles=structuredClone(t),this._changeDetectorRef.markForCheck()}),this.employeeUserForm=this._formBuilder.group({employeeId:[this.data.employee.id,[r.k0.required]],email:[null,[r.k0.email,r.k0.required]],pwd:["",[r.k0.minLength(8),r.k0.maxLength(100),A.t.strongPasWordPattern()]],pwd2:[""],roleId:[null,[r.k0.required]]},{validators:A.t.mustMatch("pwd","pwd2")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createUser(){const t=this.employeeUserForm.getRawValue();delete t.pwd2,this._fuseConfirmationService.open({title:"Crear usuario",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._usersService.createUserFromEmployee(t).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.createUserFromEmployee.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})}),this._changeDetectorRef.markForCheck()}markRole(t,i){for(const n of this.roles)n.id===t&&i?(n.checked=!0,this.employeeUserForm.get("roleId").setValue(n.id)):n.checked=!1;this.roles.some(n=>n.checked)||this.employeeUserForm.get("roleId").setValue(null),this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(D.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-employee-user-dialog"]],standalone:!0,features:[e.aNF],decls:43,vars:25,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"w-full","px-8","pb-6","overflow-hidden","sm:flex-row","sm:items-start","sm:pb-8"],[1,"grid","w-full","grid-cols-1","gap-3","pt-6","mt-3","overflow-auto","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full","sm:col-span-2"],["matInput","","required","",3,"type","formControlName","placeholder"],[1,"w-full","col-span-1"],["type","password","placeholder","Contrase\xf1a","matInput","","required","",3,"formControlName","minlength","maxlength"],["passwordField1",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon"],["type","password","placeholder","Repita la contrase\xf1a","matInput","","required","",3,"formControlName"],["passwordField2",""],["class","pb-5"],[1,"col-span-1","sm:col-span-2","h-50"],[1,"font-semibold"],[1,"grid","w-full","grid-cols-2","gap-4","mt-3","overflow-auto"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass","click"],[1,"icon-size-5",3,"svgIcon"],[1,"pb-5"],[1,"relative","p-3","overflow-hidden","border","border-dashed","rounded-sm","cursor-pointer","border-primary-700","max-h-30"],[1,"absolute","top-2.5","left-3",3,"color","checked","change"],[1,"font-medium","truncate"],["class","h-full mt-8"],[1,"h-full","mt-8",3,"click"],[1,"whitespace-pre-line","text-md","text-hint","line-clamp-3"],["class","relative p-3 overflow-hidden border border-dashed rounded-sm cursor-pointer border-primary-700 max-h-30 "]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Crear Usuario"),e.k0s()(),e.j41(4,"div",3)(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e.EFF(8,"Correo electr\xf3nico"),e.k0s(),e.nrm(9,"input",6),e.DNE(10,Zo,2,0,"mat-error")(11,ei,2,0,"mat-error"),e.k0s(),e.j41(12,"mat-form-field",7)(13,"mat-label"),e.EFF(14,"Contrase\xf1a"),e.k0s(),e.nrm(15,"input",8,9),e.j41(17,"button",10),e.bIt("click",function(){e.eBV(s);const h=e.sdS(16);return e.Njj(h.type="password"===h.type?"text":"password")}),e.DNE(18,ti,1,1,"mat-icon",11)(19,oi,1,1,"mat-icon",11),e.k0s(),e.DNE(20,ii,2,0,"mat-error")(21,ni,2,0,"mat-error"),e.k0s(),e.j41(22,"mat-form-field",7)(23,"mat-label"),e.EFF(24,"Confirmar contrase\xf1a"),e.k0s(),e.nrm(25,"input",12,13),e.j41(27,"button",10),e.bIt("click",function(){e.eBV(s);const h=e.sdS(26);return e.Njj(h.type="password"===h.type?"text":"password")}),e.DNE(28,ai,1,1,"mat-icon",11)(29,ri,1,1,"mat-icon",11),e.k0s(),e.DNE(30,si,2,0,"mat-error",14)(31,li,2,1,"mat-error"),e.k0s(),e.j41(32,"div",15)(33,"span",16),e.EFF(34,"Roles"),e.k0s(),e.j41(35,"div",17),e.Z7z(36,mi,5,5,"div",29,e.fX1),e.k0s()()()(),e.j41(38,"div",18)(39,"button",19),e.EFF(40," Cancelar "),e.k0s(),e.j41(41,"button",20),e.bIt("click",function(){return n.createUser()}),e.EFF(42," Aceptar "),e.k0s()()()}if(2&i){const s=e.sdS(16),c=e.sdS(26);e.R7$(5),e.Y8G("formGroup",n.employeeUserForm)("autocomplete","off"),e.R7$(4),e.Y8G("type","email")("formControlName","email")("placeholder","Correo electr\xf3nico"),e.R7$(),e.vxM(10,n.employeeUserForm.get("email").hasError("required")?10:-1),e.R7$(),e.vxM(11,n.employeeUserForm.get("email").hasError("email")?11:-1),e.R7$(4),e.Y8G("formControlName","pwd")("minlength",8)("maxlength",100),e.R7$(3),e.vxM(18,"password"===s.type?18:-1),e.R7$(),e.vxM(19,"text"===s.type?19:-1),e.R7$(),e.vxM(20,n.employeeUserForm.get("pwd").hasError("required")?20:-1),e.R7$(),e.vxM(21,n.employeeUserForm.get("pwd").hasError("pattern")||n.employeeUserForm.get("pwd").hasError("minlength")?21:-1),e.R7$(4),e.Y8G("formControlName","pwd2"),e.R7$(3),e.vxM(28,"password"===c.type?28:-1),e.R7$(),e.vxM(29,"text"===c.type?29:-1),e.R7$(),e.vxM(30,n.employeeUserForm.get("pwd2").hasError("required")?30:-1),e.R7$(),e.vxM(31,n.employeeUserForm.get("pwd2").hasError("mustMatch")?31:-1),e.R7$(5),e.Dyx(n.roles),e.R7$(3),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.Y8G("color","primary")("disabled",n.employeeUserForm.invalid)("ngClass",e.eq3(23,pi,n.employeeUserForm.invalid))}},dependencies:[m.RG,m.rl,m.nJ,m.TL,m.yw,u.m_,u.An,_.fS,_.fg,d.Hl,d.$z,d.iY,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.xh,r.tU,r.j4,r.JD,J.g7,J.So,D.hM,D.tx,y.YU],encapsulation:2})}return o})();const ui=()=>["new"];function hi(o,a){if(1&o&&(e.j41(0,"div",18)(1,"mat-form-field",19),e.nrm(2,"mat-icon",20)(3,"input",21),e.k0s(),e.j41(4,"button",22),e.nrm(5,"mat-icon",23),e.j41(6,"span",24),e.EFF(7,"Nuevo"),e.k0s()()()),2&o){const t=e.XpG();e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar empleados"),e.R7$(),e.Y8G("routerLink",e.lJ4(7,ui)),e.R7$(),e.Y8G("svgIcon","mat_solid:add")}}function gi(o,a){if(1&o&&e.nrm(0,"img",49),2&o){const t=e.XpG().$implicit;e.Y8G("alt","Foto")("src",t.imageUrl,e.B4B)}}function fi(o,a){1&o&&(e.j41(0,"div",50),e.EFF(1," SIN FOTO "),e.k0s())}function _i(o,a){if(1&o&&(e.j41(0,"div",51),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.department.name," ")}}function vi(o,a){1&o&&(e.j41(0,"div",52),e.EFF(1," No tiene asignado "),e.k0s())}function bi(o,a){if(1&o&&(e.j41(0,"div",33),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.charge.name," ")}}function Ci(o,a){1&o&&(e.j41(0,"div",52),e.EFF(1," No tiene asignado "),e.k0s())}function Fi(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",53),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(),c=s.$implicit,h=s.$index,F=e.XpG(4);return e.Njj(F.updateEmployeeStatus(n,c,h))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function yi(o,a){1&o&&e.nrm(0,"mat-spinner",43),2&o&&e.Y8G("diameter",20)("color","primary")}const xi=o=>[o];function ki(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",32)(1,"div",33)(2,"div",34),e.DNE(3,gi,1,2,"img",35)(4,fi,2,0,"div",36),e.k0s()(),e.j41(5,"div",37),e.EFF(6),e.k0s(),e.j41(7,"div",37),e.EFF(8),e.k0s(),e.DNE(9,_i,2,1,"div",38)(10,vi,2,0,"div",39)(11,bi,2,1,"div",40)(12,Ci,2,0,"div",39),e.j41(13,"div",41),e.DNE(14,Fi,1,2,"mat-slide-toggle",42)(15,yi,1,2,"mat-spinner",43),e.k0s(),e.j41(16,"div",44)(17,"button",45),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG(4);return e.Njj(c.createUser(s))}),e.nrm(18,"mat-icon",46),e.k0s(),e.j41(19,"button",47),e.nrm(20,"mat-icon",46),e.k0s(),e.j41(21,"button",48),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG(4);return e.Njj(c.deleteEmployee(s.id))}),e.nrm(22,"mat-icon",46),e.k0s()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.XpG(4);e.R7$(3),e.vxM(3,t.imageUrl?3:-1),e.R7$(),e.vxM(4,t.imageUrl?-1:4),e.R7$(2),e.SpI(" ",t.code," "),e.R7$(2),e.E5c(" ",t.name," ",t.lastname1," ",t.lastname2?t.lastname2:""," "),e.R7$(),e.vxM(9,t.department?9:-1),e.R7$(),e.vxM(10,t.department?-1:10),e.R7$(),e.vxM(11,t.charge?11:-1),e.R7$(),e.vxM(12,t.charge?-1:12),e.R7$(2),e.vxM(14,n.isLoading&&n.selectedSlide===i?-1:14),e.R7$(),e.vxM(15,n.isLoading&&n.selectedSlide===i?15:-1),e.R7$(3),e.Y8G("svgIcon","mat_solid:person_add"),e.R7$(),e.Y8G("routerLink",e.eq3(16,xi,t.id)),e.R7$(),e.Y8G("svgIcon","heroicons_solid:pencil"),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:trash")}}function Ei(o,a){1&o&&e.Z7z(0,ki,23,18,"div",54,e.BUC().trackByFn),2&o&&e.Dyx(a)}function Di(o,a){if(1&o&&(e.j41(0,"div",26)(1,"div",27)(2,"div",28),e.EFF(3," Foto "),e.k0s(),e.j41(4,"div",29),e.EFF(5," C\xf3digo "),e.k0s(),e.j41(6,"div",29)(7,"span"),e.EFF(8," Nombre y Apellidos "),e.k0s()(),e.j41(9,"div"),e.EFF(10," Departamento "),e.k0s(),e.j41(11,"div"),e.EFF(12," Cargo "),e.k0s(),e.j41(13,"div",30)(14,"span"),e.EFF(15,"Activo"),e.k0s()(),e.j41(16,"div",31),e.EFF(17," Acciones "),e.k0s()(),e.DNE(18,Ei,2,0),e.nI1(19,"async"),e.k0s()),2&o){const t=e.XpG(2);let i;e.R7$(4),e.Y8G("mat-sort-header","code"),e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(7),e.Y8G("mat-sort-header","active"),e.R7$(5),e.vxM(18,(i=e.bMT(19,4,t.employees$))?18:-1,i)}}function Ri(o,a){if(1&o&&(e.j41(0,"div",56),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!","")}}const xe=()=>["Super Administrador"];function $i(o,a){1&o&&e.DNE(0,Ri,2,1,"div",55),2&o&&e.Y8G("ngxPermissionsExcept",e.lJ4(1,xe))}function ji(o,a){1&o&&e.DNE(0,Di,20,6,"div",25)(1,$i,1,2),2&o&&e.vxM(0,a.length>0?0:1)}const Ii=o=>({"pointer-events-none":o}),Gi=()=>[10,25,50,100];function Si(o,a){if(1&o&&e.nrm(0,"mat-paginator",57),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,Ii,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,Gi))("showFirstLastButtons",!0)}}let Ai=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.MJ(null),this._unsubscribeAll=new v.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._employeeService=(0,e.WQX)(le.r),this._fuseConfirmationService=(0,e.WQX)(M.G),this._snackBar=(0,e.WQX)(T.UG),this._dialog=(0,e.WQX)(D.bZ),this.store=(0,e.WQX)(b.il)}ngOnInit(){this.employees$=this.store.select(ae.OB),this.store.select(P.Xb).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(W.D).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,p.Q)(this._unsubscribeAll),(0,z.B)(300),(0,w.Z)(null),(0,Y.n)(t=>null!==t?(this.isLoading=!0,this._employeeService.findAllEmployees(0,10,"name","desc",t)):(0,f.of)()),(0,C.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,S.h)(this._sort.sortChange,this._paginator.page).pipe((0,Y.n)(()=>(this.isLoading=!0,this._employeeService.findAllEmployees(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,C.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateEmployeeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._employeeService.updateEmployeeStatus({id:i.id,active:t.checked}).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._employeeService.removeEmployee(t,this.pagination.page,this.pagination.size,"name","desc").pipe((0,p.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())})})}createUser(t){this._dialog.open(di,{data:{employee:t},disableClose:!0,panelClass:"ath-dialog-panel"})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["employees"]],viewQuery:function(i,n){if(1&i&&(e.GBs(R.iy,5),e.GBs(g.B4,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._paginator=s.first),e.mGM(s=e.lsd())&&(n._sort=s.first)}},standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black/5","employees-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-10","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],[1,"truncate"],["class",""],["class","text-red-700"],["class","items-center"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","","matTooltip","Crear Usuario",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,""],[1,"text-red-700"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b md:px-8 employees-table"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Empleados"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Empleados "),e.k0s()()(),e.DNE(24,hi,8,8,"div",14),e.k0s(),e.j41(25,"div",15)(26,"div",16),e.DNE(27,ji,2,1),e.nI1(28,"async"),e.DNE(29,Si,1,9,"mat-paginator",17),e.k0s()()()),2&i){let s;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(6),e.Y8G("ngxPermissionsExcept",e.lJ4(9,xe)),e.R7$(3),e.vxM(27,(s=e.bMT(28,7,n.employees$))?27:-1,s),e.R7$(2),e.vxM(29,n.pagination&&n.pagination.length>0?29:-1)}},dependencies:[u.m_,u.An,d.Hl,d.$z,R.Ou,R.iy,g.NQ,g.B4,g.aE,_.fS,_.fg,m.rl,m.JW,k.Wk,x.mV,x.sG,G.D6,G.LG,m.RG,y.Jj,y.YU,r.X1,r.me,r.BC,r.l_,Z.Ov,Z.f6],encapsulation:2,data:{animation:ne.X},changeDetection:0})}return o})();var Ti=l(70980),ke=l(49098);class Ee{}function wi(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",36),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(),c=s.$implicit,h=s.$index,F=e.XpG(4);return e.Njj(F.updateLocationStatus(n,c,h))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function Mi(o,a){1&o&&e.nrm(0,"mat-spinner",31),2&o&&e.Y8G("diameter",20)("color","primary")}const Li=o=>[o];function Ni(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",27)(1,"div",22),e.EFF(2),e.k0s(),e.j41(3,"div",28),e.EFF(4),e.k0s(),e.j41(5,"div",28),e.EFF(6),e.k0s(),e.j41(7,"div",25),e.EFF(8),e.k0s(),e.j41(9,"div",25),e.EFF(10),e.k0s(),e.j41(11,"div",25),e.EFF(12),e.k0s(),e.j41(13,"div",29),e.DNE(14,wi,1,2,"mat-slide-toggle",30)(15,Mi,1,2,"mat-spinner",31),e.k0s(),e.j41(16,"div",32)(17,"button",33),e.nrm(18,"mat-icon",34),e.k0s(),e.j41(19,"button",35),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG(4);return e.Njj(c.deleteLocation(s))}),e.nrm(20,"mat-icon",34),e.k0s()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.XpG(4);e.R7$(2),e.SpI(" ",i+1," "),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",null==t.manager?null:t.manager.fullname," "),e.R7$(2),e.SpI(" ",t.address," "),e.R7$(2),e.SpI(" ",t.state," "),e.R7$(2),e.SpI(" ",t.city," "),e.R7$(2),e.vxM(14,n.isLoading&&n.selectedSlide===i?-1:14),e.R7$(),e.vxM(15,n.isLoading&&n.selectedSlide===i?15:-1),e.R7$(2),e.Y8G("routerLink",e.eq3(11,Li,t.id)),e.R7$(),e.Y8G("svgIcon","mat_solid:edit"),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function Bi(o,a){1&o&&e.Z7z(0,Ni,21,13,"div",37,e.BUC().trackByFn),2&o&&e.Dyx(a)}const Yi=o=>({"pointer-events-none":o}),Xi=()=>[10,25,100];function zi(o,a){if(1&o&&(e.j41(0,"div",20)(1,"div",21),e.nrm(2,"div",22),e.j41(3,"div",23),e.EFF(4," Nombre "),e.k0s(),e.j41(5,"div",24),e.EFF(6," Responsable "),e.k0s(),e.j41(7,"div",25),e.EFF(8," Direcci\xf3n "),e.k0s(),e.j41(9,"div",25),e.EFF(10," Provincia "),e.k0s(),e.j41(11,"div",25),e.EFF(12," Municipio "),e.k0s(),e.j41(13,"div",25),e.EFF(14," Acciones "),e.k0s(),e.j41(15,"div",25),e.EFF(16," Estado "),e.k0s()(),e.DNE(17,Bi,2,0),e.nI1(18,"async"),e.nrm(19,"mat-paginator",26),e.k0s()),2&o){const t=e.XpG(2);let i;e.R7$(3),e.Y8G("mat-sort-header","name"),e.R7$(14),e.vxM(17,(i=e.bMT(18,8,t.locations$))?17:-1,i),e.R7$(2),e.Y8G("ngClass",e.eq3(10,Yi,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(12,Xi))("showFirstLastButtons",!0)}}function Ui(o,a){1&o&&(e.j41(0,"div",38),e.EFF(1," \xa1No hay ubicaciones registradas!"),e.k0s())}function Pi(o,a){1&o&&e.DNE(0,zi,20,13,"div",19)(1,Ui,2,0),2&o&&e.vxM(0,a.length>0?0:1)}const Vi=()=>["new"];let Oi=(()=>{class o{constructor(){this.location=new Ee,this.locations$=(0,f.of)([]),this.isLoading=!1,this.searchInputControl=new r.MJ(null),this.selectedSlide=null,this._unsubscribeAll=new v.B,this._locationsService=(0,e.WQX)(ke.O),this._changeDetectorRef=(0,e.WQX)(e.gRc),this._fuseConfirmationService=(0,e.WQX)(M.G),this._snackBar=(0,e.WQX)(T.UG),this.store=(0,e.WQX)(b.il)}ngOnInit(){this.locations$=this.store.select(re.BF),this.store.select(W.D).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,p.Q)(this._unsubscribeAll),(0,z.B)(300),(0,w.Z)(null),(0,Y.n)(t=>null!==t?(this.isLoading=!0,this._locationsService.getLocations(0,10,"name","desc",t)):(0,f.of)()),(0,C.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"code",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,S.h)(this._sort.sortChange,this._paginator.page).pipe((0,Y.n)(()=>(this.isLoading=!0,this._locationsService.getLocations(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,C.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteLocation(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la taller: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.Q)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._locationsService.removeLocation(t.id).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(({data:s})=>{this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.removeLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateLocationStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._locationsService.updateLocationStatus({id:i.id,active:t.checked}).pipe((0,p.Q)(this._unsubscribeAll),(0,Ti.j)(()=>{this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})).subscribe(({data:s})=>{this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateLocationStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-locations"]],viewQuery:function(i,n){if(1&i&&(e.GBs(R.iy,5),e.GBs(g.B4,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._paginator=s.first),e.mGM(s=e.lsd())&&(n._sort=s.first)}},standalone:!0,features:[e.aNF],decls:30,vars:13,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],["cdkScrollable","",1,"flex","flex-col","flex-auto","overflow-auto","sm:mb-18"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","locations-grid","md:px-8","text-md","text-primary-200","bg-gray-50","dark:bg-black/5"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,""],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","locations-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","items-center","justify-center","gap-1"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b locations-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e.EFF(6,"Inicio"),e.k0s()(),e.j41(7,"div",5),e.nrm(8,"mat-icon",6),e.j41(9,"a",7),e.EFF(10,"Recursos Humanos"),e.k0s()(),e.j41(11,"div",5),e.nrm(12,"mat-icon",6),e.j41(13,"a",7),e.EFF(14,"Unidades Comerciales"),e.k0s()()(),e.j41(15,"div",8)(16,"h2",9),e.EFF(17," Unidades Comerciales "),e.k0s()()(),e.j41(18,"div",10)(19,"mat-form-field",11),e.nrm(20,"mat-icon",12)(21,"input",13),e.k0s(),e.j41(22,"button",14),e.nrm(23,"mat-icon",15),e.j41(24,"span",16),e.EFF(25,"Agregar"),e.k0s()()()(),e.j41(26,"div",17)(27,"div",18),e.DNE(28,Pi,2,1),e.nI1(29,"async"),e.k0s()()()),2&i){let s;e.R7$(8),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(7),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para buscar..."),e.R7$(),e.Y8G("routerLink",e.lJ4(12,Vi)),e.R7$(),e.Y8G("svgIcon","mat_solid:add"),e.R7$(5),e.vxM(28,(s=e.bMT(29,10,n.locations$))?28:-1,s)}},dependencies:[u.m_,u.An,r.X1,r.me,r.BC,r.l_,d.Hl,d.$z,R.Ou,R.iy,g.NQ,g.B4,g.aE,_.fS,_.fg,m.rl,m.JW,k.Wk,m.RG,y.Jj,y.YU,x.mV,x.sG,G.D6,G.LG],encapsulation:2,changeDetection:0})}return o})();var Qi=l(31397),ce=l(60850);const De=o=>({"cursor-not-allowed":o});function Hi(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createLocation())}),e.nrm(1,"mat-icon",34),e.j41(2,"span",35),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.locationForm.invalid)("ngClass",e.eq3(3,De,t.locationForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function qi(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateLocation())}),e.nrm(1,"mat-icon",34),e.j41(2,"span",35),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.locationForm.invalid)("ngClass",e.eq3(3,De,t.locationForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}function Wi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de la ubicaci\xf3n es obligatorio. "),e.k0s())}function Ji(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de la ubicaci\xf3n debe tener 250 caracteres. "),e.k0s())}function Ki(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-option",36),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.selectEmployee(s))}),e.EFF(1),e.k0s()}if(2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.fullname," ")}}function Zi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el pa\xeds. "),e.k0s())}function en(o,a){if(1&o&&(e.j41(0,"mat-option",37),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function tn(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar una provincia. "),e.k0s())}function on(o,a){if(1&o&&(e.j41(0,"mat-option",37),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.city),e.R7$(),e.SpI(" ",t.city," ")}}function nn(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un municipio. "),e.k0s())}function an(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n es obligatoria. "),e.k0s())}function rn(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.k0s())}let sn=(()=>{class o{constructor(){this.cities=[],this.editMode=!1,this.employees$=(0,f.of)([]),this.isLoading=!1,this.isLoadingData=!0,this.locations$=(0,f.of)([]),this.searchEmployeeControl=new r.MJ(null),this.selectedLocation=new Ee,this.states=[],this.employees=[],this.statesCodes=[],this.stateSelected="",this.selectedEmployeeName="",this._unsubscribeAll=new v.B,this._activatedRoute=(0,e.WQX)(k.nX),this._changeDetectorRef=(0,e.WQX)(e.gRc),this._formBuilder=(0,e.WQX)(r.ok),this._fuseConfirmationService=(0,e.WQX)(M.G),this._locationsService=(0,e.WQX)(ke.O),this._locationService=(0,e.WQX)(ee.N),this._snackBar=(0,e.WQX)(T.UG),this._router=(0,e.WQX)(k.Ix),this.store=(0,e.WQX)(b.il),this._employeesService=(0,e.WQX)(le.r)}ngOnInit(){this.employees$=this.store.select(ae.OB),this.employees$.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.employees=t,this._changeDetectorRef.markForCheck()}),this.employeesFiltered$=this.searchEmployeeControl.valueChanges.pipe((0,z.B)(200),(0,w.Z)(null),(0,Qi.Z)(t=>null!==t&&"string"==typeof t&&t!==this.selectedEmployeeName?this._employeesService.findActiveEmployees(t.trim()):this.employees$)),this._locationService.states$.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.states=t,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this.statesCodes=t,this._changeDetectorRef.markForCheck()}),this.locationForm=this._formBuilder.group({id:new r.MJ(null),managerId:new r.MJ(null,[r.k0.pattern(/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i),r.k0.maxLength(255)]),name:new r.MJ(null,[r.k0.required,r.k0.maxLength(250)]),address:new r.MJ(null,[r.k0.maxLength(250)]),city:new r.MJ(null,[r.k0.maxLength(250)]),state:new r.MJ(null,[r.k0.maxLength(250)]),country:new r.MJ("Cuba",[r.k0.maxLength(50)])}),this._activatedRoute.params.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(({locationId:t})=>{"new"!==t&&(this.editMode=!0,this.store.select(re.UA).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(i=>{this.selectedLocation=i,this.isLoadingData=!1,this.locationForm.patchValue(i);const n=this.employees.find(s=>s.id===i.managerId);n&&this.searchEmployeeControl.setValue(n),null!==i.state&&this._getCitiesByState(i.state),this.isLoadingData=!1,this._changeDetectorRef.markForCheck()}))}),this.locationForm.get("state")?.valueChanges.pipe((0,p.Q)(this._unsubscribeAll)).subscribe(t=>{this._getCitiesByState(t),this.locationForm.get("city").enable(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createLocation(){const t=this.locationForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.createLocation(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.createLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck(),this._router.navigateByUrl("/modules/hrm/locations"))}),this._changeDetectorRef.markForCheck()})}updateLocation(){let t=this.locationForm.getRawValue();t=(0,V.omit)(t,["code"]),this._fuseConfirmationService.open({title:"Actualizar ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.updateLocation(t).pipe((0,p.Q)(this._unsubscribeAll)).subscribe(({data:s})=>{this._snackBar.openFromComponent(E.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/modules/hrm/locations")}),this._changeDetectorRef.markForCheck()})}selectEmployee(t){this.locationForm.get("managerId").setValue(t.id),this.selectedEmployeeName=t.name}displayFn(t){return t&&t.fullname?t.fullname:""}trackByFn(t,i){return i.id||t}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-location-details"]],standalone:!0,features:[e.aNF],decls:83,vars:40,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto"],[1,"z-20","flex","flex-col","p-6","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],["routerLink","/modules/hmr/locations",1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","lg:mt-0","lg:ml-4"],["class","ml-4","mat-raised-button","","class","text-white bg-gradient-to-r from-primary-500 to-primary-700",3,"disabled","ngClass"],[1,"flex","flex-auto"],[1,"flex","flex-col","w-full","divide-y","divide-dashed",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","p-10"],[1,"flex","flex-col"],[1,"text-xl","font-semibold"],[1,"flex","flex-col","p-6","mt-5","border","shadow-md","sm:flex-row","bg-card","rounded-2xl"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-5","w-full"],[1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matInput","","type","text","maxlength","250","required","",3,"formControlName"],["appearance","fill",1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matPrefix","",3,"svgIcon"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder","required"],[3,"displayWith"],["employeeAutocomplete","matAutocomplete"],["required","",3,"formControlName"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-textarea","sm:col-span-3"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[3,"value","click"],[3,"value"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div")(6,"a",4),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",5),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",5),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Ubicaciones"),e.k0s()(),e.j41(16,"div",5),e.nrm(17,"mat-icon",6),e.j41(18,"a",7),e.EFF(19),e.k0s()()()(),e.j41(20,"div",9)(21,"h2",10),e.EFF(22),e.k0s()()(),e.j41(23,"div",11),e.DNE(24,Hi,4,5,"button",12)(25,qi,4,5,"button",12),e.k0s()(),e.j41(26,"div",13)(27,"form",14)(28,"div",15)(29,"div",16)(30,"span",17),e.EFF(31,"Generales"),e.k0s(),e.j41(32,"span"),e.EFF(33,"Ingrese la informaci\xf3n necesaria para identificar la ubicaci\xf3n"),e.k0s()(),e.j41(34,"div",18)(35,"div",19)(36,"mat-form-field",20)(37,"mat-label"),e.EFF(38,"Nombre del establecimiento"),e.k0s(),e.nrm(39,"input",21),e.DNE(40,Wi,2,0,"mat-error")(41,Ji,2,0,"mat-error"),e.k0s(),e.j41(42,"mat-form-field",22)(43,"mat-label"),e.EFF(44,"Responsable"),e.k0s(),e.nrm(45,"mat-icon",23)(46,"input",24),e.j41(47,"mat-autocomplete",25,26),e.Z7z(49,Ki,2,2,"mat-option",37,e.fX1),e.nI1(51,"async"),e.k0s()(),e.j41(52,"mat-form-field",20)(53,"mat-label"),e.EFF(54,"Pa\xeds"),e.k0s(),e.j41(55,"mat-select",27)(56,"mat-option",28),e.EFF(57,"Cuba"),e.k0s()(),e.nrm(58,"mat-icon",29),e.DNE(59,Zi,2,0,"mat-error"),e.k0s(),e.j41(60,"mat-form-field",20)(61,"mat-label"),e.EFF(62,"Provincia"),e.k0s(),e.j41(63,"mat-select",27),e.Z7z(64,en,2,2,"mat-option",37,n.trackByFn),e.k0s(),e.nrm(66,"mat-icon",29),e.DNE(67,tn,2,0,"mat-error"),e.k0s(),e.j41(68,"mat-form-field",20)(69,"mat-label"),e.EFF(70,"Municipio"),e.k0s(),e.j41(71,"mat-select",27),e.Z7z(72,on,2,2,"mat-option",37,n.trackByFn),e.k0s(),e.nrm(74,"mat-icon",29),e.DNE(75,nn,2,0,"mat-error"),e.k0s(),e.j41(76,"mat-form-field",30)(77,"mat-label"),e.EFF(78,"Direcci\xf3n"),e.k0s(),e.nrm(79,"mat-icon",31)(80,"textarea",32),e.DNE(81,an,2,0,"mat-error")(82,rn,2,0,"mat-error"),e.k0s()()()()()()()),2&i){const s=e.sdS(48);e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(2),e.SpI(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.R7$(3),e.SpI(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.R7$(2),e.vxM(24,n.editMode?-1:24),e.R7$(),e.vxM(25,n.editMode?25:-1),e.R7$(2),e.Y8G("formGroup",n.locationForm)("autocomplete","off"),e.R7$(9),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","name"),e.R7$(),e.vxM(40,n.locationForm.get("name").hasError("required")?40:-1),e.R7$(),e.vxM(41,n.locationForm.get("name").hasError("minlength")?41:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",n.searchEmployeeControl)("matAutocomplete",s)("placeholder","Buscar empleado")("required",!1),e.R7$(),e.Y8G("displayWith",n.displayFn),e.R7$(2),e.Dyx(e.bMT(51,38,n.employeesFiltered$)),e.R7$(3),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","country"),e.R7$(3),e.Y8G("svgIcon","heroicons_solid:globe"),e.R7$(),e.vxM(59,n.locationForm.get("country").hasError("required")?59:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","state"),e.R7$(),e.Dyx(n.states),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:map"),e.R7$(),e.vxM(67,n.locationForm.get("state").hasError("required")?67:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","city"),e.R7$(),e.Dyx(n.cities),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:location-marker"),e.R7$(),e.vxM(75,n.locationForm.get("city").hasError("required")?75:-1),e.R7$(4),e.Y8G("svgIcon","heroicons_solid:home"),e.R7$(),e.Y8G("formControlName","address")("minLength",3)("maxlength",255),e.R7$(),e.vxM(81,n.locationForm.get("address").hasError("required")?81:-1),e.R7$(),e.vxM(82,n.locationForm.get("address").hasError("maxlength")||n.locationForm.get("address").hasError("minlength")?82:-1)}},dependencies:[y.Jj,d.Hl,d.$z,m.RG,m.rl,m.nJ,m.TL,m.JW,u.m_,u.An,_.fS,_.fg,U.Ve,Ce.uv,U.VO,Fe.wT,x.mV,y.YU,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.tU,r.l_,r.j4,r.JD,k.Wk,ce.jL,ce.$3,ce.pN],encapsulation:2,changeDetection:0})}return o})();var oe=l(99437);let ln=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllCharges().pipe((0,oe.W)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(q),e.KVO(k.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),cn=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllActiveCharges().pipe((0,oe.W)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(q),e.KVO(k.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),mn=(()=>{class o{constructor(t,i){this._departmentsService=t,this._router=i}resolve(t,i){return this._departmentsService.findAllDepartments().pipe((0,oe.W)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(K),e.KVO(k.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),pn=(()=>{class o{constructor(t,i,n){this._departmentsService=t,this._router=i,this.store=n,this.store.select(P.Xb).subscribe(s=>{this.merchant=s})}resolve(t,i){return this.merchant?this._departmentsService.findAllActiveDepartments().pipe((0,oe.W)(n=>this._router.navigateByUrl("/dashboard"))):null}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(K),e.KVO(k.Ix),e.KVO(b.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var me=l(34413),dn=l(23301),pe=l(24121),un=l(27468);const fn=[{path:"",component:I},{path:"charges",component:rt,resolve:{charges:ln}},{path:"departments",component:Bt,resolve:{departments:mn}},{path:"employees",component:Ai,resolve:{employees:me.wf}},{path:"employees/:employeeId",component:Wo,resolve:{currencies:dn.p,hrm:(()=>{class o{constructor(t,i){this._hrmService=t,this._locationService=i}resolve(t,i){return(0,un.p)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(be),e.KVO(ee.N))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),employee:me.zA,charges:cn,departments:pn,locations:pe.pP}},{path:"locations",component:Oi,resolve:{locations:pe.cH}},{path:"locations/:locationId",component:sn,resolve:{employees:me.MI,locations:pe.j8,states:(()=>{class o{constructor(t){this._locationService=t}resolve(t,i){return this._locationService.getStates()}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(ee.N))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]},24121:(ie,B,l)=>{l.d(B,{cH:()=>y,j8:()=>k,pP:()=>r});var v=l(99437),X=l(18810),e=l(54438),b=l(49098),I=l(51188);let k=(()=>{class d{constructor(m,u){this._locationsService=m,this._router=u}resolve(m,u){const _=m.paramMap.get("locationId");if("new"!==_)return this._locationsService.getLocationById(_).pipe((0,v.W)(R=>{console.error(R);const G=u.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(G),(0,X.$)(R)}))}static#e=this.\u0275fac=function(u){return new(u||d)(e.KVO(b.O),e.KVO(I.Ix))};static#t=this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),y=(()=>{class d{constructor(m){this._locationsService=m}resolve(m,u){return this._locationsService.getLocations()}static#e=this.\u0275fac=function(u){return new(u||d)(e.KVO(b.O))};static#t=this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),r=(()=>{class d{constructor(m){this._locationsService=m}resolve(m,u){return this._locationsService.findActiveLocations()}static#e=this.\u0275fac=function(u){return new(u||d)(e.KVO(b.O))};static#t=this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},49098:(ie,B,l)=>{l.d(B,{O:()=>G});var v=l(88141),X=l(96354),e=l(24984),b=l(98216),I=l(73512);const k=I.J1`
    mutation CreateLocation($createLocationInput: CreateLocationInput!) {
        createLocation(createLocationInput: $createLocationInput) {

            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }

        }
    }
`,y=I.J1`
    mutation UpdateLocation($updateLocationInput: UpdateLocationInput!) {
        updateLocation(updateLocationInput: $updateLocationInput) {
            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`,r=I.J1`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateLocationStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }

    }
`,d=I.J1`
    mutation RemoveLocation($removeLocationId: String!) {
        removeLocation(id: $removeLocationId) {
            ok
            message
        }
    }
`,D=I.J1`
    query FindAllLocations($page: Int, $size: Int, $sort: String, $order: Order, $search: String) {
        findAllLocations(page: $page, size: $size, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            locations {
                id
                active
                managerId
                manager {
                    id
                    name
                    lastname1
                    lastname2
                    fullname
                }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`,m=I.J1`
    query findActiveLocations($search: String!, $size: Int!) {
        findActiveLocations(search: $search, size: $size) {
            id
            active
            managerId
            name
            slug
            phone
            address
            country
            state
            city
            zip
        }
    }
`,u=I.J1`
    query FindLocationById($findLocationByIdId: String!) {
        findLocationById(id: $findLocationByIdId) {
            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`;var _=l(54438),R=l(59640);let G=(()=>{class x{constructor(g,f){this.apolloProvider=g,this.store=f,this._apollo=this.apolloProvider.use("BALANC")}createLocation(g){return this._apollo.mutate({mutation:k,variables:{createLocationInput:g},errorPolicy:"all"}).pipe((0,v.M)(({data:f})=>{f&&(this.store.dispatch((0,e.yJ)({location:f.createLocation.location})),this.store.dispatch((0,e.Og)({location:f.createLocation.location})))}))}getLocations(g=0,f=25,S="name",p="asc",z=""){return this._apollo.query({query:D,errorPolicy:"all",variables:{page:g,size:f,sort:S,order:p,search:z}}).pipe((0,v.M)(({data:w})=>{w&&(this.store.dispatch((0,b.Bp)({pagination:w.findAllLocations.pagination})),this.store.dispatch((0,e.xu)({locations:w.findAllLocations.locations})))}))}findActiveLocations(g="",f=25){return this._apollo.query({query:m,variables:{search:g,size:f},errorPolicy:"all"}).pipe((0,X.T)(({data:S})=>S?S.findActiveLocations:[]),(0,v.M)(S=>{S&&this.store.dispatch((0,e.xu)({locations:S}))}))}getLocationById(g){return this._apollo.query({query:u,variables:{findLocationByIdId:g},errorPolicy:"all"}).pipe((0,v.M)(({data:f})=>{f&&this.store.dispatch((0,e.Og)({location:f.findLocationById.location}))}))}updateLocation(g){return this._apollo.mutate({mutation:y,variables:{updateLocationInput:g},errorPolicy:"all"}).pipe((0,v.M)(({data:f})=>{f&&(this.store.dispatch((0,e.Nt)({location:f.updateLocation.location})),this.store.dispatch((0,e.Og)({location:f.updateLocation.location})))}))}updateLocationStatus(g){return this._apollo.mutate({mutation:r,variables:{updateEntityStatusInput:g},errorPolicy:"all"}).pipe((0,v.M)(({data:f})=>{f&&this.store.dispatch((0,e.jr)({id:g.id,active:g.active}))}))}removeLocation(g){return this._apollo.mutate({mutation:d,variables:{removeLocationId:g},errorPolicy:"all"}).pipe((0,v.M)(({data:f})=>{f&&this.store.dispatch((0,e.q$)({id:g}))}))}static#e=this.\u0275fac=function(f){return new(f||x)(_.KVO(I.Ic),_.KVO(R.il))};static#t=this.\u0275prov=_.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()}}]);