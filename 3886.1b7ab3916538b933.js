"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3886],{9427:(X,Q,c)=>{c.d(Q,{Y:()=>u,g:()=>m});var e=c(19212),r=c(46482);let u=(()=>{class p{constructor(f){this._currenciesService=f}resolve(f,x){return this._currenciesService.getCurrencies()}static#e=this.\u0275fac=function(x){return new(x||p)(e.LFG(r.t))};static#t=this.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),m=(()=>{class p{constructor(f){this._currenciesService=f}resolve(f,x){return this._currenciesService.getActiveCurrency()}static#e=this.\u0275fac=function(x){return new(x||p)(e.LFG(r.t))};static#t=this.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},21510:(X,Q,c)=>{c.d(Q,{zd:()=>m});var e=c(84221);const r=p=>p.currencies,m=((0,e.P1)(r,p=>p.currency),(0,e.P1)(r,p=>p.currencies))},46482:(X,Q,c)=>{c.d(Q,{t:()=>R});var e=c(19212),r=c(48180),u=c(94664),m=c(99397),p=c(50967),y=c(84221),f=c(97214),x=c(20997),b=c(21510);const h=p.Ps`
    mutation CreateCurrency($createCurrencyInput: CreateCurrencyInput!) {
        createCurrency(createCurrencyInput: $createCurrencyInput) {

            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }

        }
    }
`,w=p.Ps`
mutation UpdateCurrency($updateCurrencyInput: UpdateCurrencyInput!) {
    updateCurrency(updateCurrencyInput: $updateCurrencyInput) {
        ok
        message

        currency {
            id
            active
            name
            iso
            symbol
        }
    }
}
`,q=p.Ps`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateCurrencyStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }
    }
`,S=p.Ps`
mutation RemoveCurrency($removeCurrencyId: String!) {
    removeCurrency(id: $removeCurrencyId) {
        ok,
        message
    }
}
`,A=p.Ps`
    query FindAllCurrencies($offset: Int, $limit: Int, $sort: String, $order: Order, $search: String) {
        findAllCurrencies(offset: $offset, limit: $limit, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length
                size
                page
            }

            currencies {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`,J=p.Ps`
    query FindAllActiveCurrencies {
        findAllActiveCurrencies {
            ok
            message

            currencies {
                id
                name
                iso
            }
        }
    }
`,d=p.Ps`
    query FindCurrencyById($findCurrencyByIdId: String!) {
        findCurrencyById(id: $findCurrencyByIdId) {
            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`;let R=(()=>{class L{constructor(){this.apolloProvider=(0,e.f3M)(p._M),this.store=(0,e.f3M)(y.yh),this._apollo=this.apolloProvider.use("BALANC")}createCurrency(k){return this.store.select(b.zd).pipe((0,r.q)(1),(0,u.w)(T=>this._apollo.mutate({mutation:h,variables:{createCurrencyInput:k},errorPolicy:"all"}).pipe((0,m.b)(({data:G})=>{const U=structuredClone(T);U.push(G.createCurrency.currency),this.store.dispatch((0,x.HC)({currencies:U}))}))))}getCurrencies(k=1,T=20,G="name",U="asc",Z=""){return this._apollo.query({query:A,variables:{offset:T*(k-1),limit:T,sort:G,order:U,search:Z},errorPolicy:"all"}).pipe((0,m.b)(({data:N})=>{this.store.dispatch((0,f.Jr)({pagination:N.findAllCurrencies.pagination})),this.store.dispatch((0,x.HC)({currencies:N.findAllCurrencies.currencies}))}))}getActiveCurrency(){return this._apollo.query({query:J,errorPolicy:"all"}).pipe((0,m.b)(({data:k})=>{k&&this.store.dispatch((0,x.HC)({currencies:k.findAllActiveCurrencies.currencies}))}))}getCurrencyById(k){return this._apollo.query({query:d,variables:{findCurrencyByIdId:k},errorPolicy:"all"}).pipe((0,m.b)(({data:T})=>{this.store.dispatch((0,x.NW)({currency:T.findCurrencyById.currency}))}))}updateCurrency(k){return this.store.select(b.zd).pipe((0,r.q)(1),(0,u.w)(T=>this._apollo.mutate({mutation:w,variables:{updateCurrencyInput:k},errorPolicy:"all"}).pipe((0,m.b)(({data:G})=>{const U=structuredClone(T);U[T.findIndex(N=>N.id===k.id)]=G.updateCurrency.currency,this.store.dispatch((0,x.HC)({currencies:U}))}))))}updateCurrencyStatus(k){return this.store.select(b.zd).pipe((0,r.q)(1),(0,u.w)(T=>this._apollo.mutate({mutation:q,variables:{updateEntityStatusInput:k},errorPolicy:"all"}).pipe((0,m.b)(({})=>{const U=structuredClone(T);U[T.findIndex(N=>N.id===k.id)].active=k.active,this.store.dispatch((0,x.HC)({currencies:U}))}))))}removeCurrency(k){return this.store.select(b.zd).pipe((0,r.q)(1),(0,u.w)(T=>this._apollo.mutate({mutation:S,variables:{removeCurrencyId:k},errorPolicy:"all"}).pipe((0,m.b)(({})=>{const U=structuredClone(T),Z=T.findIndex(N=>N.id===k);U.splice(Z,1),this.store.dispatch((0,x.HC)({currencies:U}))}))))}static#e=this.\u0275fac=function(T){return new(T||L)};static#t=this.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},63886:(X,Q,c)=>{c.r(Q),c.d(Q,{default:()=>Qn});var e=c(19212),r=c(56223),u=c(32296),m=c(64170),p=c(30617),y=c(24516),f=c(21476),x=c(55940),b=c(82599),h=c(13566),w=c(96814),q=c(64190),S=c(22096),A=c(78645),J=c(63019),d=c(59773),R=c(83620),L=c(94664),M=c(37398),k=c(83829),T=c(83604),G=c(53374),U=c(29643),Z=c(56278),N=c(9573),C=c(42090),he=c(47641),fe=c(82824),g=c(17700),D=c(22939),I=c(84221);function xe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",32),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updateBrandStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Ce(i,s){1&i&&e._UZ(0,"mat-spinner",29),2&i&&e.Q6J("diameter",20)("color","primary")}function ye(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e._uU(2),e.qZA(),e.TgZ(3,"div",27),e._uU(4),e.qZA(),e.TgZ(5,"div",22),e.YNc(6,xe,1,2,"mat-slide-toggle",28)(7,Ce,1,2,"mat-spinner",29),e.qZA(),e.TgZ(8,"div")(9,"button",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.updateBrand(a))}),e._UZ(10,"mat-icon",31),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.um2(6,n.isSlideLoading&&n.selectedSlide===o?-1:6),e.xp6(),e.um2(7,n.isSlideLoading&&n.selectedSlide===o?7:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit")}}function be(i,s){1&i&&e.SjG(0,ye,11,5,"div",33,e.QCX().trackByFn),2&i&&e.wJu(s)}const ve=i=>({"pointer-events-none":i}),Ze=()=>[5,10,25,100];function Te(i,s){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"div"),e.TgZ(3,"div",21),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"div",22),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",23),e._uU(8,"Detalles"),e.qZA()(),e.YNc(9,be,2,0),e.ALo(10,"async"),e.qZA(),e._UZ(11,"mat-paginator",24)),2&i){const t=e.oxw(2);let o;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(6),e.um2(9,(o=e.lcZ(10,8,t.brands$))?9:-1,o),e.xp6(2),e.Q6J("ngClass",e.VKq(10,ve,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,Ze))("showFirstLastButtons",!0)}}function we(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1,"\xa1No se ha creado ninguna marca!"),e.qZA())}function Ae(i,s){1&i&&e.YNc(0,Te,12,13)(1,we,2,0),2&i&&e.um2(0,s.length>0?0:1)}let ke=(()=>{class i{constructor(t,o,n,a){this._changeDetectorRef=t,this._dialog=o,this._snackBar=n,this.store=a,this.flashMessage=null,this.brands$=(0,S.of)([]),this.brands=[],this.merchantInputControl=new r.NI,this.isLoading=!1,this.searchInputControl=new r.NI,this.user=null,this.merchant=null,this.selectedSlide=null,this.isSlideLoading=!1,this._unsubscribeAll=new A.x,this._brandsService=(0,e.f3M)(he.G),this._fuseConfirmationService=(0,e.f3M)(Z.R)}ngOnInit(){this.store.select(G.rk).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.user=t,this._changeDetectorRef.markForCheck()}),this.store.select(U.Qs).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.merchant=t,this._changeDetectorRef.markForCheck()}),this.brands$=this.store.select(k.gg),this.brands$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.brands=t,this._changeDetectorRef.markForCheck()}),this.store.select(T.B).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,d.R)(this._unsubscribeAll),(0,R.b)(300),(0,L.w)(t=>(this.isLoading=!0,this._brandsService.getBrands(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction,t))),(0,M.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,J.T)(this._sort.sortChange,this._paginator.page).pipe((0,L.w)(()=>(this.isLoading=!0,this._brandsService.getBrands(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,M.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createBrand(){this._openDialog(new fe.H,"add")}updateBrand(t){this._openDialog(t,"edit")}updateBrandStatus(t,o,n){this.isSlideLoading=!0,this.selectedSlide=n,this._brandsService.updateBrandStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateBrandStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return t||o.id}_openDialog(t,o){this._dialog.open(N.C,{data:{brand:t,dialogMode:o},panelClass:"ath-dialog-panel",disableClose:!0})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.sBO),e.Y36(g.uw),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-brands"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:30,vars:11,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","sm:mt-0","sm:ml-4","gap-2"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","lists-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"hidden","sm:block"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","lists-grid","md:px-8"],[1,"flex","items-center"],[1,"truncate"],[3,"checked","color"],[3,"diameter","color"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b lists-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Almac\xe9n"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Marcas"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Marcas "),e.qZA()()(),e.TgZ(18,"div",10)(19,"mat-form-field",11),e._UZ(20,"mat-icon",12)(21,"input",13),e.qZA(),e.TgZ(22,"button",14),e.NdJ("click",function(){return n.createBrand()}),e._UZ(23,"mat-icon",15),e.TgZ(24,"span",16),e._uU(25,"Agregar"),e.qZA()()()(),e.TgZ(26,"div",17)(27,"div",18),e.YNc(28,Ae,2,1),e.ALo(29,"async"),e.qZA()()()),2&o){let a;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para filtrar..."),e.xp6(2),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(28,(a=e.lcZ(29,9,n.brands$))?28:-1,a)}},dependencies:[w.Ov,r.u5,r.Fj,r.JJ,u.ot,u.lW,m.lN,m.KE,m.qo,p.Ps,p.Hw,y.c,y.Nt,f.TU,f.NW,x.Cq,x.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,w.mk,r.UX,r.oH,q.rH],styles:[".brands-grid{grid-template-columns:auto 40px}@media (min-width: 600px){.brands-grid{grid-template-columns:auto 112px 72px}}@media (min-width: 960px){.brands-grid{grid-template-columns:112px auto 112px 72px}}@media (min-width: 1280px){.brands-grid{grid-template-columns:72px auto 250px 150px 72px 72px}}\n"],encapsulation:2,changeDetection:0})}return i})();var Le=c(78337),Fe=c(41894),Y=c(98445),Se=c(6111),ee=c(94748),E=c(24630),Ue=c(40242),te=c(61412),K=c(27921),$=c(98525),H=c(23680),ie=c(84021),oe=c(59298);function De(i,s){if(1&i&&(e.TgZ(0,"h2",6),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(),e.hij("Agregar esta categor\xeda a ",t.parentCategory.name,"")}}function qe(i,s){1&i&&(e.TgZ(0,"h2",6),e._uU(1,"Agregar categor\xeda"),e.qZA())}function Ie(i,s){1&i&&(e.TgZ(0,"h2",6),e._uU(1,"Editar categor\xeda"),e.qZA())}const Me=i=>({"text-center":i});function Ne(i,s){if(1&i&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(3,Me,"root"===t.id))("value",t.id),e.xp6(),e.hij(" ",t.name," ")}}function Je(i,s){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t+1," ")}}function Re(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el orden de la categor\xeda. "),e.qZA())}function Ge(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",16)(1,"mat-label"),e._uU(2,"Orden"),e.qZA(),e.TgZ(3,"mat-select",27),e.SjG(4,Je,2,2,"mat-option",28,e.x6l),e.qZA(),e.YNc(6,Re,2,0,"mat-error"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("formControlName","position")("placeholder","Orden"),e.xp6(),e.wJu(t.positions),e.xp6(2),e.um2(6,t.categoryForm.get("position").hasError("required")?6:-1)}}function Pe(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," El t\xedtulo de la categor\xeda es obligatorio. "),e.qZA())}function Qe(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," El t\xedtulo del elemento de categor\xeda debe poseer entre 3 y 255 caracteres. "),e.qZA())}function Ye(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Tooltip no debe superar los 255 caracteres. "),e.qZA())}function Ee(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," El \xcdcono no debe superar los 255 caracteres. "),e.qZA())}function Be(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",29,30),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openCropperDialog(n))}),e.qZA(),e.TgZ(3,"label",31),e._UZ(4,"mat-icon",32),e.qZA()()}2&i&&(e.xp6(),e.Q6J("multiple",!1)("accept","image/png, image/webp, image/jpeg, image/png"),e.xp6(3),e.Q6J("svgIcon","mat_solid:photo_camera"))}function Oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e._UZ(2,"mat-icon",32),e.qZA()()}2&i&&(e.xp6(2),e.Q6J("svgIcon","mat_solid:delete"))}function ze(i,s){if(1&i&&e._UZ(0,"img",34),2&i){const t=e.oxw(2);e.Q6J("src",t.categoryForm.get("imageUrl").value,e.LSH)}}const je=i=>({"bg-gray-200 mt-4":i});function $e(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"form",9)(3,"div",10)(4,"mat-form-field",11)(5,"mat-label"),e._uU(6,"Padre"),e.qZA(),e._UZ(7,"input",12),e.TgZ(8,"mat-autocomplete",13,14),e.NdJ("optionSelected",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCategoryOption(n))}),e.SjG(10,Ne,2,5,"mat-option",26,e.x6l),e.ALo(12,"async"),e.qZA(),e.TgZ(13,"mat-hint"),e._uU(14,"Si se especifica un padre este elemento se agregar\xe1 en la ra\xedz"),e.qZA()(),e.YNc(15,Ge,7,3,"mat-form-field",15),e.ynx(16),e.TgZ(17,"mat-form-field",16)(18,"mat-label"),e._uU(19,"Nombre"),e.qZA(),e._UZ(20,"input",17),e.YNc(21,Pe,2,0,"mat-error")(22,Qe,2,0,"mat-error"),e.qZA(),e.BQk(),e.ynx(23),e.TgZ(24,"mat-form-field",16)(25,"mat-label"),e._uU(26,"Tooltip"),e.qZA(),e._UZ(27,"input",18),e.YNc(28,Ye,2,0,"mat-error"),e.qZA(),e.BQk(),e.ynx(29),e.TgZ(30,"mat-form-field",16)(31,"mat-label"),e._uU(32,"\xcdcono"),e.qZA(),e._UZ(33,"input",19),e.YNc(34,Ee,2,0,"mat-error"),e.TgZ(35,"mat-hint"),e._uU(36,"Ejemplo: heroicons_solid:information-circle"),e.qZA()(),e.BQk(),e.ynx(37),e.TgZ(38,"div",20)(39,"span",21),e._uU(40,"Estado"),e.qZA(),e.TgZ(41,"mat-slide-toggle",22),e._uU(42),e.qZA()(),e.BQk(),e.TgZ(43,"div",23)(44,"div",24),e.YNc(45,Be,5,3,"div")(46,Oe,3,1,"div"),e.qZA(),e.YNc(47,ze,1,1,"img",25),e.qZA()()()()()}if(2&i){const t=e.MAs(9),o=e.oxw();e.xp6(2),e.Q6J("formGroup",o.categoryForm)("autocomplete","off"),e.xp6(5),e.Q6J("formControlName","parentId")("type","text")("matAutocomplete",t),e.xp6(),e.Q6J("displayWith",o.displayFn.bind(o)),e.xp6(2),e.wJu(e.lcZ(12,29,o.filteredCategories)),e.xp6(5),e.um2(15,o.positions.length>1?15:-1),e.xp6(5),e.Q6J("formControlName","name")("type","text")("placeholder","T\xedtulo")("minLength",3)("maxLength",255),e.xp6(),e.um2(21,o.categoryForm.get("name").hasError("required")?21:-1),e.xp6(),e.um2(22,o.categoryForm.get("name").hasError("maxLength")||o.categoryForm.get("name").hasError("minLength")?22:-1),e.xp6(5),e.Q6J("formControlName","tooltip")("placeholder","Tooltip")("maxLength",255),e.xp6(),e.um2(28,o.categoryForm.get("tooltip").hasError("maxLength")?28:-1),e.xp6(5),e.Q6J("formControlName","icon")("placeholder","SVG \xcdcono")("maxLength",1e3),e.xp6(),e.um2(34,o.categoryForm.get("icon").hasError("maxLength")?34:-1),e.xp6(7),e.Q6J("formControlName","active")("color","primary"),e.xp6(),e.hij(" ",!0===o.categoryForm.get("active").value?"Activo":"Inactivo"," "),e.xp6(),e.Q6J("ngClass",e.VKq(31,je,!o.categoryForm.get("imageUrl").value)),e.xp6(2),e.um2(45,o.categoryForm.get("imageUrl").value?-1:45),e.xp6(),e.um2(46,o.categoryForm.get("imageUrl").value?46:-1),e.xp6(),e.um2(47,o.categoryForm.get("imageUrl").value?47:-1)}}const ne=i=>({"cursor-not-allowed":i});function He(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateCategory())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.categoryForm.invalid)("ngClass",e.VKq(3,ne,t.categoryForm.invalid))}}function Ve(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createCategory())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.categoryForm.invalid)("ngClass",e.VKq(3,ne,t.categoryForm.invalid))}}function Ke(i,s){if(1&i&&(e.TgZ(0,"div",35),e.ynx(1),e.TgZ(2,"button",36),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,He,2,5,"button",37)(5,Ve,2,5,"button",37),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let We=(()=>{class i{constructor(t,o,n,a,l,_,v,V,F,P){this.data=t,this._changeDetectorRef=o,this._dialogRef=n,this._formBuilder=a,this._athConfirmationService=l,this._categoriesService=_,this._snackBar=v,this._imagesService=V,this._dialog=F,this.store=P,this.categories=[],this.allCategories=[],this.positions=[],this.position=0,this.searchMPermissionControl=new r.NI,this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode,this.selectedCategory=t.category,this.parentCategory=t.parentCategory}ngOnInit(){this.store.select(Ue.u).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.allCategories=[...t],this.filterCategory(t),this.calcPositions(!1)}),this.categoryForm=this._formBuilder.group({id:[null],position:[this.position,[r.kI.required]],name:["",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(255)]],tooltip:[null,[r.kI.maxLength(255)]],level:[0,[r.kI.required]],icon:[null,[r.kI.maxLength(255)]],parentId:[null,[r.kI.required]],imageUrl:[null],active:[!0]}),this._fillCategoryData(),this.filteredCategories=this.categoryForm.get("parentId").valueChanges.pipe((0,d.R)(this._unsubscribeAll),(0,R.b)(100),(0,K.O)(""),(0,L.w)(t=>!t&&this.categoryForm.get("parentId").value?(0,S.of)([]):(0,S.of)(t?this.categories.filter(o=>o.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())):this.categories)))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}selectedCategoryOption(t){const o=t.option.value;this.parentCategory=this.categories.find(n=>n.id===o),"root"===this.parentCategory.id&&(this.parentCategory=null),this.filterCategory(this.allCategories),this.calcPositions(!0),this.categoryForm.get("position").setValue(this.position),this._changeDetectorRef.markForCheck()}createCategory(){const t=this.categoryForm.getRawValue();delete t.id,this.parentCategory&&"root"!==this.parentCategory.id?t.level=this.parentCategory.level+1:t.parentId=null,this._athConfirmationService.open({title:"Crear categor\xeda",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._categoriesService.createCategory(t).subscribe(a=>{a&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog())})})}updateCategory(){const t=this.categoryForm.getRawValue();this.parentCategory&&"root"!==this.parentCategory.id?t.level=this.parentCategory.level+1:t.parentId=null,this._athConfirmationService.open({title:"Actualizar categor\xeda",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._categoriesService.updateCategory(t).subscribe(a=>{a&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog())})})}openCropperDialog(t){this._dialog.open(te.u,{data:{image:t},panelClass:"ath-dialog-panel",minWidth:"200px",maxWidth:"500px",maxHeight:"90vh",disableClose:!0}).afterClosed().subscribe(n=>{n.size/1024/1024>1?this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}}):this._imagesService.uploadImage("List",n).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this.categoryForm.get("imageUrl").setValue(a.imageUrl),"edit"===this.dialogMode?(this.selectedCategory.imageUrl=a.imageUrl,this.selectedCategory.imageCode=a.public_id,this._categoriesService.updateCategoryImage({id:this.selectedCategory.id,imageUrl:a.imageUrl,imageCode:a.public_id},this.selectedCategory).pipe((0,d.R)(this._unsubscribeAll)).subscribe(l=>{l&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())})):this._changeDetectorRef.markForCheck()},a=>{console.warn(a)})})}removeImage(){const t=this.categoryForm.get("imageUrl").value;this._athConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen?",icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._imagesService.removeImage(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this.categoryForm.get("imageUrl").setValue(null),"edit"===this.dialogMode&&(this.selectedCategory.imageUrl=null,this.selectedCategory.imageCode=null,this._categoriesService.updateCategoryImage({id:this.selectedCategory.id,imageUrl:null,imageCode:null},this.selectedCategory).pipe((0,d.R)(this._unsubscribeAll)).subscribe(l=>{l&&this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()}))})})}displayFn(t){const o=this.categories.find(n=>n.id===t);return o?o.name:""}closeDialog(){this._dialogRef.close()}_fillCategoryData(){"edit"===this.dialogMode&&(this.categoryForm.patchValue(this.selectedCategory),this.parentCategory||this.categoryForm.get("parentId").setValue("root")),"add"===this.dialogMode&&(this.parentCategory&&this.categoryForm.get("parentId").setValue(this.parentCategory.id),this.parentCategory||this.categoryForm.get("parentId").setValue("root")),this._changeDetectorRef.markForCheck()}filterCategory(t){return this.selectedCategory?"edit"===this.dialogMode&&(this.categories=[...t.filter(o=>this.selectedCategory.id!==o.id)]):this.categories=[...t],this.categories.push({level:-1,id:"root",name:"----Principal----"}),this.categories.sort((o,n)=>o.level-n.level)}calcPositions(t){if(this.positions=[],this.position=0,this.parentCategory&&this.parentCategory.children&&this.parentCategory.children.length>0){for(let o=0;o<this.parentCategory.children.length;o++)this.positions.push(o);"add"===this.dialogMode?(this.position=this.positions.length,this.positions.push(this.positions.length)):t&&this.positions.push(this.positions.length)}if(!this.parentCategory){const o=this.allCategories.filter(n=>null===n.parentId);for(let n=0;n<o.length;n++)this.positions.push(n);"add"===this.dialogMode?(this.position=this.positions.length,this.positions.push(this.positions.length)):this.positions.push(this.positions.length)}}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(e.sBO),e.Y36(g.so),e.Y36(r.QS),e.Y36(Z.R),e.Y36(ie.H),e.Y36(D.ux),e.Y36(oe.C),e.Y36(g.uw),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["category-dialog"]],standalone:!0,features:[e.jDz],decls:10,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl","mat-dialog-title",""],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],["mat-dialog-title","",1,"text-2xl"],[1,"w-full","overflow-hidden"],[1,"flex","border-t"],[1,"flex","flex-col","w-full","pt-8",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2","md:grid-cols-3"],[1,"fuse-mat-no-subscript"],["matInput","","placeholder","Elemento padre","aria-label","Number",3,"formControlName","type","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","w-full "],[1,"w-full"],["matInput","","required","",3,"formControlName","type","placeholder","minLength","maxLength"],["matInput","","require","",3,"formControlName","placeholder","maxLength"],["matInput","",3,"formControlName","placeholder","maxLength"],[1,"flex","flex-col"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-md","dark:bg-gray-600","ring-4","ring-bg-card",3,"ngClass"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],["class","object-cover w-full h-full",3,"src"],[3,"ngClass","value"],["required","",3,"formControlName","placeholder"],[3,"value"],["id","thumbnail-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["thumbnailFileInput",""],["for","thumbnail-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-primary",3,"svgIcon"],["mat-icon-button","",3,"click"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,De,2,1,"h2",2)(4,qe,2,0,"h2",2)(5,Ie,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,$e,48,33,"div",4),e.BQk(),e.qZA(),e.YNc(9,Ke,6,3,"div",5),e.qZA()),2&o&&(e.xp6(3),e.um2(3,"add"===n.dialogMode&&n.parentCategory?3:-1),e.xp6(),e.um2(4,"add"!==n.dialogMode||n.parentCategory?-1:4),e.xp6(),e.um2(5,"edit"===n.dialogMode?5:-1),e.xp6(3),e.um2(8,"view"!==n.dialogMode?8:-1),e.xp6(),e.um2(9,"view"!==n.data.dialogMode?9:-1))},dependencies:[g.uh,r.u5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.UX,r.sg,r.u,m.lN,m.KE,m.hX,m.bx,m.TO,y.c,y.Nt,E.Bb,E.XC,H.ey,E.ZL,H.Ng,w.mk,$.LD,$.gD,b.rP,b.Rr,H.si,H.wG,p.Ps,p.Hw,u.ot,u.lW,u.RK,g.ZT,w.Ov],encapsulation:2,changeDetection:0})}return i})();class Xe{}var ae=c(92596),et=c(95407),tt=c(57830),it=c(9236);function ot(i,s){if(1&i&&(e.TgZ(0,"div",48)(1,"div",49),e._UZ(2,"div",50),e.qZA(),e.TgZ(3,"span",51),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.item.name)}}function nt(i,s){if(1&i&&(e.TgZ(0,"div",48)(1,"button",52),e._UZ(2,"mat-icon",47),e.qZA(),e.TgZ(3,"span",53),e._uU(4),e.qZA()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(),e.uIk("aria-label","Expandir "+t.item.name),e.xp6(),e.Q6J("svgIcon",o.treeControl.isExpanded(t)?"heroicons_outline:chevron-down":"heroicons_outline:chevron-right"),e.xp6(2),e.Oqu(t.item.name)}}function at(i,s){if(1&i&&e._UZ(0,"img",54),2&i){const t=e.oxw().$implicit;e.Q6J("alt","Foto")("src",t.item.imageUrl,e.LSH)}}function st(i,s){1&i&&e._UZ(0,"div",55)}function rt(i,s){if(1&i&&e._UZ(0,"mat-icon",47),2&i){const t=e.oxw().$implicit;e.Q6J("svgIcon",t.item.icon)}}function lt(i,s){1&i&&e._UZ(0,"span")}function ct(i,s){if(1&i&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(),e.Oqu(o.flatNodeMap.get(t).children.length)}}function dt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.dobleClick(n))})("change",function(n){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.updateCategoryStatus(n,a,a.item.id))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.item.active)("color","primary")}}function mt(i,s){1&i&&e._UZ(0,"mat-spinner",44),2&i&&e.Q6J("diameter",20)("color","primary")}const pt=(i,s)=>({"bg-gray-800 dark:bg-white":i,"bg-gray-700 dark:bg-neutral-50":s});function ut(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tree-node",34),e.NdJ("mouseenter",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.mouseEnterLeave(a.item.id))})("mouseleave",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.mouseEnterLeave(a.item.id))})("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.mouseOver(a.item.id))})("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dobleClick(a))}),e.YNc(1,ot,5,1,"div",35)(2,nt,5,3,"div",35),e.TgZ(3,"div",36)(4,"div",37),e.YNc(5,at,1,2,"img",38)(6,st,1,0,"div",39),e.qZA()(),e.TgZ(7,"div",30),e.YNc(8,rt,1,1,"mat-icon",40),e.qZA(),e.YNc(9,lt,1,0,"span")(10,ct,2,1,"span",41),e.TgZ(11,"div",42),e.YNc(12,dt,1,2,"mat-slide-toggle",43)(13,mt,1,2,"mat-spinner",44),e.qZA(),e.TgZ(14,"div",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dobleClick(a))}),e.TgZ(15,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.createCategory(a))}),e._UZ(16,"mat-icon",47),e.qZA(),e.TgZ(17,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.editCategory(a))}),e._UZ(18,"mat-icon",47),e.qZA(),e.TgZ(19,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteCategory(l.flatNodeMap.get(a)))}),e._UZ(20,"mat-icon",47),e.qZA()()()}if(2&i){const t=s.$implicit,o=e.oxw(2);e.Q6J("ngClass",e.WLB(13,pt,t.item.id===o.selectedCategoryId,t.item.id===o.overCategoryId)),e.xp6(),e.um2(1,0===o.flatNodeMap.get(t).children.length?1:-1),e.xp6(),e.um2(2,o.flatNodeMap.get(t).children.length>0?2:-1),e.xp6(3),e.um2(5,t.item.imageUrl?5:-1),e.xp6(),e.um2(6,t.item.imageUrl?-1:6),e.xp6(2),e.um2(8,t.item.icon?8:-1),e.xp6(),e.um2(9,0===o.flatNodeMap.get(t).children.length?9:-1),e.xp6(),e.um2(10,o.flatNodeMap.get(t).children.length>0?10:-1),e.xp6(2),e.um2(12,o.isLoading&&o.selectedSlide===t.item.id?-1:12),e.xp6(),e.um2(13,o.isLoading&&o.selectedSlide===t.item.id?13:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:add"),e.xp6(2),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function _t(i,s){if(1&i&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2," Nombre "),e.qZA(),e.TgZ(3,"div",30),e._uU(4," Imagen "),e.qZA(),e.TgZ(5,"div",30),e._uU(6," Icono "),e.qZA(),e.TgZ(7,"div",30),e._uU(8," #.Elementos "),e.qZA(),e.TgZ(9,"div",30),e._uU(10," Estado "),e.qZA(),e.TgZ(11,"div",31),e._uU(12," Acciones "),e.qZA()(),e.TgZ(13,"mat-tree",32),e.YNc(14,ut,21,16,"mat-tree-node",33),e.qZA()),2&i){const t=e.oxw();e.xp6(13),e.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl)}}function gt(i,s){1&i&&(e.TgZ(0,"div",57),e._uU(1," \xa1No se ha creado ning\xfan elemento a\xfan!"),e.qZA())}function ht(i,s){if(1&i&&(e.TgZ(0,"div",57),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado facturas!":"\xa1No se ha generado ninguna suscripci\xf3n a\xfan!","")}}let ft=(()=>{class i{constructor(t,o,n,a,l,_,v,V){this.store=t,this.dialog=o,this._snackBar=n,this._categoryService=a,this._fuseConfigService=l,this._changeDetectorRef=_,this._fuseConfirmationService=v,this._fuseMediaWatcherService=V,this.categories=[],this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.checklistSelection=new Le.Ov(!0),this.isLoading=!1,this.selectedSlide=null,this._unsubscribeAll=new A.x,this.getLevel=F=>F.level,this.isExpandable=F=>F.expandable,this.getChildren=F=>F.children,this.hasChild=(F,P)=>P.expandable,this.hasNoContent=(F,P)=>""===P.item.name,this.transformer=(F,P)=>{const z=this.nestedNodeMap.get(F),j=z&&z.item===F.item?z:new Xe;return j.item=F.item,j.level=P,j.expandable=!!F.children?.length,this.flatNodeMap.set(j,F),this.nestedNodeMap.set(F,j),j},this.treeFlattener=new Y.JZ(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new Fe.C2(this.getLevel,this.isExpandable),this.dataSource=new Y.kc(this.treeControl,this.treeFlattener)}ngOnInit(){this._categoryService.data$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{if(this.previousTreeControl=structuredClone(this.treeControl),this.dataSource.data=t,this.previousTreeControl&&void 0!==this.previousTreeControl.dataNodes)for(const n of this.previousTreeControl.dataNodes)if(this.previousTreeControl.isExpanded(n)){const a=this.treeControl.dataNodes.find(l=>l.item.id===n.item.id);this.treeControl.expand(a)}const o={item:null,children:t};this.categories=[],this.getCategories(o),this.store.dispatch((0,Se.DG)({categories:[...this.categories]})),this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{this.isScreenSmall=!t.includes("md")}),this._fuseConfigService.config$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.config=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}descendantsAllSelected(t){const o=this.treeControl.getDescendants(t);return o.length>0&&o.every(a=>this.checklistSelection.isSelected(a))}descendantsPartiallySelected(t){return this.treeControl.getDescendants(t).some(a=>this.checklistSelection.isSelected(a))&&!this.descendantsAllSelected(t)}mouseEnterLeave(t){this.selectedCategoryId=t===this.selectedCategoryId?"":t}mouseOver(t){this.overCategoryId=t===this.overCategoryId?"":t}dobleClick(t){this.treeControl.isExpanded(t)?this.treeControl.collapse(t):this.treeControl.expand(t)}refreshCategories(){this._categoryService.getRootCategoryNodes().pipe((0,d.R)(this._unsubscribeAll)).subscribe()}updateCategoryStatus(t,o,n){this.isLoading=!0,this.selectedSlide=n,this._categoryService.updateCategoryStatus({id:o.item.id,active:t.checked},o.item).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck())})}createCategory(t){if(t){const o=this.categories.find(n=>n.id===t.item.id);this._openDialog(o,null,"add")}else this._openDialog(null,null,"add")}editCategory(t){let o=this.categories.find(n=>n.id===t.item.parentId);o=void 0===o?null:o,this._openDialog(o,t.item,"edit")}deleteCategory(t){this._fuseConfirmationService.open({title:"Eliminar Elemento",message:`\xbfEst\xe1 seguro que desea eliminar a ${t.item.name}? ${t.children.length>0?"Este elemento posee otros elementos":""}.`,icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._categoryService.removeCategory(t.item.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{a&&this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}expandAll(){this.treeControl.expandAll()}collapseAll(){this.treeControl.collapseAll()}_openDialog(t,o,n){this.dialog.open(We,{data:{parentCategory:t,category:o,dialogMode:n},disableClose:!0,panelClass:"ath-nrp-dialog-panel"})}getCategories(t){for(const o of t.children){const n={...o.item};n.children=[...o.children],this.categories.push(n),o.children&&o.children.length>0&&this.getCategories(o)}}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(I.yh),e.Y36(g.uw),e.Y36(D.ux),e.Y36(ie.H),e.Y36(tt.m),e.Y36(e.sBO),e.Y36(Z.R),e.Y36(it.T))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["settings-category"]],standalone:!0,features:[e.jDz],decls:42,vars:6,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-row","justify-between","w-full","min-w-0","overflow-x-hidden","overflow-y-hidden","bg-card","dark:bg-transparent"],[1,"flex","flex-col","flex-auto","overflow-y-auto"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-20"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight"],[1,"flex","flex-row-reverse","flex-wrap","items-center","justify-end","mt-2","sm:flex-row","sm:mt-0","shrink-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["mat-stroked-button","",1,"ml-4",3,"click"],["svgIcon","mat_solid:close_fullscreen"],[1,"hidden","ml-2","mr-1","sm:block"],["mat-stroked-button","",1,"ml-0","sm:ml-4",3,"click"],["svgIcon","mat_solid:expand"],["mat-icon-button","","matTooltip","Refrescar",1,"ml-4","text-white","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[1,"text-white",3,"svgIcon"],[1,"flex","flex-col","flex-auto"],[1,"grid"],["noSubscriptions",""],[1,"sticky","top-0","z-10","grid","gap-4","px-0","py-4","font-semibold","shadow","category-tree-table","xl:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"ml-6","xl:ml-0"],[1,"text-center"],[1,"pr-4","mr-6","text-right","xl:mr-0"],[3,"dataSource","treeControl"],["class","grid category-tree-table gap-4 relative  py-1.5 border-b rounded-md bg-opacity-5 dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click",4,"matTreeNodeDef"],[1,"grid","category-tree-table","gap-4","relative","py-1.5","border-b","rounded-md","bg-opacity-5","dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click"],["class","flex items-center","matTreeNodePadding","","matTreeNodePaddingIndent","20"],[1,"flex","items-center","justify-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],["class","icon-size-5",3,"svgIcon"],["class","text-center"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2","pr-2","text-right",3,"click"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["matTreeNodePadding","","matTreeNodePaddingIndent","20",1,"flex","items-center"],["matTreeNodeToggle","","mat-icon-button","","color","primary",1,"flex","items-center","justify-center","w-10","h-10"],[1,"w-2","h-2","rounded-full","bg-primary-500"],[1,"cursor-default","whitespace-nowrap","line-clamp-1"],["mat-icon-button","","matTreeNodeToggle","","color","primary"],[1,"cursor-default","whitespace-nowrap"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[3,"checked","color","click","change"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"div",5)(7,"a",6),e._uU(8,"Inicio"),e.qZA()(),e.TgZ(9,"div",5),e._UZ(10,"mat-icon",7),e.TgZ(11,"a",8),e._uU(12,"Categor\xedas"),e.qZA()()(),e.TgZ(13,"div",9)(14,"a",10),e._UZ(15,"mat-icon",7),e.TgZ(16,"span",11),e._uU(17,"Regresar"),e.qZA()()()(),e.TgZ(18,"div",12)(19,"div",13),e._uU(20," Gesti\xf3n de Categor\xedas "),e.qZA()()(),e.TgZ(21,"div",14)(22,"button",15),e.NdJ("click",function(){return n.createCategory(null)}),e._UZ(23,"mat-icon",16),e.TgZ(24,"span",17),e._uU(25,"Nuevo"),e.qZA()(),e.TgZ(26,"button",18),e.NdJ("click",function(){return n.collapseAll()}),e._UZ(27,"mat-icon",19),e.TgZ(28,"span",20),e._uU(29,"Contraer"),e.qZA()(),e.TgZ(30,"button",21),e.NdJ("click",function(){return n.expandAll()}),e._UZ(31,"mat-icon",22),e.TgZ(32,"span",20),e._uU(33,"Expandir"),e.qZA()(),e.TgZ(34,"button",23),e.NdJ("click",function(){return n.refreshCategories()}),e._UZ(35,"mat-icon",24),e.qZA()()(),e.TgZ(36,"div",25)(37,"div",26),e.YNc(38,_t,15,2)(39,gt,2,0)(40,ht,2,1,"ng-template",null,27,e.W1O),e.qZA()()()()),2&o&&(e.xp6(10),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","mat_solid:add"),e.xp6(12),e.Q6J("svgIcon","mat_solid:refresh"),e.xp6(3),e.um2(38,n.dataSource.data&&n.dataSource.data.length>0?38:39))},dependencies:[et.PQ,q.rH,p.Ps,p.Hw,u.ot,u.lW,u.RK,ae.AV,ae.gM,Y.dp,Y.fQ,Y.ah,Y.eu,Y.gi,Y.uo,w.mk,b.rP,b.Rr,x.Cq,x.Ou],encapsulation:2,data:{animation:ee.L},changeDetection:0})}return i})(),xt=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-lists"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(o,n){1&o&&e._UZ(0,"router-outlet")},dependencies:[q.lC],encapsulation:2})}return i})();var se=c(21510),B=c(55497),re=c(46482);function Ct(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar Moneda "),e.qZA())}function yt(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar Moneda "),e.qZA())}function bt(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.currency.name||"Sin nombre")}}function vt(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e._UZ(6,"input",19),e.qZA(),e.TgZ(7,"mat-form-field",18)(8,"mat-label"),e._uU(9,"Nombre en el Versat"),e.qZA(),e._UZ(10,"input",20),e.qZA(),e.TgZ(11,"mat-form-field",18)(12,"mat-label"),e._uU(13,"ISO"),e.qZA(),e._UZ(14,"input",21),e.qZA(),e.TgZ(15,"mat-form-field",18)(16,"mat-label"),e._uU(17,"S\xedmbolo"),e.qZA(),e._UZ(18,"input",22),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.currencyForm)("autocomplete","off"),e.xp6(4),e.Q6J("formControlName","name")("placeholder","Ejemplo: D\xf3lar Estadounidense"),e.xp6(4),e.Q6J("formControlName","namev")("placeholder","Ejemplo: D\xf3lar Estadounidense"),e.xp6(4),e.Q6J("formControlName","iso")("placeholder","Ejemplo: USD"),e.xp6(4),e.Q6J("formControlName","symbol")("placeholder","Ejemplo: $")}}function Zt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateCurrency())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.currencyForm.invalid)("matDialogClose","confirmed")}}function Tt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createCurrency())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.currencyForm.invalid)("matDialogClose","confirmed")}}function wt(i,s){if(1&i&&(e.TgZ(0,"div",23),e.ynx(1),e.TgZ(2,"button",24),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,Zt,2,3,"button",25)(5,Tt,2,3,"button",25),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let At=(()=>{class i{constructor(t){this.data=t,this.dialogMode="view",this._unsubscribeAll=new A.x,this._currenciesService=(0,e.f3M)(re.t),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._formBuilder=(0,e.f3M)(r.qu),this._fuseConfirmationService=(0,e.f3M)(Z.R),this._dialogRef=(0,e.f3M)(g.so),this.dialogMode=t.dialogMode,this.currency=t.currency}ngOnInit(){this.currencyForm=this._formBuilder.group({id:new r.NI(null),name:new r.NI(null,[r.kI.maxLength(50)]),namev:new r.NI(null,[r.kI.maxLength(50)]),iso:new r.NI(null,[r.kI.maxLength(5)]),symbol:new r.NI(null,[r.kI.maxLength(5)])}),"edit"===this.dialogMode&&this.currencyForm.patchValue(this.currency)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createCurrency(){let t=this.currencyForm.getRawValue();t=(0,B.Z)(t,["id"]),this._fuseConfirmationService.open({title:"Crear Moneda",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._currenciesService.createCurrency(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:"Moneda creada correctamente",icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}updateCurrency(){const t=this.currencyForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Moneda",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._currenciesService.updateCurrency(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:"Moneda actualizada correctamente",icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-currency-dialog"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-3","gap-5",3,"formGroup","autocomplete"],[1,"w-full"],["matInput","","type","text","required","","maxlength","50",3,"formControlName","placeholder"],["matInput","","type","text","maxlength","50",3,"formControlName","placeholder"],["matInput","","type","text","required","","maxlength","5",3,"formControlName","placeholder"],["matInput","","type","text","maxlength","5",3,"formControlName","placeholder"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Ct,2,0,"h2",2)(4,yt,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.YNc(7,bt,9,1,"div",4),e.BQk(),e.ynx(8),e.YNc(9,vt,19,10,"div",5),e.BQk(),e.qZA(),e.YNc(10,wt,6,3,"div",6),e.qZA()),2&o&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,"edit"===n.data.dialogMode?4:-1),e.xp6(3),e.um2(7,"view"===n.data.dialogMode?7:-1),e.xp6(2),e.um2(9,9),e.xp6(),e.um2(10,"view"!==n.data.dialogMode?10:-1))},dependencies:[r.u5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,u.ot,u.lW,g.ZT,m.lN,m.KE,m.hX,y.c,y.Nt,r.UX,r.sg,r.u],encapsulation:2,changeDetection:0})}return i})();class kt{}const Lt=(i,s)=>s.id;function Ft(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",29),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updateCurrencyStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function St(i,s){1&i&&e._UZ(0,"mat-spinner",25),2&i&&e.Q6J("diameter",20)("color","primary")}function Ut(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22),e._uU(2),e.qZA(),e.TgZ(3,"div",22),e._uU(4),e.qZA(),e.TgZ(5,"div",22),e._uU(6),e.qZA(),e.TgZ(7,"div",22),e._uU(8),e.qZA(),e.TgZ(9,"div",23),e.YNc(10,Ft,1,2,"mat-slide-toggle",24)(11,St,1,2,"mat-spinner",25),e.qZA(),e.TgZ(12,"div",26)(13,"button",27),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.openDialog(a,"edit"))}),e._UZ(14,"mat-icon",28),e.qZA(),e.TgZ(15,"button",27),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteCurrency(a))}),e._UZ(16,"mat-icon",28),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.namev," "),e.xp6(2),e.hij(" ",t.iso," "),e.xp6(2),e.hij(" ",t.symbol," "),e.xp6(2),e.um2(10,n.isSlideLoading&&n.selectedSlide===o?-1:10),e.xp6(),e.um2(11,n.isSlideLoading&&n.selectedSlide===o?11:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function Dt(i,s){1&i&&e.SjG(0,Ut,17,8,"div",30,Lt),2&i&&e.wJu(s)}function qt(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19),e._uU(3," Nombre "),e.qZA(),e.TgZ(4,"div",19),e._uU(5," Nombre en el Versat "),e.qZA(),e.TgZ(6,"div"),e._uU(7," ISO "),e.qZA(),e.TgZ(8,"div"),e._uU(9," S\xedmbolo "),e.qZA(),e.TgZ(10,"div",20),e._uU(11," Activo "),e.qZA(),e.TgZ(12,"div",20),e._uU(13," Acciones "),e.qZA()(),e.YNc(14,Dt,2,0),e.ALo(15,"async"),e.qZA()),2&i){const t=e.oxw(2);let o;e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(2),e.Q6J("mat-sort-header","namev"),e.xp6(10),e.um2(14,(o=e.lcZ(15,3,t.currencies$))?14:-1,o)}}function It(i,s){1&i&&(e.TgZ(0,"div",31),e._uU(1," \xa1No hay monedas creadas para el negocio!"),e.qZA())}function Mt(i,s){1&i&&e.YNc(0,qt,16,5,"div",16)(1,It,2,0),2&i&&e.um2(0,s.length>0?0:1)}let Nt=(()=>{class i{constructor(){this.currencies$=(0,S.of)([]),this.currency=new kt,this.isSlideLoading=!1,this.selectedSlide=null,this._unsubscribeAll=new A.x,this._currenciesService=(0,e.f3M)(re.t),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._dialog=(0,e.f3M)(g.uw),this._fuseConfirmationService=(0,e.f3M)(Z.R),this._snackBar=(0,e.f3M)(D.ux),this.store=(0,e.f3M)(I.yh)}ngOnInit(){this.currencies$=this.store.select(se.zd)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteCurrency(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la moneda: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._currenciesService.removeCurrency(t.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:"Moneda eliminada correctamente",icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1}),this._changeDetectorRef.markForCheck()})})}updateCurrencyStatus(t,o,n){this.isSlideLoading=!0,this.selectedSlide=n,this._currenciesService.updateCurrencyStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateUserStatus,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openDialog(t,o){this._dialog.open(At,{data:{currency:t,dialogMode:o},width:"90%",panelClass:"ath-dialog-panel",disableClose:!0})}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-currencies"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:27,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","currencies-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"text-center"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","currencies-grid","md:px-8"],[1,"truncate"],[1,"hidden","text-center","sm:block"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b currencies-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Ajustes"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Monedas"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Monedas "),e.qZA()()(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return n.openDialog(n.currency,"add")}),e._UZ(20,"mat-icon",12),e.TgZ(21,"span",13),e._uU(22,"Agregar"),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",15),e.YNc(25,Mt,2,1),e.ALo(26,"async"),e.qZA()()()),2&o){let a;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(8),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(25,(a=e.lcZ(26,4,n.currencies$))?25:-1,a)}},dependencies:[w.Ov,u.ot,u.lW,p.Ps,p.Hw,x.Cq,x.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,q.rH],styles:[".currencies-grid{grid-template-columns:20% 20% 15% 10% 20% auto}@media (min-width: 600px){.currencies-grid{grid-template-columns:20% 20% 15% 10% 20% auto}}\n"],encapsulation:2,changeDetection:0})}return i})();var Jt=c(302),le=c(865);function Rt(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar m\xe9todo de pago "),e.qZA())}function Gt(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar m\xe9todo de pago "),e.qZA())}function Pt(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.paymentMethod.name||"Sin nombre")}}function Qt(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"div",18)(4,"mat-form-field",19)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",20),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.paymentMethodForm)("autocomplete","off"),e.xp6(5),e.Q6J("formControlName","name")("placeholder","Ejemplo: Transferencia")}}function Yt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updatePaymentMethod())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.paymentMethodForm.invalid)("matDialogClose","confirmed")}}function Et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createPaymentMethod())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.paymentMethodForm.invalid)("matDialogClose","confirmed")}}function Bt(i,s){if(1&i&&(e.TgZ(0,"div",21),e.ynx(1),e.TgZ(2,"button",22),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,Yt,2,3,"button",23)(5,Et,2,3,"button",23),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let Ot=(()=>{class i{constructor(t,o,n,a,l,_,v){this.data=t,this._paymentMethodsService=o,this._changeDetectorRef=n,this._formBuilder=a,this._fuseConfirmationService=l,this._snackBar=_,this._dialogRef=v,this.dialogMode="view",this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode,this.paymentMethod=t.paymentMethod}ngOnInit(){this.paymentMethodForm=this._formBuilder.group({id:new r.NI(null),name:new r.NI(null,[r.kI.maxLength(50)])}),"edit"===this.dialogMode&&this.paymentMethodForm.patchValue(this.paymentMethod)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createPaymentMethod(){let t=this.paymentMethodForm.getRawValue();t=(0,B.Z)(t,["id"]),this._fuseConfirmationService.open({title:"Crear M\xe9todo de Pago",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._paymentMethodsService.createPaymentMethod(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.createPaymentMethod.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})}),this._changeDetectorRef.markForCheck()})}updatePaymentMethod(){const t=this.paymentMethodForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar M\xe9todo de Pago",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._paymentMethodsService.updatePaymentMethod(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updatePaymentMethod.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(le.o),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(Z.R),e.Y36(D.ux),e.Y36(g.so))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-payment-method-dialog"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],[1,"py-5"],[1,"w-full"],["matInput","","type","text","required","","maxlength","255",3,"formControlName","placeholder"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Rt,2,0,"h2",2)(4,Gt,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.YNc(7,Pt,9,1,"div",4),e.BQk(),e.ynx(8),e.YNc(9,Qt,8,4,"div",5),e.BQk(),e.qZA(),e.YNc(10,Bt,6,3,"div",6),e.qZA()),2&o&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,"edit"===n.data.dialogMode?4:-1),e.xp6(3),e.um2(7,"view"===n.data.dialogMode?7:-1),e.xp6(2),e.um2(9,9),e.xp6(),e.um2(10,"view"!==n.data.dialogMode?10:-1))},dependencies:[r.u5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.UX,r.sg,r.u,m.lN,m.KE,m.hX,y.c,y.Nt,u.ot,u.lW,g.ZT],encapsulation:2})}return i})();class zt{}const jt=(i,s)=>s.id;function $t(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",33),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updatePaymentMethodStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Ht(i,s){1&i&&e._UZ(0,"mat-spinner",29),2&i&&e.Q6J("diameter",20)("color","primary")}function Vt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27),e._uU(2),e.qZA(),e.TgZ(3,"div",27),e._uU(4),e.qZA(),e.TgZ(5,"div",23),e.YNc(6,$t,1,2,"mat-slide-toggle",28)(7,Ht,1,2,"mat-spinner",29),e.qZA(),e.TgZ(8,"div",30)(9,"button",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.openDialog(a,"edit"))}),e._UZ(10,"mat-icon",32),e.qZA(),e.TgZ(11,"button",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deletePaymentMethod(a))}),e._UZ(12,"mat-icon",32),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.um2(6,n.isSlideLoading&&n.selectedSlide===o?-1:6),e.xp6(),e.um2(7,n.isSlideLoading&&n.selectedSlide===o?7:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function Kt(i,s){1&i&&e.SjG(0,Vt,13,6,"div",34,jt),2&i&&e.wJu(s)}const Wt=i=>({"pointer-events-none":i}),Xt=()=>[5,10,25,100];function ei(i,s){if(1&i&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"div"),e.TgZ(3,"div",22),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",23),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",24),e._uU(8," Acciones "),e.qZA()(),e.YNc(9,Kt,2,0),e.ALo(10,"async"),e._UZ(11,"mat-paginator",25),e.qZA()),2&i){const t=e.oxw(2);let o;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(6),e.um2(9,(o=e.lcZ(10,8,t.paymentMethods$))?9:-1,o),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Wt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,Xt))("showFirstLastButtons",!0)}}function ti(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1," \xa1No hay m\xe9todos de pago creadas para el negocio!"),e.qZA())}function ii(i,s){1&i&&e.YNc(0,ei,12,13,"div",19)(1,ti,2,0),2&i&&e.um2(0,s.length>0?0:1)}let oi=(()=>{class i{constructor(t,o,n,a,l,_){this._changeDetectorRef=t,this._dialog=o,this._fuseConfirmationService=n,this._paymentMethodsService=a,this._snackBar=l,this.store=_,this.isLoading=!1,this.isSlideLoading=!1,this.paymentMethod=new zt,this.paymentMethods$=(0,S.of)([]),this.searchInputControl=new r.NI,this.selectedSlide=null,this._unsubscribeAll=new A.x}ngOnInit(){this.paymentMethods$=this.store.select(Jt.VS),this.store.select(T.B).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,d.R)(this._unsubscribeAll),(0,R.b)(300),(0,L.w)(t=>(this.isLoading=!0,this._paymentMethodsService.getPaymentMethods(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction,t))),(0,M.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,J.T)(this._sort.sortChange,this._paginator.page).pipe((0,L.w)(()=>(this.isLoading=!0,this._paymentMethodsService.getPaymentMethods(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,M.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deletePaymentMethod(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar el m\xe9todo de pago: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._paymentMethodsService.removePaymentMethod(t.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.removePaymentMethod.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updatePaymentMethodStatus(t,o,n){this.isSlideLoading=!0,this.selectedSlide=n,this._paymentMethodsService.updatePaymentMethodStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateUserStatus,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openDialog(t,o){this._dialog.open(Ot,{data:{paymentMethod:t,dialogMode:o},width:"90%",panelClass:"ath-dialog-panel",disableClose:!0})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.sBO),e.Y36(g.uw),e.Y36(Z.R),e.Y36(le.o),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-payment-methods"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:30,vars:11,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","lists-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"hidden","text-center","sm:block"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","lists-grid","md:px-8"],[1,"truncate"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b lists-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Nomencladores"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"M\xe9todos de pago"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," M\xe9todos de pago "),e.qZA()()(),e.TgZ(18,"div",10)(19,"mat-form-field",11),e._UZ(20,"mat-icon",12)(21,"input",13),e.qZA(),e.TgZ(22,"button",14),e.NdJ("click",function(){return n.openDialog(n.paymentMethod,"add")}),e._UZ(23,"mat-icon",15),e.TgZ(24,"span",16),e._uU(25,"Agregar"),e.qZA()()()(),e.TgZ(26,"div",17)(27,"div",18),e.YNc(28,ii,2,1),e.ALo(29,"async"),e.qZA()()()),2&o){let a;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para filtrar..."),e.xp6(2),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(28,(a=e.lcZ(29,9,n.paymentMethods$))?28:-1,a)}},dependencies:[q.rH,p.Ps,p.Hw,m.lN,m.KE,m.qo,y.c,y.Nt,r.u5,r.Fj,r.JJ,r.UX,r.oH,u.ot,u.lW,h.JX,h.YE,h.nU,b.rP,b.Rr,x.Cq,x.Ou,f.TU,f.NW,w.mk,w.Ov],encapsulation:2,changeDetection:0})}return i})();var ni=c(40779),ai=c(7604),si=c(75598),ri=c(9427),li=c(6514),ci=c(85194),di=c(7185),ce=c(47337);function mi(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar tipo de operaci\xf3n "),e.qZA())}function pi(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar tipo de operaci\xf3n "),e.qZA())}function ui(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.operationType.name||"Sin nombre")}}function _i(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"div",18)(4,"mat-form-field",19)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",20),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.operationTypeForm)("autocomplete","off"),e.xp6(5),e.Q6J("formControlName","name")("placeholder","Ejemplo: Transferencia")}}function gi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateOperationType())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.operationTypeForm.invalid)("matDialogClose","confirmed")}}function hi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createOperationType())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.operationTypeForm.invalid)("matDialogClose","confirmed")}}function fi(i,s){if(1&i&&(e.TgZ(0,"div",21),e.ynx(1),e.TgZ(2,"button",22),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,gi,2,3,"button",23)(5,hi,2,3,"button",23),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let xi=(()=>{class i{constructor(t,o,n,a,l,_){this.data=t,this._operationTypesService=o,this._changeDetectorRef=n,this._formBuilder=a,this._fuseConfirmationService=l,this._dialogRef=_,this.dialogMode="view",this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode,this.operationType=t.operationType}ngOnInit(){this.operationTypeForm=this._formBuilder.group({id:new r.NI(null),name:new r.NI(null,[r.kI.maxLength(50)])}),"edit"===this.dialogMode&&this.operationTypeForm.patchValue(this.operationType)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createOperationType(){let t=this.operationTypeForm.getRawValue();t=(0,B.Z)(t,["id"]),this._fuseConfirmationService.open({title:"Crear Moneda",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._operationTypesService.createOperationType(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:a.createOperationType.message,icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}updateOperationType(){const t=this.operationTypeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Moneda",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._operationTypesService.updateOperationType(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:a.updateOperationType.message,icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(ce.X),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(Z.R),e.Y36(g.so))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-operation-type-dialog"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],[1,"py-5"],[1,"w-full"],["matInput","","type","text","required","","maxlength","255",3,"formControlName","placeholder"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,mi,2,0,"h2",2)(4,pi,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.YNc(7,ui,9,1,"div",4),e.BQk(),e.ynx(8),e.YNc(9,_i,8,4,"div",5),e.BQk(),e.qZA(),e.YNc(10,fi,6,3,"div",6),e.qZA()),2&o&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,"edit"===n.data.dialogMode?4:-1),e.xp6(3),e.um2(7,"view"===n.data.dialogMode?7:-1),e.xp6(2),e.um2(9,9),e.xp6(),e.um2(10,"view"!==n.data.dialogMode?10:-1))},dependencies:[r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,m.lN,m.KE,m.hX,y.c,y.Nt,u.ot,u.lW,g.ZT],encapsulation:2})}return i})();class Ci{}const yi=(i,s)=>s.id,bi=()=>[u.lW,p.Hw,x.Ou,b.Rr];function vi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",34),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(2),l=a.$implicit,_=a.$index,v=e.oxw(2);return e.KtG(v.updateOperationTypeStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.Q6J("checked",t.active)("color","primary")}}function Zi(i,s){1&i&&e._UZ(0,"mat-spinner",30),2&i&&e.Q6J("diameter",20)("color","primary")}function Ti(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27),e._uU(2),e.qZA(),e.TgZ(3,"div",27),e._uU(4),e.qZA(),e.TgZ(5,"div",28),e.YNc(6,vi,1,2,"mat-slide-toggle",29)(7,Zi,1,2,"mat-spinner",30),e.qZA(),e.TgZ(8,"div",31)(9,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.openDialog(n,"edit"))}),e._UZ(10,"mat-icon",33),e.qZA(),e.TgZ(11,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteOperationType(n))}),e._UZ(12,"mat-icon",33),e.qZA()()()}if(2&i){const t=e.oxw(),o=t.$index,n=t.$implicit,a=e.oxw(2);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.hij(" ",n.name," "),e.xp6(2),e.um2(6,a.isSlideLoading&&a.selectedSlide===o?-1:6),e.xp6(),e.um2(7,a.isSlideLoading&&a.selectedSlide===o?7:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function wi(i,s){1&i&&e._UZ(0,"div")}function Ai(i,s){1&i&&(e.YNc(0,Ti,13,6)(1,wi,1,0),e.EqZ(2,0,bi,null,1),e.BYR(0,-1))}const ki=i=>({"pointer-events-none":i}),Li=()=>[5,10,25,100];function Fi(i,s){if(1&i&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"div"),e.TgZ(3,"div",22),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",23),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",24),e._uU(8," Acciones "),e.qZA()(),e.SjG(9,Ai,4,0,null,null,yi),e._UZ(11,"mat-paginator",25),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(6),e.wJu(t.operationTypes),e.xp6(2),e.Q6J("ngClass",e.VKq(7,ki,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(9,Li))("showFirstLastButtons",!0)}}function Si(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1," \xa1No hay ning\xfan tipo de operaci\xf3n creado hasta el momento! "),e.qZA())}let Ui=(()=>{class i{constructor(){this.isLoading=!1,this.isSlideLoading=!1,this.operationType=new Ci,this.operationTypes=[],this.searchInputControl=new r.NI,this.selectedSlide=null,this._unsubscribeAll=new A.x,this._changeDetectorRef=(0,e.f3M)(e.sBO),this._dialog=(0,e.f3M)(g.uw),this._fuseConfirmationService=(0,e.f3M)(Z.R),this._operationTypesService=(0,e.f3M)(ce.X),this._snackBar=(0,e.f3M)(D.ux),this.store=(0,e.f3M)(I.yh)}ngOnInit(){this.store.select(di.pU).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.operationTypes=t,this._changeDetectorRef.markForCheck()}),this.store.select(T.B).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,d.R)(this._unsubscribeAll),(0,R.b)(300),(0,L.w)(t=>(this.isLoading=!0,this._operationTypesService.getOperationTypes(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction,t))),(0,M.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,J.T)(this._sort.sortChange,this._paginator.page).pipe((0,L.w)(()=>(this.isLoading=!0,this._operationTypesService.getOperationTypes(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,M.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteOperationType(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar el tipo de operaci\xf3n: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._operationTypesService.removeOperationType(t.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.removeOperationType.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateOperationTypeStatus(t,o,n){this.isSlideLoading=!0,this.selectedSlide=n,this._operationTypesService.updateOperationTypeStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateUserStatus,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openDialog(t,o){this._dialog.open(xi,{data:{operationType:t,dialogMode:o},width:"90%",panelClass:"ath-dialog-panel",disableClose:!0})}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-operation-types"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:30,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","lists-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"hidden","text-center","sm:block"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","lists-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Nomencladores"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Tipo de operaciones"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Tipos de operaciones "),e.qZA()()(),e.TgZ(18,"div",10)(19,"mat-form-field",11),e._UZ(20,"mat-icon",12)(21,"input",13),e.qZA(),e.TgZ(22,"button",14),e.NdJ("click",function(){return n.openDialog(n.operationType,"add")}),e._UZ(23,"mat-icon",15),e.TgZ(24,"span",16),e._uU(25,"Agregar"),e.qZA()()()(),e.TgZ(26,"div",17)(27,"div",18),e.YNc(28,Fi,12,10,"div",19)(29,Si,2,0),e.qZA()()()),2&o&&(e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para filtrar..."),e.xp6(2),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(28,n.operationTypes.length>0?28:29))},dependencies:[r.u5,r.Fj,r.JJ,u.ot,u.lW,m.lN,m.KE,m.qo,p.Ps,p.Hw,y.c,y.Nt,f.TU,f.NW,x.Cq,b.rP,h.JX,h.YE,h.nU,w.mk,r.UX,r.oH,q.rH],encapsulation:2})}return i})();var Di=c(52759),qi=c(23435),de=c(28490);function Ii(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar tipo de comprobante "),e.qZA())}function Mi(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar tipo de comprobante "),e.qZA())}function Ni(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.voucher.name||"Sin nombre")}}function Ji(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"div",18)(4,"mat-form-field",19)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",20),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.voucherForm)("autocomplete","off"),e.xp6(5),e.Q6J("formControlName","name")("placeholder","Ejemplo: Transferencia")}}function Ri(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateVoucher())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.voucherForm.invalid)("matDialogClose","confirmed")}}function Gi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createVoucher())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.voucherForm.invalid)("matDialogClose","confirmed")}}function Pi(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"button",22),e._uU(2," Cancelar "),e.qZA(),e.YNc(3,Ri,2,3,"button",23)(4,Gi,2,3,"button",23),e.qZA()),2&i){const t=e.oxw();e.xp6(),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(3,"edit"===t.data.dialogMode?3:-1),e.xp6(),e.um2(4,"add"===t.data.dialogMode?4:-1)}}let Qi=(()=>{class i{constructor(t,o,n,a,l,_){this.data=t,this._VouchersService=o,this._changeDetectorRef=n,this._formBuilder=a,this._fuseConfirmationService=l,this._dialogRef=_,this.dialogMode="view",this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode,this.voucher=t.voucher}ngOnInit(){this.voucherForm=this._formBuilder.group({id:new r.NI(null),name:new r.NI(null,[r.kI.maxLength(50)])}),"edit"===this.dialogMode&&this.voucherForm.patchValue(this.voucher)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createVoucher(){let t=this.voucherForm.getRawValue();t=(0,B.Z)(t,["id"]),this._fuseConfirmationService.open({title:"Crear tipo de comprobante",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._VouchersService.createVoucher(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:"Tipo de comprobante creado correctamente",icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}updateVoucher(){const t=this.voucherForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar tipo de comprobante",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._VouchersService.updateVoucher(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:"Tipo de comprobante actualizado correctamente",icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(de.S),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(Z.R),e.Y36(g.so))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-voucher-dialog"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],[1,"py-5"],[1,"w-full"],["matInput","","type","text","required","","maxlength","255",3,"formControlName","placeholder"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ii,2,0,"h2",2)(3,Mi,2,0,"h2",2),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,Ni,9,1,"div",4)(6,Ji,8,4,"div",5),e.qZA(),e.YNc(7,Pi,5,3,"div",6),e.qZA()),2&o&&(e.xp6(2),e.um2(2,"add"===n.data.dialogMode?2:-1),e.xp6(),e.um2(3,"edit"===n.data.dialogMode?3:-1),e.xp6(2),e.um2(5,"view"===n.data.dialogMode?5:-1),e.xp6(),e.um2(6,6),e.xp6(),e.um2(7,"view"!==n.data.dialogMode?7:-1))},dependencies:[g.Is,g.ZT,u.ot,u.lW,m.lN,m.KE,m.hX,p.Ps,y.c,y.Nt,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u],encapsulation:2,changeDetection:0})}return i})();class Yi{}function Ei(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",30),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updateVoucherStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Bi(i,s){1&i&&e._UZ(0,"mat-spinner",26),2&i&&e.Q6J("diameter",20)("color","primary")}function Oi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.qZA(),e.TgZ(3,"div",23),e._uU(4),e.qZA(),e.TgZ(5,"div",24),e.YNc(6,Ei,1,2,"mat-slide-toggle",25)(7,Bi,1,2,"mat-spinner",26),e.qZA(),e.TgZ(8,"div",27)(9,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.openDialog(a,"edit"))}),e._UZ(10,"mat-icon",29),e.qZA(),e.TgZ(11,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteVoucher(a))}),e._UZ(12,"mat-icon",29),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.um2(6,n.isLoading&&n.selectedSlide===o?-1:6),e.xp6(),e.um2(7,n.isLoading&&n.selectedSlide===o?7:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function zi(i,s){1&i&&e.SjG(0,Oi,13,6,"div",31,e.QCX().trackByFn),2&i&&e.wJu(s)}function ji(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"div"),e.TgZ(3,"div",19),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",20),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",21),e._uU(8," Acciones "),e.qZA()(),e.YNc(9,zi,2,0),e.ALo(10,"async"),e.qZA()),2&i){const t=e.oxw(2);let o;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(6),e.um2(9,(o=e.lcZ(10,2,t.vouchers$))?9:-1,o)}}function $i(i,s){1&i&&(e.TgZ(0,"div",32),e._uU(1," \xa1No hay tipos de comprobantes creados para la tienda! "),e.qZA())}function Hi(i,s){1&i&&e.YNc(0,ji,11,4,"div",16)(1,$i,2,0),2&i&&e.um2(0,s.length>0?0:1)}let Vi=(()=>{class i{constructor(t,o,n,a,l,_){this._changeDetectorRef=t,this._dialog=o,this._fuseConfirmationService=n,this._vouchersService=a,this._snackBar=l,this.store=_,this.vouchers$=(0,S.of)([]),this.voucher=new Yi,this.isLoading=!1,this.selectedSlide=null,this._unsubscribeAll=new A.x}ngOnInit(){this.vouchers$=this.store.select(qi.a)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteVoucher(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar el tipo de comprobante: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._vouchersService.removeVoucher(t.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:a.removeVoucher.message,icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1}),this._changeDetectorRef.markForCheck()})})}updateVoucherStatus(t,o,n){this.isLoading=!0,this.selectedSlide=n,this._vouchersService.updateVoucherStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateVoucherStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openDialog(t,o){this._dialog.open(Qi,{data:{voucher:t,dialogMode:o},panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.sBO),e.Y36(g.uw),e.Y36(Z.R),e.Y36(de.S),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-vouchers"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:27,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","small-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"hidden","text-center","sm:block"],[1,"text-center"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","small-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b small-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Ajustes"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Tipos de comprobantes"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Tipos de comprobantes "),e.qZA()()(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return n.openDialog(n.voucher,"add")}),e._UZ(20,"mat-icon",12),e.TgZ(21,"span",13),e._uU(22,"Agregar"),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",15),e.YNc(25,Hi,2,1),e.ALo(26,"async"),e.qZA()()()),2&o){let a;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(8),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(25,(a=e.lcZ(26,4,n.vouchers$))?25:-1,a)}},dependencies:[w.Ov,u.ot,u.lW,m.lN,p.Ps,p.Hw,y.c,f.TU,x.Cq,x.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,r.UX],encapsulation:2,changeDetection:0})}return i})();var Ki=c(24554),Wi=c(6918),me=c(205);function Xi(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar Combustible "),e.qZA())}function eo(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar Combustible "),e.qZA())}function to(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.fuel.name||"Sin nombre")}}function io(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e._UZ(6,"input",19),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.fuelForm)("autocomplete","off"),e.xp6(4),e.Q6J("formControlName","name")("placeholder","Ejemplo: Gasolina")}}function oo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateFuel())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.fuelForm.invalid)("matDialogClose","confirmed")}}function no(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createFuel())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.fuelForm.invalid)("matDialogClose","confirmed")}}function ao(i,s){if(1&i&&(e.TgZ(0,"div",20),e.ynx(1),e.TgZ(2,"button",21),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,oo,2,3,"button",22)(5,no,2,3,"button",22),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let so=(()=>{class i{constructor(t,o,n,a,l,_){this.data=t,this._fuelsService=o,this._changeDetectorRef=n,this._formBuilder=a,this._fuseConfirmationService=l,this._dialogRef=_,this.dialogMode="view",this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode,this.fuel=t.fuel}ngOnInit(){this.fuelForm=this._formBuilder.group({id:new r.NI(null),name:new r.NI(null,[r.kI.maxLength(100)])}),"edit"===this.dialogMode&&this.fuelForm.patchValue(this.fuel)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createFuel(){let t=this.fuelForm.getRawValue();t=(0,B.Z)(t,["id"]),this._fuseConfirmationService.open({title:"Crear combustible",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._fuelsService.createFuel(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:a.createFuel.message,icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}updateFuel(){const t=this.fuelForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar combustible",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._fuelsService.updateFuel(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:a.updateFuel.message,icon:{show:!0,name:"mat_solid:done",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(me.f),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(Z.R),e.Y36(g.so))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-fuel-dialog"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-3","gap-5",3,"formGroup","autocomplete"],[1,"w-full"],["matInput","","type","text","required","","maxlength","50",3,"formControlName","placeholder"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Xi,2,0,"h2",2)(4,eo,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.YNc(7,to,9,1,"div",4),e.BQk(),e.ynx(8),e.YNc(9,io,7,4,"div",5),e.BQk(),e.qZA(),e.YNc(10,ao,6,3,"div",6),e.qZA()),2&o&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,"edit"===n.data.dialogMode?4:-1),e.xp6(3),e.um2(7,"view"===n.data.dialogMode?7:-1),e.xp6(2),e.um2(9,9),e.xp6(),e.um2(10,"view"!==n.data.dialogMode?10:-1))},dependencies:[r.u5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,u.ot,u.lW,g.Is,g.ZT,m.lN,m.KE,m.hX,y.c,y.Nt,r.UX,r.sg,r.u],encapsulation:2})}return i})();class ro{}function lo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",30),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updateFuelStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function co(i,s){1&i&&e._UZ(0,"mat-spinner",26),2&i&&e.Q6J("diameter",20)("color","primary")}function mo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA(),e.TgZ(5,"div",21),e.YNc(6,lo,1,2,"mat-slide-toggle",25)(7,co,1,2,"mat-spinner",26),e.qZA(),e.TgZ(8,"div",27)(9,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.openDialog(a,"edit"))}),e._UZ(10,"mat-icon",29),e.qZA(),e.TgZ(11,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteFuel(a))}),e._UZ(12,"mat-icon",29),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.um2(6,n.isLoading&&n.selectedSlide===o?-1:6),e.xp6(),e.um2(7,n.isLoading&&n.selectedSlide===o?7:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function po(i,s){1&i&&e.SjG(0,mo,13,6,"div",31,e.QCX().trackByFn),2&i&&e.wJu(s)}const uo=i=>({"pointer-events-none":i}),_o=()=>[5,10,25,100];function go(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"div",19),e.TgZ(3,"div",20),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",21),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",21),e._uU(8," Acciones "),e.qZA()(),e.YNc(9,po,2,0),e.ALo(10,"async"),e._UZ(11,"mat-paginator",22),e.qZA()),2&i){const t=e.oxw(2);let o;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(6),e.um2(9,(o=e.lcZ(10,8,t.fuels$))?9:-1,o),e.xp6(2),e.Q6J("ngClass",e.VKq(10,uo,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,_o))("showFirstLastButtons",!0)}}function ho(i,s){1&i&&(e.TgZ(0,"div",32),e._uU(1," \xa1No hay combustibles creados para el negocio! "),e.qZA())}function fo(i,s){1&i&&e.YNc(0,go,12,13,"div",16)(1,ho,2,0),2&i&&e.um2(0,s.length>0?0:1)}let xo=(()=>{class i{constructor(t,o,n,a,l,_){this._fuelsService=t,this._changeDetectorRef=o,this._dialog=n,this._fuseConfirmationService=a,this._snackBar=l,this.store=_,this.fuel=new ro,this.fuels$=(0,S.of)([]),this.isLoading=!1,this.searchInputControl=new r.NI(null),this.selectedSlide=null,this._unsubscribeAll=new A.x}ngOnInit(){this.fuels$=this.store.select(Wi.zt),this.store.select(T.B).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"code",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,J.T)(this._sort.sortChange,this._paginator.page).pipe((0,L.w)(()=>(this.isLoading=!0,this._fuelsService.getFuels(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,M.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteFuel(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la combustible: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._fuelsService.removeFuel(t.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.removeFuel.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateFuelStatus(t,o,n){this.isLoading=!0,this.selectedSlide=n,this._fuelsService.updateFuelStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateFuelStatus,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openDialog(t,o){this._dialog.open(so,{data:{fuel:t,dialogMode:o},panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(me.f),e.Y36(e.sBO),e.Y36(g.uw),e.Y36(Z.R),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-fuels"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:27,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","overflow-x-auto","font-semibold","lists-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","overflow-auto","border-b","lists-grid","md:px-8"],[1,"truncate"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 overflow-auto border-b lists-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Ajustes"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Combustibles"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Combustibles "),e.qZA()()(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return n.openDialog(n.fuel,"add")}),e._UZ(20,"mat-icon",12),e.TgZ(21,"span",13),e._uU(22,"Agregar"),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",15),e.YNc(25,fo,2,1),e.ALo(26,"async"),e.qZA()()()),2&o){let a;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(8),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(25,(a=e.lcZ(26,4,n.fuels$))?25:-1,a)}},dependencies:[w.Ov,u.ot,u.lW,p.Ps,p.Hw,x.Cq,x.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,f.TU,f.NW,w.mk,q.rH],encapsulation:2,changeDetection:0})}return i})();var Co=c(35612),yo=c(90716),pe=c(50147);function bo(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar Multiplicador "),e.qZA())}function vo(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar Multiplicador "),e.qZA())}function Zo(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"valor"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.multiplier.value||"Sin valor")}}function To(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"valor"),e.qZA(),e._UZ(6,"input",19),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.multiplierForm)("autocomplete","off"),e.xp6(4),e.Q6J("formControlName","value")("placeholder","Ejemplo: 3.5")}}function wo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateMultiplier())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.multiplierForm.invalid)("matDialogClose","confirmed")}}function Ao(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createMultiplier())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.multiplierForm.invalid)("matDialogClose","confirmed")}}function ko(i,s){if(1&i&&(e.TgZ(0,"div",20),e.ynx(1),e.TgZ(2,"button",21),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,wo,2,3,"button",22)(5,Ao,2,3,"button",22),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let Lo=(()=>{class i{constructor(t,o,n,a,l,_,v){this.data=t,this._multipliersService=o,this._changeDetectorRef=n,this._formBuilder=a,this._fuseConfirmationService=l,this._dialogRef=_,this._snackBar=v,this.dialogMode="view",this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode,this.multiplier=t.multiplier}ngOnInit(){this.multiplierForm=this._formBuilder.group({id:new r.NI(null),value:new r.NI(null,[r.kI.min(1)])}),"edit"===this.dialogMode&&this.multiplierForm.patchValue(this.multiplier)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createMultiplier(){let t=this.multiplierForm.getRawValue();t=(0,B.Z)(t,["id"]),this._fuseConfirmationService.open({title:"Crear multiplicador",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._multipliersService.createMultiplier(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.createMultiplier.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})}),this._changeDetectorRef.markForCheck()})}updateMultiplier(){const t=this.multiplierForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar multiplicador",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._multipliersService.updateMultiplier(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateMultiplier.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(pe.e),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(Z.R),e.Y36(g.so),e.Y36(D.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-multiplier-dialog"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-3","gap-5",3,"formGroup","autocomplete"],[1,"w-full"],["matInput","","type","number","required","","maxlength","50",3,"formControlName","placeholder"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,bo,2,0,"h2",2)(4,vo,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.YNc(7,Zo,9,1,"div",4),e.BQk(),e.ynx(8),e.YNc(9,To,7,4,"div",5),e.BQk(),e.qZA(),e.YNc(10,ko,6,3,"div",6),e.qZA()),2&o&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,"edit"===n.data.dialogMode?4:-1),e.xp6(3),e.um2(7,"view"===n.data.dialogMode?7:-1),e.xp6(2),e.um2(9,9),e.xp6(),e.um2(10,"view"!==n.data.dialogMode?10:-1))},dependencies:[r.u5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.nD,u.ot,u.lW,g.Is,g.ZT,m.lN,m.KE,m.hX,y.c,y.Nt,r.UX,r.sg,r.u],encapsulation:2})}return i})();class Fo{}function So(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",30),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updateMultiplierStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Uo(i,s){1&i&&e._UZ(0,"mat-spinner",26),2&i&&e.Q6J("diameter",20)("color","primary")}function Do(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA(),e.TgZ(5,"div",21),e.YNc(6,So,1,2,"mat-slide-toggle",25)(7,Uo,1,2,"mat-spinner",26),e.qZA(),e.TgZ(8,"div",27)(9,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.openDialog(a,"edit"))}),e._UZ(10,"mat-icon",29),e.qZA(),e.TgZ(11,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteMultiplier(a))}),e._UZ(12,"mat-icon",29),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.hij(" x",t.value," "),e.xp6(2),e.um2(6,n.isSlideLoading&&n.selectedSlide===o?-1:6),e.xp6(),e.um2(7,n.isSlideLoading&&n.selectedSlide===o?7:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function qo(i,s){1&i&&e.SjG(0,Do,13,6,"div",31,e.QCX().trackByFn),2&i&&e.wJu(s)}const Io=i=>({"pointer-events-none":i}),Mo=()=>[5,10,25,100];function No(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"div",19),e.TgZ(3,"div",20),e._uU(4," Valor "),e.qZA(),e.TgZ(5,"div",21),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",21),e._uU(8," Acciones "),e.qZA()(),e.YNc(9,qo,2,0),e.ALo(10,"async"),e._UZ(11,"mat-paginator",22),e.qZA()),2&i){const t=e.oxw(2);let o;e.xp6(3),e.Q6J("mat-sort-header","value"),e.xp6(6),e.um2(9,(o=e.lcZ(10,8,t.multipliers$))?9:-1,o),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Io,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,Mo))("showFirstLastButtons",!0)}}function Jo(i,s){1&i&&(e.TgZ(0,"div",32),e._uU(1," \xa1No hay multiplicadores creados para el negocio!"),e.qZA())}function Ro(i,s){1&i&&e.YNc(0,No,12,13,"div",16)(1,Jo,2,0),2&i&&e.um2(0,s.length>0?0:1)}let Go=(()=>{class i{constructor(t,o,n,a,l,_){this._multipliersService=t,this._changeDetectorRef=o,this._dialog=n,this._fuseConfirmationService=a,this._snackBar=l,this.store=_,this.multiplier=new Fo,this.multipliers$=(0,S.of)([]),this.isLoading=!1,this.isSlideLoading=!1,this.searchInputControl=new r.NI,this.selectedSlide=null,this._unsubscribeAll=new A.x}ngOnInit(){this.multipliers$=this.store.select(yo.Af),this.store.select(T.B).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"value",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,J.T)(this._sort.sortChange,this._paginator.page).pipe((0,L.w)(()=>(this.isLoading=!0,this._multipliersService.getMultipliers(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,M.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteMultiplier(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la combustible: x${t.value}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._multipliersService.removeMultiplier(t.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.removeMultiplier.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateMultiplierStatus(t,o,n){this.isSlideLoading=!0,this.selectedSlide=n,this._multipliersService.updateMultiplierStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateMultiplierStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openDialog(t,o){this._dialog.open(Lo,{data:{multiplier:t,dialogMode:o},panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(pe.e),e.Y36(e.sBO),e.Y36(g.uw),e.Y36(Z.R),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-multipliers"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:27,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","sm:mt-0","sm:ml-4","gap-2"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","overflow-x-auto","font-semibold","lists-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","lists-grid","md:px-8","overflow-auto"],[1,""],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b lists-grid md:px-8 overflow-auto"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Ajustes"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Multiplicadores"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Multiplicadores "),e.qZA()()(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return n.openDialog(n.multiplier,"add")}),e._UZ(20,"mat-icon",12),e.TgZ(21,"span",13),e._uU(22,"Agregar"),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",15),e.YNc(25,Ro,2,1),e.ALo(26,"async"),e.qZA()()()),2&o){let a;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(8),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(25,(a=e.lcZ(26,4,n.multipliers$))?25:-1,a)}},dependencies:[w.Ov,u.ot,u.lW,p.Ps,p.Hw,x.Cq,x.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,f.TU,f.NW,w.mk,q.rH],encapsulation:2,changeDetection:0})}return i})();var Po=c(2019),Qo=c(77201),Yo=c(42200),Eo=c(14643),ue=c(36028),O=c(22557),W=c(55568),_e=c(88527);function Bo(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar pasarela de pago "),e.qZA())}function Oo(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar pasarela de pago "),e.qZA())}function zo(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.paymentGateway.name||"Sin nombre")}}function jo(i,s){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.name),e.xp6(),e.hij(" ",t.title," ")}}function $o(i,s){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t.name," ")}}function Ho(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",36),e.NdJ("removed",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.removeCurrency(a))}),e.TgZ(1,"div",37),e._uU(2),e.qZA(),e.TgZ(3,"button",38),e._UZ(4,"mat-icon",39),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.iso),e.xp6(),e.uIk("aria-label","Eliminar "+t.name),e.xp6(),e.Q6J("svgIcon","mat_solid:cancel")}}function Vo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",40,41),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openCropperDialog(n))}),e.qZA(),e.TgZ(3,"label",42),e._UZ(4,"mat-icon",43),e.qZA()()}2&i&&(e.xp6(),e.Q6J("multiple",!1)("accept","image/png, image/webp, image/jpeg, image/png"),e.xp6(3),e.Q6J("svgIcon","mat_solid:photo_camera"))}function Ko(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeImage())}),e._UZ(2,"mat-icon",46),e.qZA()()}2&i&&(e.xp6(2),e.Q6J("svgIcon","mat_solid:delete"))}function Wo(i,s){if(1&i&&e._UZ(0,"img",47),2&i){const t=e.oxw(2);e.Q6J("src",t.paymentGatewayForm.get("logo").value,e.LSH)}}const Xo=i=>({"bg-gray-200":i});function en(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e._UZ(6,"input",19),e.qZA(),e.TgZ(7,"mat-form-field",18)(8,"mat-label"),e._uU(9,"Tipo de autenticaci\xf3n"),e.qZA(),e.TgZ(10,"mat-select",20),e.SjG(11,jo,2,2,"mat-option",35,e.x6l),e.qZA()(),e.TgZ(13,"mat-form-field",21)(14,"mat-label"),e._uU(15,"Api Url"),e.qZA(),e._UZ(16,"input",19),e.qZA(),e.TgZ(17,"mat-form-field",22)(18,"mat-label"),e._uU(19,"Monedas"),e.qZA(),e._UZ(20,"input",23),e.TgZ(21,"mat-autocomplete",24,25),e.NdJ("optionSelected",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.addCurrency(n.option.value))}),e.SjG(23,$o,2,2,"mat-option",35,e.x6l),e.ALo(25,"async"),e.qZA(),e.TgZ(26,"mat-chip-grid",26,27),e.SjG(28,Ho,5,3,"mat-chip",null,e.x6l),e.qZA()(),e.TgZ(30,"div",28)(31,"div",29),e.YNc(32,Vo,5,3,"div")(33,Ko,3,1,"div",30),e.qZA(),e.YNc(34,Wo,1,1,"img",31),e.qZA(),e.TgZ(35,"div",32)(36,"span",33),e._uU(37,"Estado"),e.qZA(),e.TgZ(38,"mat-slide-toggle",34),e._uU(39),e.qZA()()()()()}if(2&i){const t=e.MAs(22),o=e.MAs(27),n=e.oxw();e.xp6(2),e.Q6J("formGroup",n.paymentGatewayForm)("autocomplete","off"),e.xp6(4),e.Q6J("formControlName","name")("maxlength",50)("placeholder","Ejemplo: Transferencia"),e.xp6(4),e.Q6J("formControlName","authType"),e.xp6(),e.wJu(n.authTypes),e.xp6(5),e.Q6J("formControlName","apiUrl")("maxlength",1e3)("placeholder","Ejemplo: https://api.balanc.app/api"),e.xp6(4),e.Q6J("formControl",n.searchCurrencyControl)("matChipInputFor",o)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matAutocomplete",t),e.xp6(3),e.wJu(e.lcZ(25,20,n.filteredCurrencies)),e.xp6(5),e.wJu(n.selectedCurrencies),e.xp6(2),e.Q6J("ngClass",e.VKq(22,Xo,!n.paymentGatewayForm.get("logo").value)),e.xp6(2),e.um2(32,n.paymentGatewayForm.get("logo").value?-1:32),e.xp6(),e.um2(33,n.paymentGatewayForm.get("logo").value?33:-1),e.xp6(),e.um2(34,n.paymentGatewayForm.get("logo").value?34:-1),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(),e.hij(" ",!0===n.paymentGatewayForm.get("active").value?"Activo":"Inactivo"," ")}}function tn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updatePaymentGateway())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.paymentGatewayForm.invalid)}}function on(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createPaymentGateway())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.paymentGatewayForm.invalid)}}function nn(i,s){if(1&i&&(e.TgZ(0,"div",48)(1,"button",49),e._uU(2," Cancelar "),e.qZA(),e.YNc(3,tn,2,2,"button",50)(4,on,2,2,"button",50),e.qZA()),2&i){const t=e.oxw();e.xp6(),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(3,"edit"===t.data.dialogMode?3:-1),e.xp6(),e.um2(4,"add"===t.data.dialogMode?4:-1)}}let an=(()=>{class i{constructor(t,o,n,a,l,_,v,V,F,P){this.data=t,this._paymentGatewaysService=o,this._changeDetectorRef=n,this._formBuilder=a,this._fuseConfirmationService=l,this._dialogRef=_,this._dialog=v,this._imagesService=V,this._snackBar=F,this.store=P,this.dialogMode="view",this.separatorKeysCodes=[ue.K5,ue.OC],this.searchCurrencyControl=new r.NI,this.selectedCurrencies=[],this.currencies=[],this.authTypes=[{title:"Ninguna",name:"none"},{title:"Basic Auth",name:"basic"},{title:"OAuth",name:"oauth"}],this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode;const z={...t.paymentGateway};delete z.__typename,this.paymentGateway=z}ngOnInit(){this.store.select(se.zd).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{if(this.currencies=t,!W.W.IsNullOrEmpty(this.paymentGateway.currenciesId))for(const o of this.paymentGateway.currenciesId){const n=this.currencies.find(a=>a.id===o);n&&this.selectedCurrencies.push(n)}}),this.paymentGatewayForm=this._formBuilder.group({id:new r.NI(null),name:new r.NI(null,[r.kI.required,r.kI.maxLength(50)]),apiUrl:new r.NI(null,[r.kI.required,r.kI.maxLength(1e3)]),active:[!1],currenciesId:[[]],authType:["",r.kI.required],logo:[null]}),"edit"===this.dialogMode&&this.paymentGatewayForm.patchValue(this.paymentGateway),this.filteredCurrencies=this.searchCurrencyControl.valueChanges.pipe((0,K.O)(""),(0,R.b)(400),(0,L.w)(t=>(0,S.of)(this.currencies.filter("string"==typeof t&&t?o=>o.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())&&!this.selectedCurrencies.some(n=>n.id===o.id):o=>!this.selectedCurrencies.some(n=>n.id===o.id)))))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}addCurrency(t){this.searchCurrencyControl.setValue(""),this.selectedCurrencies.push(t),this.paymentGatewayForm.get("currenciesId").setValue(this.selectedCurrencies.map(o=>o.id)),this._changeDetectorRef.markForCheck()}removeCurrency(t){const o=this.selectedCurrencies.indexOf(t);o>=0&&this.selectedCurrencies.splice(o,1),this.paymentGatewayForm.get("currenciesId").setValue(this.selectedCurrencies.map(n=>n.id)),this.searchCurrencyControl.setValue("")}createPaymentGateway(){const t=this.paymentGatewayForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear pasarela de pago",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._paymentGatewaysService.createPaymentGateway(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._dialogRef.close())}),this._changeDetectorRef.markForCheck()})}updatePaymentGateway(){const t=this.paymentGatewayForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar pasarela de pago",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._paymentGatewaysService.updatePaymentGateway(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._dialogRef.close())}),this._changeDetectorRef.markForCheck()})}openCropperDialog(t){this._dialog.open(te.u,{data:{image:t},panelClass:"ath-dialog-panel",minWidth:"200px",maxWidth:"500px",maxHeight:"90vh",disableClose:!0}).afterClosed().subscribe(n=>{if(!W.W.IsNullOrEmpty(n)){if(n.size/1024/1024>1)return void this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}});this._imagesService.uploadImage("List",n).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this.paymentGatewayForm.get("logo").setValue(a.imageUrl),this.paymentGateway.logo=a.imageUrl,"edit"===this.dialogMode?(W.W.IsNullOrEmpty(this.paymentGateway.currencies)||delete this.paymentGateway.currencies,this._paymentGatewaysService.updatePaymentGateway(this.paymentGateway).pipe((0,d.R)(this._unsubscribeAll)).subscribe(l=>{l&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())})):this._changeDetectorRef.markForCheck()},a=>{console.warn(a)})}})}removeImage(){const t=this.paymentGatewayForm.get("logo").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._imagesService.removeImage(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{this.paymentGatewayForm.get("logo").setValue(null),this.paymentGateway.logo=null,"edit"===this.dialogMode&&(W.W.IsNullOrEmpty(this.paymentGateway.currencies)||delete this.paymentGateway.currencies,this._paymentGatewaysService.updatePaymentGateway(this.paymentGateway).pipe((0,d.R)(this._unsubscribeAll)).subscribe(l=>{l&&this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()}))})})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(_e.T),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(Z.R),e.Y36(g.so),e.Y36(g.uw),e.Y36(oe.C),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["payment-gateway-dialog"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[[1,"relative","flex","flex-col","w-full","h-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"grid","w-full","gap-4","py-4","mt-1","sm:gap-8","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full"],["matInput","","type","text","required","",3,"formControlName","maxlength","placeholder"],["required","",3,"formControlName"],[1,"w-full","col-span-2"],["appearance","fill",1,"w-full","sm:col-span-2"],["placeholder","Agregar Moneda","required","",1,"w-full",3,"formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],["aria-label","Agregar moneda"],["currencyChipGrid",""],[1,"relative","flex","items-center","justify-center","w-32","h-32","mt-2","overflow-hidden","rounded-md","dark:bg-gray-600","ring-4","ring-bg-card",3,"ngClass"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],["class",""],["class","object-contain w-full h-full",3,"src"],[1,"flex","flex-col","items-center","justify-center"],[1,"mb-4","font-medium"],[3,"formControlName","color"],[3,"value"],[3,"removed"],[1,"truncate","max-w-16","sm:max-w-24"],["matChipRemove","",1,"w-5","h-5"],[1,"icon-size-5",3,"svgIcon"],["id","thumbnail-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["thumbnailFileInput",""],["for","thumbnail-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-primary",3,"svgIcon"],[1,""],["mat-icon-button","",3,"click"],[1,"text-red-700",3,"svgIcon"],[1,"object-contain","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled"],["mat-flat-button","",3,"color","disabled","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Bo,2,0,"h2",2)(3,Oo,2,0,"h2",2),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,zo,9,1,"div",4)(6,en,40,24,"div",5),e.qZA(),e.YNc(7,nn,5,3,"div",6),e.qZA()),2&o&&(e.xp6(2),e.um2(2,"add"===n.data.dialogMode?2:-1),e.xp6(),e.um2(3,"edit"===n.data.dialogMode?3:-1),e.xp6(2),e.um2(5,"view"===n.data.dialogMode?5:-1),e.xp6(),e.um2(6,6),e.xp6(),e.um2(7,"view"!==n.data.dialogMode?7:-1))},dependencies:[w.Ov,E.Bb,E.XC,H.ey,E.ZL,u.ot,u.lW,u.RK,O.Hi,O.HS,O.RA,O.oH,O.qH,g.Is,g.ZT,m.lN,m.KE,m.hX,p.Ps,p.Hw,y.c,y.Nt,$.LD,$.gD,b.rP,b.Rr,w.mk,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.oH,r.sg,r.u],encapsulation:2})}return i})();function sn(i,s){if(1&i&&e._UZ(0,"img",41),2&i){const t=e.oxw().$implicit;e.Q6J("alt","PM Logo")("src",t.logo,e.LSH)}}function rn(i,s){1&i&&(e.TgZ(0,"div",42),e._uU(1," SIN LOGO "),e.qZA())}function ln(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",43),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updatePaymentGatewayStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function cn(i,s){1&i&&e._UZ(0,"mat-spinner",37),2&i&&e.Q6J("diameter",20)("color","primary")}function dn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"div",31),e.YNc(3,sn,1,2,"img",32)(4,rn,2,0,"div",33),e.qZA()(),e.TgZ(5,"div",34),e._uU(6),e.qZA(),e.TgZ(7,"div",35),e.YNc(8,ln,1,2,"mat-slide-toggle",36)(9,cn,1,2,"mat-spinner",37),e.qZA(),e.TgZ(10,"div",38)(11,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.editPaymentGateway(a))}),e._UZ(12,"mat-icon",40),e.qZA(),e.TgZ(13,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deletePaymentGateway(a.id))}),e._UZ(14,"mat-icon",40),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(3),e.um2(3,t.logo?3:-1),e.xp6(),e.um2(4,t.logo?-1:4),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.um2(8,n.isLoading&&n.selectedSlide===o?-1:8),e.xp6(),e.um2(9,n.isLoading&&n.selectedSlide===o?9:-1),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function mn(i,s){1&i&&e.SjG(0,dn,15,7,"div",44,e.QCX().trackByFn),2&i&&e.wJu(s)}function pn(i,s){if(1&i&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"div"),e.TgZ(3,"div",26),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",27),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",28),e._uU(8," Acciones "),e.qZA()(),e.YNc(9,mn,2,0),e.ALo(10,"async"),e.qZA()),2&i){const t=e.oxw(2);let o;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(6),e.um2(9,(o=e.lcZ(10,2,t.paymentGateways$))?9:-1,o)}}function un(i,s){if(1&i&&(e.TgZ(0,"div",45),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado pasarela de pagos!":"\xa1No se ha creado creado ning\xfan pasarela de pago a\xfan!","")}}function _n(i,s){1&i&&e.YNc(0,pn,11,4,"div",23)(1,un,2,1),2&i&&e.um2(0,s.length>0?0:1)}function gn(i,s){if(1&i&&(e.TgZ(0,"div",45),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado pasarela de pagos!":"\xa1No se ha creado creado ning\xfan pasarela de pago a\xfan!","")}}const hn=i=>({"pointer-events-none":i}),fn=()=>[10,25,50,100];function xn(i,s){if(1&i&&e._UZ(0,"mat-paginator",46),2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,hn,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,fn))("showFirstLastButtons",!0)}}let Cn=(()=>{class i{constructor(t,o,n,a,l,_){this._changeDetectorRef=t,this._paymentGatewayService=o,this._dialog=n,this._fuseConfirmationService=a,this._snackBar=l,this.store=_,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.NI(null),this._unsubscribeAll=new A.x}ngOnInit(){this.paymentGateways$=this.store.select(Yo.h3),this.store.select(T.B).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,d.R)(this._unsubscribeAll),(0,R.b)(300),(0,K.O)(null),(0,L.w)(t=>null!==t?(this.isLoading=!0,this._paymentGatewayService.findAllPaymentGateways(0,10,"name","desc",t)):(0,S.of)()),(0,M.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,J.T)(this._sort.sortChange,this._paginator.page).pipe((0,L.w)(()=>(this.isLoading=!0,this._paymentGatewayService.findAllPaymentGateways(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,M.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updatePaymentGatewayStatus(t,o,n){this.isLoading=!0,this.selectedSlide=n,this._paymentGatewayService.updatePaymentGatewayStatus({id:o.id,active:t.checked}).pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createPaymentGateway(){this._openDialog(new Eo.H,"add")}editPaymentGateway(t){this._openDialog(t,"edit")}deletePaymentGateway(t){this._fuseConfirmationService.open({title:"Eliminar Pasarela de pago",message:"\xbfEsta seguro que desea Eliminar el pasarela de pago? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._paymentGatewayService.removePaymentGateway(t,this.pagination.page,this.pagination.size,"active","desc").pipe((0,d.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}_openDialog(t,o){this._dialog.open(an,{data:{paymentGateway:t,dialogMode:o},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.sBO),e.Y36(_e.T),e.Y36(g.uw),e.Y36(Z.R),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["payment-gateways"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:38,vars:13,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","small-grid"],[3,"mat-sort-header"],[1,"hidden","text-center","sm:block"],[1,"text-center"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","small-grid"],[1,"flex","items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b md:px-8 small-grid"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Nomencladores"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",7),e._uU(15,"Pasarela de pagos"),e.qZA()()(),e.TgZ(16,"div",8)(17,"a",9),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",10),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",11)(22,"div",12),e._uU(23," Listado de Pasarela de pagos "),e.qZA()()(),e.TgZ(24,"div",13)(25,"mat-form-field",14),e._UZ(26,"mat-icon",15)(27,"input",16),e.qZA(),e.TgZ(28,"button",17),e.NdJ("click",function(){return n.createPaymentGateway()}),e._UZ(29,"mat-icon",18),e.TgZ(30,"span",19),e._uU(31,"Nuevo"),e.qZA()()()(),e.TgZ(32,"div",20)(33,"div",21),e.YNc(34,_n,2,1),e.ALo(35,"async"),e.YNc(36,gn,2,1)(37,xn,1,9,"mat-paginator",22),e.qZA()()()),2&o){let a;e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(8),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Buscar pasarela de pagos"),e.xp6(2),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(34,(a=e.lcZ(35,11,n.paymentGateways$))?34:36,a),e.xp6(3),e.um2(37,n.pagination.length>0?37:-1)}},dependencies:[w.Ov,u.ot,u.lW,m.lN,m.KE,m.qo,p.Ps,p.Hw,y.c,y.Nt,f.TU,f.NW,x.Cq,x.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,w.mk,r.UX,r.Fj,r.JJ,r.oH,q.rH],encapsulation:2,data:{animation:ee.L},changeDetection:0})}return i})();var yn=c(16650),ge=c(52738);function bn(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Agregar Tipo de Servicio "),e.qZA())}function vn(i,s){1&i&&(e.TgZ(0,"h2",7),e._uU(1," Editar Tipo de Servicio "),e.qZA())}function Zn(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(t.data.serviceType.name||"Sin nombre")}}function Tn(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e._UZ(6,"input",19),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.serviceTypeForm)("autocomplete","off"),e.xp6(4),e.Q6J("formControlName","name")("placeholder","Ejemplo: Gasolina")}}function wn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateServiceType())}),e._uU(1," Actualizar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.serviceTypeForm.invalid)("matDialogClose","confirmed")}}function An(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createServiceType())}),e._uU(1," Agregar "),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.serviceTypeForm.invalid)("matDialogClose","confirmed")}}function kn(i,s){if(1&i&&(e.TgZ(0,"div",20),e.ynx(1),e.TgZ(2,"button",21),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,wn,2,3,"button",22)(5,An,2,3,"button",22),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let Ln=(()=>{class i{constructor(t,o,n,a,l,_,v){this.data=t,this._serviceTypesService=o,this._changeDetectorRef=n,this._formBuilder=a,this._fuseConfirmationService=l,this._dialogRef=_,this._snackBar=v,this.dialogMode="view",this._unsubscribeAll=new A.x,this.dialogMode=t.dialogMode,this.serviceType=t.serviceType}ngOnInit(){this.serviceTypeForm=this._formBuilder.group({id:new r.NI(null),name:new r.NI(null,[r.kI.maxLength(100)])}),"edit"===this.dialogMode&&this.serviceTypeForm.patchValue(this.serviceType)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createServiceType(){let t=this.serviceTypeForm.getRawValue();t=(0,B.Z)(t,["id"]),this._fuseConfirmationService.open({title:"Crear combustible",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._serviceTypesService.createServiceType(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.createServiceType.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})}),this._changeDetectorRef.markForCheck()})}updateServiceType(){const t=this.serviceTypeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar combustible",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._serviceTypesService.updateServiceType(t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateServiceType.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.WI),e.Y36(ge.k),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(Z.R),e.Y36(g.so),e.Y36(D.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-service-type-dialog"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-3","gap-5",3,"formGroup","autocomplete"],[1,"w-full"],["matInput","","type","text","required","","maxlength","50",3,"formControlName","placeholder"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,bn,2,0,"h2",2)(4,vn,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.YNc(7,Zn,9,1,"div",4),e.BQk(),e.ynx(8),e.YNc(9,Tn,7,4,"div",5),e.BQk(),e.qZA(),e.YNc(10,kn,6,3,"div",6),e.qZA()),2&o&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,"edit"===n.data.dialogMode?4:-1),e.xp6(3),e.um2(7,"view"===n.data.dialogMode?7:-1),e.xp6(2),e.um2(9,9),e.xp6(),e.um2(10,"view"!==n.data.dialogMode?10:-1))},dependencies:[E.Bb,u.ot,u.lW,O.Hi,g.Is,g.ZT,m.lN,m.KE,m.hX,p.Ps,y.c,y.Nt,$.LD,b.rP,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u],encapsulation:2})}return i})();class Fn{}function Sn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",30),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(),l=a.$implicit,_=a.$index,v=e.oxw(4);return e.KtG(v.updateServiceTypeStatus(n,l,_))}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Un(i,s){1&i&&e._UZ(0,"mat-spinner",26),2&i&&e.Q6J("diameter",20)("color","primary")}function Dn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA(),e.TgZ(5,"div",21),e.YNc(6,Sn,1,2,"mat-slide-toggle",25)(7,Un,1,2,"mat-spinner",26),e.qZA(),e.TgZ(8,"div",27)(9,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.openDialog(a,"edit"))}),e._UZ(10,"mat-icon",29),e.qZA(),e.TgZ(11,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteServiceType(a))}),e._UZ(12,"mat-icon",29),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.um2(6,n.isLoading&&n.selectedSlide===o?-1:6),e.xp6(),e.um2(7,n.isLoading&&n.selectedSlide===o?7:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function qn(i,s){1&i&&e.SjG(0,Dn,13,6,"div",31,e.QCX().trackByFn),2&i&&e.wJu(s)}const In=i=>({"pointer-events-none":i}),Mn=()=>[5,10,25,100];function Nn(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"div",19),e.TgZ(3,"div",20),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",21),e._uU(6," Activo "),e.qZA(),e.TgZ(7,"div",21),e._uU(8," Acciones "),e.qZA()(),e.YNc(9,qn,2,0),e.ALo(10,"async"),e._UZ(11,"mat-paginator",22),e.qZA()),2&i){const t=e.oxw(2);let o;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(6),e.um2(9,(o=e.lcZ(10,8,t.serviceTypes$))?9:-1,o),e.xp6(2),e.Q6J("ngClass",e.VKq(10,In,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,Mn))("showFirstLastButtons",!0)}}function Jn(i,s){1&i&&(e.TgZ(0,"div",32),e._uU(1," \xa1No hay combustibles creados para el negocio!"),e.qZA())}function Rn(i,s){1&i&&e.YNc(0,Nn,12,13,"div",16)(1,Jn,2,0),2&i&&e.um2(0,s.length>0?0:1)}let Gn=(()=>{class i{constructor(t,o,n,a,l,_){this._serviceTypesService=t,this._changeDetectorRef=o,this._dialog=n,this._fuseConfirmationService=a,this._snackBar=l,this.store=_,this.serviceType=new Fn,this.serviceTypes$=(0,S.of)([]),this.isLoading=!1,this.searchInputControl=new r.NI(null),this.selectedSlide=null,this._unsubscribeAll=new A.x}ngOnInit(){this.serviceTypes$=this.store.select(yn.Fr),this.store.select(T.B).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"code",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,d.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,J.T)(this._sort.sortChange,this._paginator.page).pipe((0,d.R)(this._unsubscribeAll),(0,R.b)(300),(0,K.O)(null),(0,L.w)(t=>null!==t?(this.isLoading=!0,this._serviceTypesService.getServiceTypes(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value)):(0,S.of)()),(0,M.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteServiceType(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar el tipo de servicio: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._serviceTypesService.removeServiceType(t.id).pipe((0,d.R)(this._unsubscribeAll)).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.removeServiceType.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateServiceTypeStatus(t,o,n){this.isLoading=!0,this.selectedSlide=n,this._serviceTypesService.updateServiceTypeStatus({id:o.id,active:t.checked}).subscribe(({data:a})=>{this._snackBar.openFromComponent(C.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.updateServiceTypeStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openDialog(t,o){this._dialog.open(Ln,{data:{serviceType:t,dialogMode:o},panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(ge.k),e.Y36(e.sBO),e.Y36(g.uw),e.Y36(Z.R),e.Y36(D.ux),e.Y36(I.yh))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["lists-service-types"]],viewQuery:function(o,n){if(1&o&&(e.Gf(f.NW,5),e.Gf(h.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},standalone:!0,features:[e.jDz],decls:27,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","sm:mt-0","sm:ml-4","gap-2"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","overflow-x-auto","font-semibold","shadow","lists-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","lists-grid","md:px-8","overflow-auto"],[1,"truncate"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b lists-grid md:px-8 overflow-auto"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Ajustes"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Tipo de servicio"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Tipo de servicio "),e.qZA()()(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return n.openDialog(n.serviceType,"add")}),e._UZ(20,"mat-icon",12),e.TgZ(21,"span",13),e._uU(22,"Agregar"),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",15),e.YNc(25,Rn,2,1),e.ALo(26,"async"),e.qZA()()()),2&o){let a;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(8),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(25,(a=e.lcZ(26,4,n.serviceTypes$))?25:-1,a)}},dependencies:[w.Ov,u.ot,u.lW,m.lN,p.Ps,p.Hw,y.c,f.TU,f.NW,x.Cq,x.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,w.mk,r.UX,q.rH],encapsulation:2,changeDetection:0})}return i})();var Pn=c(37714);const Qn=[{path:"",component:xt,children:[{path:"brands",component:ke,resolve:{brands:ai.J}},{path:"categories",component:ft,resolve:{categories:si.ek}},{path:"currencies",component:Nt,resolve:{currencies:ri.Y}},{path:"fuels",component:xo,resolve:{fuels:Co.I}},{path:"multipliers",component:Go,resolve:{multipliers:Po.K}},{path:"operations-types",component:Ui,resolve:{operationTypes:Di.Z}},{path:"payment-gateways",component:Cn,resolve:{paymentGateways:Qo.C}},{path:"payment-methods",component:oi,resolve:{paymentMethods:li.p}},{path:"service-types",component:Gn,resolve:{serviceTypes:Pn.P}},{path:"uoms",component:ni.B,resolve:{uoms:ci.d}},{path:"vouchers",component:Vi,resolve:{vouchers:Ki.p}}]}]}}]);