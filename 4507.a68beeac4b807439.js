"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4507],{64507:(Si,O,l)=>{l.r(O),l.d(O,{default:()=>Mi});var g=l(51188),t=l(54438);let mt=(()=>{class n{constructor(){}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["contacts"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(i,a){1&i&&t.nrm(0,"router-outlet")},dependencies:[g.n3],encapsulation:2,changeDetection:0})}return n})();var c=l(89417),J=l(21413),d=l(56977),k=l(67376),x=l(59640);const P=n=>n.contacts,_t=(0,x.Mz)(P,n=>n.contact),dt=(0,x.Mz)(P,n=>n.contacts);var S=l(56808);const Q=n=>n.clients,pt=(0,x.Mz)(Q,n=>n.client),ut=(0,x.Mz)(Q,n=>n.clients);var Z=l(29217),A=l(70819),p=l(46237),b=l(94794),$=l(55364),h=l(60177),R=l(88834),j=l(65571),F=l(32102),D=l(99213),T=l(59042),K=l(59115),I=l(82798),W=l(30450),G=l(14823),H=l(71971);let Ct=(()=>{class n{transform(e){if(e){const i=+e.substring(0,2),a=+e.substring(2,4),s=+e.substring(4,6);return new Date(i,a-1,s)}return null}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275pipe=t.EJ8({name:"birthDate",type:n,pure:!0,standalone:!0})}return n})();var N=l(90882),ft=l(9183),q=l(7673),gt=l(33726),tt=l(70152),et=l(99172),nt=l(25558),v=l(96354),ht=l(5964),ot=l(77540),vt=l(47413),M=l(58497),xt=l(98020),Ft=l(42409),it=l(99437),u=l(88141),bt=l(18810),X=l(98216),C=l(53473);const $t=C.J1`
    mutation CreateContact($createContactInput: CreateContactInput!) {
        createContact(createContactInput: $createContactInput) {
            ok,
            message,

            contact {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                idNumber,
                customerId,

                chargeId,

                customer {
                    id,
                    name,
                }

                charge {
                    id
                    name
                },

                emails {
                    email,
                    label
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber,
                    label
                },
                address,
                city,
                state,
                country,
                description,
                imageUrl
            }
        }
    }
`,kt=C.J1`
    query FindAllContacts($merchantId: String!, $page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllContacts(merchantId: $merchantId, page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            contacts {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                customerId,
                chargeId,

                charge {
                    id
                    name
                },

                customer {
                    id,
                    name
                }

                emails {
                    email,
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber
                },

                imageUrl
            }
        }
    }
`,Rt=C.J1`
    query FindFullContacts($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findFullContacts(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            fullContacts {
                id,
                name,
                lastname1
                imageUrl,
                email,
                phoneNumber,
                type,
            }
        }
    }
`,Et=C.J1`
    query FindContactById($contactId: String!) {
        findContactById(id: $contactId ) {
            ok,
            message,

            contact {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                idNumber,
                customerId,

                chargeId,

                customer {
                    id,
                    name,
                    coverUrl
                }

                charge {
                    id,
                    name
                }

                emails {
                    email,
                    label
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber,
                    label
                },
                address,
                city,
                state,
                country,
                description,
                imageUrl
            }
        }
    }
`,yt=C.J1`
    mutation UpdateContact($updateContactInput: UpdateContactInput!) {
        updateContact(updateContactInput: $updateContactInput) {
            ok,
            message,

            contact {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                idNumber,
                customerId,

                chargeId,

                customer {
                    id
                    name
                }

                charge {
                    id
                    name
                }

                emails {
                    email,
                    label
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber,
                    label
                },
                address,
                city,
                state,
                country,
                description,
                imageUrl
            }
        }
    }
`,jt=C.J1`
    mutation UpdateContactImage($updateEntityImageInput: UpdateEntityImageInput!) {
        updateContactImage(updateEntityImageInput: $updateEntityImageInput) {
            ok,
            message
        }
    }
`,Dt=C.J1`
    mutation RemoveContact($contactId: String!) {
        removeContact(id: $contactId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            contacts {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                customerId,
                chargeId,
                imageUrl
            }
        }
    }
`;let L=(()=>{class n{constructor(e,i){this.apolloProvider=e,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createContact(e){return this._apollo.mutate({mutation:$t,variables:{createContactInput:e},errorPolicy:"all"}).pipe((0,v.T)(({data:i})=>i?i.createContact:null),(0,u.M)(i=>{i&&(this.store.dispatch((0,p.vY)({contact:i.contact})),this.store.dispatch((0,p.RE)({contact:i.contact})))}))}findAllContacts(e,i=0,a=10,s="name",r="asc",_=null,m=!1){return this._apollo.query({query:kt,variables:{merchantId:e,page:i,size:a,sort:s,order:r,search:_},errorPolicy:"all"}).pipe((0,v.T)(({data:f})=>f?f.findAllContacts:null),(0,u.M)(f=>{f&&(this.store.dispatch(m?(0,p.G8)({contacts:f.contacts}):(0,p._R)({contacts:f.contacts})),this.store.dispatch((0,X.Bp)({pagination:f.pagination})))}))}findFullContacts(e=0,i=10,a="name",s="asc",r=null,_=!1){return this._apollo.query({query:Rt,variables:{page:e,size:i,sort:a,order:s,search:r},errorPolicy:"all"}).pipe((0,v.T)(({data:m})=>m?m.findFullContacts:null),(0,u.M)(m=>{m&&(this.store.dispatch(_?(0,p.G8)({contacts:m.fullContacts}):(0,p._R)({contacts:m.fullContacts})),this.store.dispatch((0,X.Bp)({pagination:m.pagination})))}))}findContactById(e){return this._apollo.query({query:Et,variables:{contactId:e},errorPolicy:"all"}).pipe((0,v.T)(({data:i})=>i?i.findContactById:null),(0,u.M)(i=>{i&&this.store.dispatch((0,p.RE)({contact:i.contact}))}))}updateContact(e){return this._apollo.mutate({mutation:yt,variables:{updateContactInput:e},errorPolicy:"all"}).pipe((0,v.T)(({data:i})=>i?i.updateContact:null),(0,u.M)(i=>{i&&(this.store.dispatch((0,p.CI)({contact:i.contact})),this.store.dispatch((0,p.RE)({contact:i.contact})))}))}updateContactImage(e){return this._apollo.mutate({mutation:jt,variables:{updateEntityImageInput:e},errorPolicy:"all"}).pipe((0,v.T)(({data:i})=>i?i.updateContactImage:null),(0,u.M)(i=>{i&&this.store.dispatch((0,p.$$)(e))}))}removeContact(e,i=0,a=10,s="name",r="desc",_=null){return this._apollo.mutate({mutation:Dt,variables:{contactId:e,page:i,size:a,sort:s,order:r,search:_},errorPolicy:"all"}).pipe((0,v.T)(({data:m})=>m?m.removeContact:null),(0,u.M)(m=>{m&&(this.store.dispatch((0,p.no)({id:e})),this.store.dispatch((0,X.Bp)({pagination:m.pagination})))}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(C.Ic),t.KVO(x.il))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var B=l(72797),Y=l(62590);const Tt=C.J1`
    query FindAllClients($offset: Int, $limit: Int, $sort: String, $order: Order, $search: String) {
        findAllClients(offset: $offset, limit: $limit, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length
                size
                page
            }

            clients {
                id
                active
                avatar
                name
                lastname1
                lastname2
                fullname
                username
                email
                phone
                gender
                idNumber
                birthday
                age
                address
                state
                city
                town
                country
                zip
            }
        }
    }
`,It=C.J1`
    query FindClientById($findClientById: String!) {
        findClientById(id: $findClientById) {
            ok
            message

            client {
                id
                active
                avatar
                name
                lastname1
                lastname2
                fullname
                username
                email
                phone
                gender
                idNumber
                birthday
                age
                address
                state
                city
                town
                country
                zip

            }
        }
    }
`;let U=(()=>{class n{constructor(e,i){this.apolloProvider=e,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}findAllClients(e=1,i=10,a="name",s="asc",r=null,_=!1){return this._apollo.query({query:Tt,variables:{offset:i*(e-1),limit:i,sort:a,order:s,search:r},errorPolicy:"all"}).pipe((0,v.T)(({data:m})=>m?m.findAllClients:null),(0,u.M)(m=>{m&&(this.store.dispatch(_?(0,M.XA)({clients:m.clients}):(0,M.RM)({clients:m.clients})),this.store.dispatch((0,X.Bp)({pagination:m.pagination})))}))}findClientById(e){return this._apollo.query({query:It,variables:{findClientById:e},errorPolicy:"all"}).pipe((0,v.T)(({data:i})=>i?i.findClientById:null),(0,u.M)(i=>{i&&this.store.dispatch((0,M.ig)({client:i.client}))}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(C.Ic),t.KVO(x.il))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),at=(()=>{class n{static#t=this.selectedFilter={title:"Todos",name:"contactos"};constructor(e,i,a,s,r,_){this._contactsService=e,this._customersService=i,this._employeesService=a,this._clientsService=s,this._router=r,this.store=_,this.store.select(A.Xb).subscribe(m=>{this.merchant=m})}resolve(e,i){if(this.merchant){let a;switch(n.selectedFilter.title){case"Jur\xeddicos":a=this._customersService.findAllCustomers();break;case"Empleados":a=this._employeesService.findAllEmployees();break;case"Contactos":a=this._contactsService.findAllContacts(this.merchant.id);break;case"Naturales":a=this._clientsService.findAllClients();break;case"Todos":a=this._contactsService.findFullContacts()}return a.pipe((0,it.W)(s=>this._router.navigateByUrl("/desktop")),(0,u.M)(s=>{s||this._router.navigateByUrl("/desktop")}))}return null}static#e=this.\u0275fac=function(i){return new(i||n)(t.KVO(L),t.KVO(B.h),t.KVO(Y.r),t.KVO(U),t.KVO(g.Ix),t.KVO(x.il))};static#n=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gt=(()=>{class n{constructor(e,i,a,s,r){this._contactsService=e,this._customersService=i,this._employeesService=a,this._clientsService=s,this._router=r}resolve(e,i){const a=e.params.entity,s=e.params.id;if("new"===s)return null;const r=i.url.split("/").slice(0,-2).join("/");let _;switch(a){case"customer":_=this._customersService.findCustomerById(s);break;case"employee":_=this._employeesService.findEmployeeById(s);break;case"contact":_=this._contactsService.findContactById(s);break;case"client":_=this._clientsService.findClientById(s);break;default:this._router.navigateByUrl(r)}return _.pipe((0,it.W)(m=>(this._router.navigateByUrl(r),(0,bt.$)(m))),(0,u.M)(m=>{m||this._router.navigateByUrl(r)}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(L),t.KVO(B.h),t.KVO(Y.r),t.KVO(U),t.KVO(g.Ix))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w=l(60850),Nt=l(27115),st=l(86600);const Mt=["matDrawer"],Xt=n=>({"ml-0 mt-4":n}),Lt=(n,o,e)=>({"=0":n,"=1":o,other:e}),Bt=()=>["./contact/new"],E=(n,o)=>({"hover:bg-gray-100 dark:hover:bg-hover":n,"bg-primary-50 dark:bg-hover":o}),St=n=>({"col-span-3":n});function At(n,o){if(1&n&&t.EFF(0),2&n){const e=t.XpG(3);t.SpI(" ",e.pagination.length," ")}}function Yt(n,o){if(1&n&&(t.j41(0,"div",25),t.DNE(1,At,1,1),t.EFF(2),t.nI1(3,"i18nPlural"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.vxM(1,e.pagination.length>0?1:-1),t.R7$(),t.SpI(" ",t.i5U(3,2,e.pagination.length,t.sMw(5,Lt,"Sin "+e.selectedFilter.name,e.selectedFilter.name.replace("s",""),e.selectedFilter.name))," ")}}function Ut(n,o){if(1&n&&(t.j41(0,"div",14)(1,"div",24),t.EFF(2,"Contactos"),t.k0s(),t.DNE(3,Yt,4,9,"div",25),t.k0s()),2&n){const e=t.XpG();t.R7$(3),t.vxM(3,e.pagination&&!e.isDrawerOpen?3:-1)}}function wt(n,o){if(1&n&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI("(",e.pagination.length,")")}}function Vt(n,o){if(1&n&&(t.j41(0,"span",28),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI("(",e.pagination.length,")")}}function zt(n,o){if(1&n&&(t.j41(0,"mat-button-toggle",17)(1,"span",26),t.EFF(2),t.k0s(),t.DNE(3,wt,2,1,"span",27)(4,Vt,2,1,"span",28),t.k0s()),2&n){const e=o.$implicit,i=t.XpG();t.Y8G("value",e)("matTooltip",e.tooltip),t.R7$(2),t.JRh(e.title),t.R7$(),t.vxM(3,e===i.selectedFilter&&i.pagination?3:-1),t.R7$(),t.vxM(4,e===i.selectedFilter&&i.isDrawerOpen&&i.pagination?4:-1)}}function Ot(n,o){if(1&n&&(t.j41(0,"mat-option",31),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Jt(n,o){if(1&n&&(t.j41(0,"div",11)(1,"mat-form-field",20),t.nrm(2,"mat-icon",21)(3,"input",29),t.j41(4,"mat-autocomplete",30,6),t.Z7z(6,Ot,2,2,"mat-option",31,t.fX1),t.nI1(8,"async"),t.k0s()()()),2&n){const e=t.sdS(5),i=t.XpG();t.R7$(),t.Y8G("subscriptSizing","dynamic"),t.R7$(),t.Y8G("svgIcon","mat_solid:search"),t.R7$(),t.Y8G("formControl",i.customerControl)("type","text")("matAutocomplete",e)("placeholder","Filtrar por cliente"),t.R7$(),t.Y8G("displayWith",i.displayFn.bind(i)),t.R7$(2),t.Dyx(t.bMT(8,7,i.filteredCustomers))}}function Pt(n,o){1&n&&(t.j41(0,"button",23),t.nrm(1,"mat-icon",32),t.j41(2,"span",33),t.EFF(3,"Nuevo"),t.k0s()()),2&n&&(t.Y8G("routerLink",t.lJ4(3,Bt))("color","primary"),t.R7$(),t.Y8G("svgIcon","mat_solid:add"))}function Qt(n,o){1&n&&t.eu8(0)}function Zt(n,o){if(1&n&&t.DNE(0,Qt,1,0,"ng-container",34),2&n){t.XpG();const e=t.sdS(35);t.Y8G("ngTemplateOutlet",e)}}function Kt(n,o){1&n&&t.eu8(0)}function Wt(n,o){if(1&n&&t.DNE(0,Kt,1,0,"ng-container",34),2&n){t.XpG();const e=t.sdS(33);t.Y8G("ngTemplateOutlet",e)}}function Ht(n,o){1&n&&t.eu8(0)}function qt(n,o){if(1&n&&t.DNE(0,Ht,1,0,"ng-container",34),2&n){t.XpG();const e=t.sdS(31);t.Y8G("ngTemplateOutlet",e)}}function te(n,o){1&n&&t.eu8(0)}function ee(n,o){if(1&n&&t.DNE(0,te,1,0,"ng-container",34),2&n){t.XpG();const e=t.sdS(29);t.Y8G("ngTemplateOutlet",e)}}function ne(n,o){1&n&&t.eu8(0)}function oe(n,o){if(1&n&&t.DNE(0,ne,1,0,"ng-container",34),2&n){t.XpG();const e=t.sdS(27);t.Y8G("ngTemplateOutlet",e)}}function ie(n,o){1&n&&(t.j41(0,"div",37),t.nrm(1,"div",38),t.k0s(),t.j41(2,"div",39),t.nrm(3,"div"),t.j41(4,"div",40)(5,"span",41),t.EFF(6,"Nombre"),t.k0s()(),t.j41(7,"div",42)(8,"span",43),t.EFF(9,"Tel\xe9fono"),t.k0s()(),t.j41(10,"div",42)(11,"span",43),t.EFF(12,"Correo electr\xf3nico"),t.k0s()()())}function ae(n,o){if(1&n&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function se(n,o){if(1&n&&t.nrm(0,"img",47),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.imageUrl,t.B4B)}}function ce(n,o){if(1&n&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function le(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.JRh(e.phoneNumber)}}function re(n,o){if(1&n&&(t.j41(0,"div",51),t.DNE(1,le,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.phoneNumber?1:-1)}}function me(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.email,"")}}function _e(n,o){if(1&n&&(t.j41(0,"div",51),t.DNE(1,me,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.email?1:-1)}}function de(n,o){if(1&n){const e=t.RV6();t.DNE(0,ae,3,3,"div",44),t.j41(1,"a",45),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.selectItem(a,a.type))}),t.j41(2,"div",46),t.DNE(3,se,1,1,"img",47)(4,ce,3,3,"div",48),t.k0s(),t.j41(5,"div",49)(6,"span",50),t.EFF(7),t.k0s()(),t.DNE(8,re,2,1,"div",51)(9,_e,2,1,"div",51),t.k0s()}if(2&n){const e=o.$implicit,i=o.$index,a=t.XpG(3);t.vxM(0,0===i||e.name.charAt(0)!==a.fullContacts[i-1].name.charAt(0)?0:-1),t.R7$(),t.Y8G("ngClass",t.l_i(8,E,!a.selectedItem||a.selectedItem.id!==e.id,a.selectedItem&&a.selectedItem.id===e.id)),t.R7$(2),t.vxM(3,e.imageUrl?3:-1),t.R7$(),t.vxM(4,e.imageUrl?-1:4),t.R7$(3),t.Lme(" ",e.name," ",e.lastname1," "),t.R7$(),t.vxM(8,a.isDrawerOpen?-1:8),t.R7$(),t.vxM(9,a.isDrawerOpen?-1:9)}}function pe(n,o){if(1&n&&(t.DNE(0,ie,13,0),t.Z7z(1,de,10,11,"a",36,t.BUC().trackByFn,!0)),2&n){const e=t.XpG(2);t.vxM(0,e.isDrawerOpen?-1:0),t.R7$(),t.Dyx(e.fullContacts)}}function ue(n,o){1&n&&(t.j41(0,"div",53),t.EFF(1," No se han encontrado contactos!"),t.k0s())}function Ce(n,o){if(1&n&&(t.j41(0,"div",35),t.DNE(1,pe,3,1)(2,ue,2,0),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.vxM(1,e.fullContacts.length?1:2)}}function fe(n,o){1&n&&(t.j41(0,"div",37),t.nrm(1,"div",38),t.k0s(),t.j41(2,"div",39),t.nrm(3,"div"),t.j41(4,"div",40)(5,"span",41),t.EFF(6,"Nombre"),t.k0s()(),t.j41(7,"div",42)(8,"span",43),t.EFF(9,"Tel\xe9fono"),t.k0s()(),t.j41(10,"div",42)(11,"span",43),t.EFF(12,"Correo electr\xf3nico"),t.k0s()()())}function ge(n,o){if(1&n&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function he(n,o){if(1&n&&t.nrm(0,"img",54),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.avatar,t.B4B)}}function ve(n,o){if(1&n&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function xe(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.JRh(e.phone)}}function Fe(n,o){if(1&n&&(t.j41(0,"div",51),t.DNE(1,xe,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.phone?1:-1)}}function be(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.email,"")}}function $e(n,o){if(1&n&&(t.j41(0,"div",51),t.DNE(1,be,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.email?1:-1)}}function ke(n,o){if(1&n){const e=t.RV6();t.DNE(0,ge,3,3,"div",44),t.j41(1,"a",45),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.selectItem(a,"client"))}),t.j41(2,"div",46),t.DNE(3,he,1,1,"img",54)(4,ve,3,3,"div",48),t.k0s(),t.j41(5,"div",49)(6,"span",50),t.EFF(7),t.k0s()(),t.DNE(8,Fe,2,1,"div",51)(9,$e,2,1,"div",51),t.k0s()}if(2&n){const e=o.$implicit,i=o.$index,a=t.XpG(2),s=t.XpG(2);t.vxM(0,0===i||e.name.charAt(0)!==a[i-1].name.charAt(0)?0:-1),t.R7$(),t.Y8G("ngClass",t.l_i(9,E,!s.selectedItem||s.selectedItem.id!==e.id,s.selectedItem&&s.selectedItem.id===e.id)),t.R7$(2),t.vxM(3,e.avatar?3:-1),t.R7$(),t.vxM(4,e.avatar?-1:4),t.R7$(3),t.E5c(" ",e.name," ",e.lastname1," ",e.lastname2," "),t.R7$(),t.vxM(8,s.isDrawerOpen?-1:8),t.R7$(),t.vxM(9,s.isDrawerOpen?-1:9)}}function Re(n,o){if(1&n&&(t.DNE(0,fe,13,0),t.Z7z(1,ke,10,12,"a",36,t.BUC().trackByFn,!0)),2&n){const e=t.XpG(),i=t.XpG(2);t.vxM(0,i.isDrawerOpen?-1:0),t.R7$(),t.Dyx(e)}}function Ee(n,o){if(1&n&&(t.j41(0,"div",53),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.searchInputControl.value?"\xa1No se han encontrado clients!":"\xa1No le ha comprado un cliente a\xfan!"," ")}}function ye(n,o){1&n&&t.DNE(0,Re,3,1)(1,Ee,2,1),2&n&&t.vxM(0,o.length?0:1)}function je(n,o){if(1&n&&(t.j41(0,"div",35),t.DNE(1,ye,2,1),t.nI1(2,"async"),t.k0s()),2&n){let e;const i=t.XpG();t.R7$(),t.vxM(1,(e=t.bMT(2,1,i.clients$))?1:-1,e)}}function De(n,o){1&n&&(t.j41(0,"div",37),t.nrm(1,"div",38),t.k0s(),t.j41(2,"div",56),t.nrm(3,"div"),t.j41(4,"div",40)(5,"span",41),t.EFF(6,"Nombre/Abreviaturas"),t.k0s()(),t.j41(7,"div",42)(8,"span",43),t.EFF(9,"Cuenta bancaria"),t.k0s()(),t.j41(10,"div",42)(11,"span",43),t.EFF(12,"Tel\xe9fono"),t.k0s()(),t.j41(13,"div",42)(14,"span",43),t.EFF(15,"Correo electr\xf3nico"),t.k0s()()())}function Te(n,o){if(1&n&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function Ie(n,o){if(1&n&&t.nrm(0,"img",58),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.logoUrl,t.B4B)}}function Ge(n,o){if(1&n&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function Ne(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.bankAccounts[0].no,"")}}function Me(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,Ne,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.bankAccounts&&e.bankAccounts.length>0?1:-1)}}function Xe(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Lme(" ",e.phoneNumber.stateCode," ",e.phoneNumber.phoneNumber,"")}}function Le(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,Xe,2,2,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.phoneNumber?1:-1)}}function Be(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.email.email,"")}}function Se(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,Be,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.email?1:-1)}}function Ae(n,o){if(1&n){const e=t.RV6();t.DNE(0,Te,3,3,"div",44),t.j41(1,"a",57),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.selectItem(a,"customer"))}),t.j41(2,"div",46),t.DNE(3,Ie,1,1,"img",58)(4,Ge,3,3,"div",48),t.k0s(),t.j41(5,"div",59)(6,"div",50),t.EFF(7),t.k0s(),t.j41(8,"div",60),t.EFF(9),t.k0s()(),t.DNE(10,Me,2,1,"div",61)(11,Le,2,1,"div",61)(12,Se,2,1,"div",61),t.k0s()}if(2&n){const e=o.$implicit,i=o.$index,a=t.XpG(2),s=t.XpG(2);t.vxM(0,0===i||e.name.charAt(0)!==a[i-1].name.charAt(0)?0:-1),t.R7$(),t.Y8G("ngClass",t.l_i(10,E,!s.selectedItem||s.selectedItem.id!==e.id,s.selectedItem&&s.selectedItem.id===e.id)),t.R7$(2),t.vxM(3,e.logoUrl?3:-1),t.R7$(),t.vxM(4,e.logoUrl?-1:4),t.R7$(),t.Y8G("ngClass",t.eq3(13,St,s.isDrawerOpen)),t.R7$(2),t.JRh(e.name),t.R7$(2),t.SpI(" ",e.abbr,""),t.R7$(),t.vxM(10,s.isDrawerOpen?-1:10),t.R7$(),t.vxM(11,s.isDrawerOpen?-1:11),t.R7$(),t.vxM(12,s.isDrawerOpen?-1:12)}}function Ye(n,o){if(1&n&&(t.DNE(0,De,16,0),t.Z7z(1,Ae,13,15,"a",55,t.BUC().trackByFn,!0)),2&n){const e=t.XpG(),i=t.XpG(2);t.vxM(0,i.isDrawerOpen?-1:0),t.R7$(),t.Dyx(e)}}function Ue(n,o){if(1&n&&(t.j41(0,"div",53),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.searchInputControl.value?"\xa1No se han encontrado clientes!":"\xa1No se ha creado ning\xfan cliente a\xfan!"," ")}}function we(n,o){1&n&&t.DNE(0,Ye,3,1)(1,Ue,2,1),2&n&&t.vxM(0,o.length?0:1)}function Ve(n,o){if(1&n&&(t.j41(0,"div",35),t.DNE(1,we,2,1),t.nI1(2,"async"),t.k0s()),2&n){let e;const i=t.XpG();t.R7$(),t.vxM(1,(e=t.bMT(2,1,i.customers$))?1:-1,e)}}function ze(n,o){1&n&&(t.j41(0,"div",37),t.nrm(1,"div",38),t.k0s(),t.j41(2,"div",63),t.nrm(3,"div"),t.j41(4,"div",40)(5,"span",41),t.EFF(6,"Nombre/Cargo"),t.k0s()(),t.j41(7,"div",42)(8,"span",43),t.EFF(9,"Cuenta bancaria"),t.k0s()(),t.j41(10,"div",42)(11,"span",43),t.EFF(12,"Tel\xe9fono"),t.k0s()(),t.j41(13,"div",42)(14,"span",43),t.EFF(15,"Correo electr\xf3nico"),t.k0s()()())}function Oe(n,o){if(1&n&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function Je(n,o){if(1&n&&t.nrm(0,"img",65),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.imageUrl,t.B4B)}}function Pe(n,o){if(1&n&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function Qe(n,o){if(1&n&&(t.j41(0,"div",67),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("matTooltip","Cargo"),t.R7$(),t.SpI(" ",e.charge.name,"")}}function Ze(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.bankAccounts[0].no,"")}}function Ke(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,Ze,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.bankAccounts&&e.bankAccounts.length>0?1:-1)}}function We(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Lme(" ",e.phoneNumbers[0].stateCode," ",e.phoneNumbers[0].phoneNumber,"")}}function He(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,We,2,2,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.phoneNumbers.length>0?1:-1)}}function qe(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.emails[0].email,"")}}function tn(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,qe,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.emails.length>0?1:-1)}}function en(n,o){if(1&n){const e=t.RV6();t.DNE(0,Oe,3,3,"div",44),t.j41(1,"a",64),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.selectItem(a,"employee"))}),t.j41(2,"div",46),t.DNE(3,Je,1,1,"img",65)(4,Pe,3,3,"div",48),t.k0s(),t.j41(5,"div",66)(6,"div",50),t.EFF(7),t.k0s(),t.DNE(8,Qe,2,2,"div",67),t.k0s(),t.DNE(9,Ke,2,1,"div",61)(10,He,2,1,"div",61)(11,tn,2,1,"div",61),t.k0s()}if(2&n){const e=o.$implicit,i=o.$index,a=t.XpG(2),s=t.XpG(2);t.vxM(0,0===i||e.name.charAt(0)!==a[i-1].name.charAt(0)?0:-1),t.R7$(),t.Y8G("ngClass",t.l_i(11,E,!s.selectedItem||s.selectedItem.id!==e.id,s.selectedItem&&s.selectedItem.id===e.id)),t.R7$(2),t.vxM(3,e.imageUrl?3:-1),t.R7$(),t.vxM(4,e.imageUrl?-1:4),t.R7$(3),t.E5c("",e.name," ",e.lastname1," ",e.lastname2,""),t.R7$(),t.vxM(8,e.charge?8:-1),t.R7$(),t.vxM(9,s.isDrawerOpen?-1:9),t.R7$(),t.vxM(10,s.isDrawerOpen?-1:10),t.R7$(),t.vxM(11,s.isDrawerOpen?-1:11)}}function nn(n,o){if(1&n&&(t.DNE(0,ze,16,0),t.Z7z(1,en,12,14,"a",62,t.BUC().trackByFn,!0)),2&n){const e=t.XpG(),i=t.XpG(2);t.vxM(0,i.isDrawerOpen?-1:0),t.R7$(),t.Dyx(e)}}function on(n,o){if(1&n&&(t.j41(0,"div",53),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!"," ")}}function an(n,o){1&n&&t.DNE(0,nn,3,1)(1,on,2,1),2&n&&t.vxM(0,o.length?0:1)}function sn(n,o){if(1&n&&(t.j41(0,"div",35),t.DNE(1,an,2,1),t.nI1(2,"async"),t.k0s()),2&n){let e;const i=t.XpG();t.R7$(),t.vxM(1,(e=t.bMT(2,1,i.employees$))?1:-1,e)}}function cn(n,o){1&n&&(t.j41(0,"div",37),t.nrm(1,"div",38),t.k0s(),t.j41(2,"div",69),t.nrm(3,"div"),t.j41(4,"div",40)(5,"span",41),t.EFF(6,"Nombre/Cargo"),t.k0s()(),t.j41(7,"div",42)(8,"span",43),t.EFF(9,"Cliente I"),t.k0s()(),t.j41(10,"div",42)(11,"span",43),t.EFF(12,"Tel\xe9fono"),t.k0s()(),t.j41(13,"div",42)(14,"span",43),t.EFF(15,"Correo electr\xf3nico"),t.k0s()()())}function ln(n,o){if(1&n&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function rn(n,o){if(1&n&&t.nrm(0,"img",71),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.imageUrl,t.B4B)}}function mn(n,o){if(1&n&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function _n(n,o){if(1&n&&(t.j41(0,"div",60),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.charge.name,"")}}function dn(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.customer.name,"")}}function pn(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,dn,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.customer?1:-1)}}function un(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Lme(" ",e.phoneNumbers[0].stateCode," ",e.phoneNumbers[0].phoneNumber,"")}}function Cn(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,un,2,2,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.phoneNumbers.length>0?1:-1)}}function fn(n,o){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.emails[0].email,"")}}function gn(n,o){if(1&n&&(t.j41(0,"div",61),t.DNE(1,fn,2,1,"span",52),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.vxM(1,e.emails.length>0?1:-1)}}function hn(n,o){if(1&n){const e=t.RV6();t.DNE(0,ln,3,3,"div",44),t.j41(1,"a",70),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.selectItem(a,"contact"))}),t.j41(2,"div",46),t.DNE(3,rn,1,1,"img",71)(4,mn,3,3,"div",48),t.k0s(),t.j41(5,"div",72)(6,"div",50),t.EFF(7),t.k0s(),t.DNE(8,_n,2,1,"div",60),t.k0s(),t.DNE(9,pn,2,1,"div",61)(10,Cn,2,1,"div",61)(11,gn,2,1,"div",61),t.k0s()}if(2&n){const e=o.$implicit,i=o.$index,a=t.XpG(3);t.vxM(0,0===i||e.name.charAt(0)!==a.contacts[i-1].name.charAt(0)?0:-1),t.R7$(),t.Y8G("ngClass",t.l_i(11,E,!a.selectedItem||a.selectedItem.id!==e.id,a.selectedItem&&a.selectedItem.id===e.id)),t.R7$(2),t.vxM(3,e.imageUrl?3:-1),t.R7$(),t.vxM(4,e.imageUrl?-1:4),t.R7$(3),t.E5c("",e.name," ",e.lastname1," ",e.lastname2,""),t.R7$(),t.vxM(8,e.charge&&e.charge.name?8:-1),t.R7$(),t.vxM(9,a.isDrawerOpen?-1:9),t.R7$(),t.vxM(10,a.isDrawerOpen?-1:10),t.R7$(),t.vxM(11,a.isDrawerOpen?-1:11)}}function vn(n,o){if(1&n&&(t.DNE(0,cn,16,0),t.Z7z(1,hn,12,14,"a",68,t.BUC().trackByFn,!0)),2&n){const e=t.XpG(2);t.vxM(0,e.isDrawerOpen?-1:0),t.R7$(),t.Dyx(e.contacts)}}function xn(n,o){if(1&n&&(t.j41(0,"div",53),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.searchInputControl.value?"\xa1No se han encontrado contactos!":"\xa1No se ha creado ning\xfan contacto a\xfan!"," ")}}function Fn(n,o){if(1&n&&(t.j41(0,"div",35),t.DNE(1,vn,3,1)(2,xn,2,1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.vxM(1,e.contacts.length?1:2)}}let ct=(()=>{class n{constructor(e,i,a,s,r,_,m,f,V,z){this._activatedRoute=e,this._changeDetectorRef=i,this._contactsService=a,this._customersService=s,this._employeesService=r,this._clientsService=_,this._document=m,this._router=f,this._fuseMediaWatcherService=V,this.store=z,this.isDrawerOpen=!1,this.contacts=[],this.fullContacts=[],this.customers=[],this.searchInputControl=new c.MJ(null),this.customerControl=new c.MJ(null),this.filters=[{title:"Todos",name:"contactos",tooltip:""},{title:"Contactos",name:"contactos",tooltip:""},{title:"Jur\xeddicos",name:"Jur\xeddicos",tooltip:"Clientes mayoristas"},{title:"Naturales",name:"Naturales",tooltip:"Clientes minoristas"},{title:"Empleados",name:"empleados",tooltip:""}],this._selectedFilter=this.filters[0],this._unsubscribeAll=new J.B}get selectedFilter(){return this._selectedFilter}set selectedFilter(e){this._selectedFilter=e,at.selectedFilter=e}ngOnInit(){this.store.select(dt).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{"Contactos"===this.selectedFilter.title?this.contacts=e:this.fullContacts=e,this._changeDetectorRef.markForCheck()}),this.employees$=this.store.select(Z.OB),this.customers$=this.store.select(S.wQ),this.clients$=this.store.select(ut),this.store.select(S.wQ).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.customers=e}),this.store.select(A.Xb).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.currentMerchant=e}),this.store.select(vt.Dz).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,d.Q)(this._unsubscribeAll),(0,tt.B)(300),(0,et.Z)(null),(0,nt.n)(e=>null!==e?this.getItems(0,10,"name","asc",e):(0,q.of)())).subscribe(),this.filteredCustomers=this.customerControl.valueChanges.pipe((0,d.Q)(this._unsubscribeAll),(0,tt.B)(600),(0,et.Z)(""),(0,nt.n)(e=>e&&36===e.length?this._contactsService.findAllContacts(this.currentMerchant.id,0,10,"name","asc",e).pipe((0,v.T)(i=>[])):e&&e.length>2?this._customersService.findActiveCustomers():(0,q.of)([]))),this.matDrawer.openedChange.subscribe(e=>{if(!e){switch(this.selectedFilter.title){case"Jur\xeddicos":this.store.dispatch((0,Ft.if)());break;case"Empleados":this.store.dispatch((0,xt.IS)());break;case"Contactos":this.store.dispatch((0,p.YQ)());break;case"Naturales":this.store.dispatch((0,M.NI)())}this.selectedItem=null}this.isDrawerOpen=e,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.Q)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.drawerMode=e.includes("lg")?"side":"over",this._changeDetectorRef.markForCheck()}),(0,gt.R)(this._document,"keydown").pipe((0,d.Q)(this._unsubscribeAll),(0,ht.p)(e=>(!0===e.ctrlKey||e.metaKey)&&"/"===e.key)).subscribe(()=>{this.createContact()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onScrollDown(){(this.pagination.page+1)*this.pagination.size<this.pagination.length&&this.getItems(this.pagination.page+1,this.pagination.size,"name","asc",this.searchInputControl.value,!0).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(),console.log("onScrollDown")}onScrollUp(){console.log("onScrollUp")}onFilterChange(e){this.selectedFilter=e.value;const i=this.getItems(0,this.pagination.size,"name","asc",this.searchInputControl.value,!1).subscribe();this._changeDetectorRef.markForCheck(),setTimeout(()=>{i.unsubscribe()},2e4)}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createContact(){this._router.navigate(["./","new"],{relativeTo:this._activatedRoute}),this.store.dispatch((0,p.YQ)())}selectItem(e,i){this.selectedItem&&this.selectedItem.id===e.id?this.selectedItem.id===e.id&&this._router.navigate(["./"],{relativeTo:this._activatedRoute}):(this.selectedItem=e,this._router.navigate(["./"+i,e.id],{relativeTo:this._activatedRoute}))}trackByFn(e,i){return i.id||e}displayFn(e){const i=this.customers.find(a=>a.id===e);return i?i.name:""}getItems(e=0,i=10,a="name",s="asc",r="",_=!1){switch(this.selectedFilter.title){case"Jur\xeddicos":return this._customersService.findAllCustomers(e,i,a,s,r,_);case"Naturales":return this._clientsService.findAllClients(e+1,i,a,s,r,_);case"Empleados":return this._employeesService.findAllEmployees(e,i,a,s,r,_);case"Contactos":return this._contactsService.findAllContacts(this.currentMerchant.id,e,i,a,s,r,_);case"Todos":return this._contactsService.findFullContacts(e,i,a,s,r,_)}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(g.nX),t.rXU(t.gRc),t.rXU(L),t.rXU(B.h),t.rXU(Y.r),t.rXU(U),t.rXU(h.qQ),t.rXU(g.Ix),t.rXU(Nt.F),t.rXU(x.il))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["contacts-list"]],viewQuery:function(i,a){if(1&i&&t.GBs(Mt,7),2&i){let s;t.mGM(s=t.lsd())&&(a.matDrawer=s.first)}},standalone:!0,features:[t.aNF],decls:36,vars:25,consts:[["matDrawer",""],["allListContent",""],["clientListContent",""],["customerListContent",""],["employeesListContent",""],["contactListContent",""],["auto","matAutocomplete"],[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","md:w-160","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["infiniteScroll","",1,"flex","flex-col",3,"scrolled","scrolledUp","infiniteScrollDistance","infiniteScrollUpDistance","infiniteScrollThrottle","scrollWindow"],[1,"flex-auto"],[1,"flex","flex-col","justify-between","flex-auto","px-6","py-8","border-b","md:flex-col","md:px-8"],[1,"flex","flex-row","flex-wrap","sm:justify-between"],[1,"hidden","md:block"],[1,"overflow-auto","sm:overflow-hidden",3,"ngClass"],[1,"sm:flex","sm:flex-wrap","sm:-m-2",3,"ngModelChange","change","ngModel"],[1,"m-2",3,"value","matTooltip"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","mt-4","sm:mt-0","md:mt-4"],[1,"flex-auto","rounded-full"],[1,"w-full","fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-bold","min-w-50",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink","color"],[1,"text-4xl","font-extrabold","leading-none","tracking-tight"],[1,"ml-0.5","font-medium","text-secondary"],[1,"text-secondary"],[1,"md:hidden","ml-1.5","font-medium","text-secondary"],[1,"ml-1.5","font-medium","text-secondary"],["matInput","","matInput","",3,"formControl","type","matAutocomplete","placeholder"],["autoActiveFirstOption","",3,"displayWith"],[3,"value"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","sm:block"],[4,"ngTemplateOutlet"],[1,"relative"],[1,"z-20","grid","px-6","py-2","border-b","cursor-pointer","tems-center","md:px-8","contacts-clients-table",3,"ngClass"],[1,"absolute","hidden","w-full","sm:block","bg-gray-50","dark:bg-gray-900"],[1,"h-8"],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-clients-table"],[1,"grid","items-center","h-full","bg-gray-50","dark:bg-gray-900"],[1,"ml-2","text-sm"],[1,"items-center","hidden","h-full","bg-gray-50","dark:bg-gray-900","md:grid"],[1,"text-sm"],[1,"sticky","top-0","z-10","px-6","py-1","-mt-px","font-medium","uppercase","border-t","border-b","md:px-8","text-secondary","bg-gray-50","dark:bg-gray-900"],[1,"z-20","grid","px-6","py-2","border-b","cursor-pointer","tems-center","md:px-8","contacts-clients-table",3,"click","ngClass"],[1,"flex","items-center","justify-center","w-10","h-10","overflow-hidden","rounded-full","flex-0"],["alt","Avatar",1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","text-lg","text-gray-600","uppercase","bg-gray-200","rounded-full","dark:bg-gray-700","dark:text-gray-200"],[1,"flex","items-center","ml-2"],[1,"font-medium","leading-5","truncate"],[1,"items-center","hidden","md:flex"],[1,"row-start-2","leading-5","truncate","text-secondary"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],["alt","Client avatar",1,"object-cover","w-full","h-full",3,"src"],[1,"z-20","grid","px-6","py-4","border-b","cursor-pointer","tems-center","md:px-8","contacts-customers-table",3,"ngClass"],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-customers-table"],[1,"z-20","grid","px-6","py-4","border-b","cursor-pointer","tems-center","md:px-8","contacts-customers-table",3,"click","ngClass"],["alt","Customer imageUrl",1,"object-cover","w-full","h-full",3,"src"],[1,"grid","grid-rows-2","ml-2",3,"ngClass"],[1,"leading-5","truncate","text-secondary"],[1,"hidden","grid-rows-2","md:grid"],[1,"z-20","grid","items-center","px-6","py-4","border-b","cursor-pointer","md:px-8","contacts-employees-table",3,"ngClass"],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-employees-table"],[1,"z-20","grid","items-center","px-6","py-4","border-b","cursor-pointer","md:px-8","contacts-employees-table",3,"click","ngClass"],["alt","Employee imageUrl",1,"object-cover","w-full","h-full",3,"src"],[1,"min-w-0","ml-4"],[1,"leading-5","truncate","text-secondary",3,"matTooltip"],[1,"z-20","grid","items-center","px-6","py-4","border-b","cursor-pointer","md:px-8","contacts-table",3,"ngClass"],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-table"],[1,"z-20","grid","items-center","px-6","py-4","border-b","cursor-pointer","md:px-8","contacts-table",3,"click","ngClass"],["alt","Contact avatar",1,"object-cover","w-full","h-full",3,"src"],[1,"min-w-0","ml-2"]],template:function(i,a){if(1&i){const s=t.RV6();t.j41(0,"div",7)(1,"mat-drawer-container",8),t.bIt("backdropClick",function(){return t.eBV(s),t.Njj(a.onBackdropClicked())}),t.j41(2,"mat-drawer",9,0),t.nrm(4,"router-outlet"),t.k0s(),t.j41(5,"mat-drawer-content",10),t.bIt("scrolled",function(){return t.eBV(s),t.Njj(a.onScrollDown())})("scrolledUp",function(){return t.eBV(s),t.Njj(a.onScrollUp())}),t.j41(6,"div",11)(7,"div",12)(8,"div",13),t.DNE(9,Ut,4,1,"div",14),t.j41(10,"div",15)(11,"mat-button-toggle-group",16),t.mxI("ngModelChange",function(_){return t.eBV(s),t.DH7(a.selectedFilter,_)||(a.selectedFilter=_),t.Njj(_)}),t.bIt("change",function(_){return t.eBV(s),t.Njj(a.onFilterChange(_))}),t.Z7z(12,zt,5,5,"mat-button-toggle",17,t.fX1),t.k0s()()(),t.j41(14,"div",18)(15,"div",19)(16,"mat-form-field",20),t.nrm(17,"mat-icon",21)(18,"input",22),t.k0s()(),t.DNE(19,Jt,9,9,"div",11)(20,Pt,4,4,"button",23),t.k0s()(),t.DNE(21,Zt,1,1,"ng-container")(22,Wt,1,1,"ng-container")(23,qt,1,1,"ng-container")(24,ee,1,1,"ng-container")(25,oe,1,1,"ng-container")(26,Ce,3,1,"ng-template",null,1,t.C5r)(28,je,3,3,"ng-template",null,2,t.C5r)(30,Ve,3,3,"ng-template",null,3,t.C5r)(32,sn,3,3,"ng-template",null,4,t.C5r)(34,Fn,3,1,"ng-template",null,5,t.C5r),t.k0s()()()()}2&i&&(t.R7$(2),t.Y8G("mode",a.drawerMode)("opened",!1)("position","end")("disableClose",!0),t.R7$(3),t.Y8G("infiniteScrollDistance",2)("infiniteScrollUpDistance",2)("infiniteScrollThrottle",150)("scrollWindow",!1),t.R7$(4),t.vxM(9,"side"===a.drawerMode?9:-1),t.R7$(),t.Y8G("ngClass",t.eq3(23,Xt,a.isDrawerOpen)),t.R7$(),t.R50("ngModel",a.selectedFilter),t.R7$(),t.Dyx(a.filters),t.R7$(4),t.Y8G("subscriptSizing","dynamic"),t.R7$(),t.Y8G("svgIcon","mat_solid:search"),t.R7$(),t.Y8G("formControl",a.searchInputControl)("autocomplete","off")("placeholder","Buscar "+a.selectedFilter.name),t.R7$(),t.vxM(19,"Contactos"===a.selectedFilter.title?19:-1),t.R7$(),t.vxM(20,"Contactos"===a.selectedFilter.title?20:-1),t.R7$(),t.vxM(21,"Contactos"===a.selectedFilter.title?21:-1),t.R7$(),t.vxM(22,"Empleados"===a.selectedFilter.title?22:-1),t.R7$(),t.vxM(23,"Jur\xeddicos"===a.selectedFilter.title?23:-1),t.R7$(),t.vxM(24,"Naturales"===a.selectedFilter.title?24:-1),t.R7$(),t.vxM(25,"Todos"===a.selectedFilter.title?25:-1))},dependencies:[h.Jj,c.YN,c.me,c.BC,c.vS,h.jo,ot.eO,ot.DP,w.jL,w.$3,st.wT,w.pN,R.Hl,R.$z,j.Vg,j.ec,j.pc,F.RG,F.rl,F.JW,D.m_,D.An,T.fS,T.fg,K.Cn,ft.D6,I.Ve,N.vg,N.qe,N.$C,N.$l,W.mV,G.uc,G.oV,h.YU,c.X1,c.l_,g.Wk,g.n3,h.T3,H.d],encapsulation:2,changeDetection:0})}return n})();var bn=l(43791),$n=l(90118),kn=l(46601),Rn=l(95416),En=l(98049);const y=()=>["../../"],lt=n=>({"mt-6":n}),rt=n=>({"cursor-not-allowed":n});function yn(n,o){1&n&&t.eu8(0)}function jn(n,o){if(1&n&&t.DNE(0,yn,1,0,"ng-container",6),2&n){t.XpG();const e=t.sdS(12);t.Y8G("ngTemplateOutlet",e)}}function Dn(n,o){1&n&&t.eu8(0)}function Tn(n,o){if(1&n&&t.DNE(0,Dn,1,0,"ng-container",6),2&n){t.XpG();const e=t.sdS(8);t.Y8G("ngTemplateOutlet",e)}}function In(n,o){1&n&&t.eu8(0)}function Gn(n,o){if(1&n&&t.DNE(0,In,1,0,"ng-container",6),2&n){t.XpG();const e=t.sdS(10);t.Y8G("ngTemplateOutlet",e)}}function Nn(n,o){1&n&&t.eu8(0)}function Mn(n,o){if(1&n&&t.DNE(0,Nn,1,0,"ng-container",6),2&n){t.XpG();const e=t.sdS(6);t.Y8G("ngTemplateOutlet",e)}}function Xn(n,o){if(1&n&&t.nrm(0,"img",8),2&n){const e=t.XpG(3);t.Y8G("src",e.currentMerchant.coverUrl,t.B4B)}}function Ln(n,o){if(1&n&&t.nrm(0,"img",16),2&n){const e=t.XpG(3);t.Y8G("src",e.client.avatar,t.B4B)}}function Bn(n,o){if(1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,e.client.name)," ")}}function Sn(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",25)(3,"a",26),t.EFF(4),t.k0s()()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:email"),t.R7$(2),t.Y8G("href","mailto:"+e.client.email,t.B4B),t.R7$(),t.SpI(" ",e.client.email," ")}}function An(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",25)(3,"a",27),t.EFF(4),t.k0s()()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:call"),t.R7$(2),t.Y8G("href","tel:"+e.client.phone,t.B4B),t.R7$(),t.JRh(e.client.phone)}}function Yn(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:location_on"),t.R7$(2),t.LHq("",e.client.address,", ",e.client.city,", ",e.client.state,", ",e.client.country," ")}}function Un(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:badge"),t.R7$(2),t.JRh(e.client.idNumber)}}function wn(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.nI1(4,"birthDate"),t.nI1(5,"date"),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:cake"),t.R7$(2),t.JRh(t.i5U(5,4,t.bMT(4,2,e.client.idNumber),"longDate"))}}function Vn(n,o){if(1&n&&(t.j41(0,"div",21),t.DNE(1,Sn,5,3,"div",22)(2,An,5,3,"div",22)(3,Yn,4,5,"div",23)(4,Un,4,2,"div",23)(5,wn,6,7,"div",23),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.vxM(1,e.client.email?1:-1),t.R7$(),t.vxM(2,e.client.phone?2:-1),t.R7$(),t.vxM(3,e.client.address?3:-1),t.R7$(),t.vxM(4,e.client.idNumber?4:-1),t.R7$(),t.vxM(5,e.client.idNumber?5:-1)}}function zn(n,o){if(1&n&&(t.j41(0,"div",7),t.DNE(1,Xn,1,1,"img",8),t.j41(2,"div",9)(3,"button",10),t.nrm(4,"mat-icon",11),t.k0s()()(),t.j41(5,"div",12)(6,"div",13)(7,"div",14)(8,"div",15),t.DNE(9,Ln,1,1,"img",16)(10,Bn,3,3,"div",17),t.k0s()(),t.j41(11,"div",18),t.EFF(12),t.k0s(),t.j41(13,"div",19)(14,"span",20),t.EFF(15,"Cliente minorista"),t.k0s()(),t.DNE(16,Vn,6,5,"div",21),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.vxM(1,e.currentMerchant.coverUrl?1:-1),t.R7$(2),t.Y8G("matTooltip","Cerrar")("routerLink",t.lJ4(10,y)),t.R7$(),t.Y8G("svgIcon","mat_solid:close"),t.R7$(5),t.vxM(9,e.client.avatar?9:-1),t.R7$(),t.vxM(10,e.client.avatar?-1:10),t.R7$(2),t.E5c("",e.client.name," ",e.client.lastname1," ",e.client.lastname2,""),t.R7$(4),t.vxM(16,e.client?16:-1)}}function On(n,o){if(1&n&&t.DNE(0,zn,17,11),2&n){const e=t.XpG();t.vxM(0,"view"===e.actionMode&&e.client?0:-1)}}function Jn(n,o){if(1&n&&t.nrm(0,"img",8),2&n){const e=t.XpG(3);t.Y8G("src",e.employee.merchant.coverUrl,t.B4B)}}function Pn(n,o){if(1&n&&t.nrm(0,"img",16),2&n){const e=t.XpG(3);t.Y8G("src",e.employee.imageUrl,t.B4B)}}function Qn(n,o){if(1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,e.employee.name)," ")}}function Zn(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",30),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:work"),t.R7$(2),t.JRh(e.employee.charge.name)}}function Kn(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.label)}}function Wn(n,o){if(1&n&&(t.j41(0,"div",32)(1,"a",26),t.EFF(2),t.k0s(),t.DNE(3,Kn,5,1,"div",33),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.Y8G("href","mailto:"+e.email,t.B4B),t.R7$(),t.SpI(" ",e.email," "),t.R7$(),t.vxM(3,e.label?3:-1)}}function Hn(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31),t.Z7z(3,Wn,4,3,"div",32,t.BUC().trackByFn,!0),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:email"),t.R7$(2),t.Dyx(e.employee.emails)}}function qn(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.label)}}function to(n,o){if(1&n&&(t.j41(0,"div",32)(1,"a",27),t.EFF(2),t.k0s(),t.DNE(3,qn,5,1,"div",33),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.Y8G("href","tel:"+e.stateCode+e.phoneNumber,t.B4B),t.R7$(),t.Lme("",e.stateCode," ",e.phoneNumber,""),t.R7$(),t.vxM(3,e.label?3:-1)}}function eo(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31),t.Z7z(3,to,4,4,"div",32,t.BUC().trackByFn,!0),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:call"),t.R7$(2),t.Dyx(e.employee.phoneNumbers)}}function no(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.currency)}}function oo(n,o){if(1&n&&(t.j41(0,"div",32)(1,"span"),t.EFF(2),t.k0s(),t.DNE(3,no,5,1,"div",33),t.k0s()),2&n){const e=o.$implicit;t.R7$(2),t.SpI(" ",e.no," "),t.R7$(),t.vxM(3,e.currency?3:-1)}}function io(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31),t.Z7z(3,oo,4,2,"div",32,t.BUC().trackByFn,!0),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_outline:account_balance"),t.R7$(2),t.Dyx(e.employee.bankAccounts)}}function ao(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:location_on"),t.R7$(2),t.LHq("",e.employee.address,", ",e.employee.city,", ",e.employee.state,", ",e.employee.country," ")}}function so(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:badge"),t.R7$(2),t.JRh(e.employee.idNumber)}}function co(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.nI1(4,"birthDate"),t.nI1(5,"date"),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:cake"),t.R7$(2),t.JRh(t.i5U(5,4,t.bMT(4,2,e.employee.idNumber),"longDate"))}}function lo(n,o){if(1&n&&(t.j41(0,"div",21),t.DNE(1,Zn,4,2,"div",23)(2,Hn,5,1,"div",22)(3,eo,5,1,"div",22)(4,io,5,1,"div",22)(5,ao,4,5,"div",23)(6,so,4,2,"div",23)(7,co,6,7,"div",23),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.vxM(1,e.employee.charge?1:-1),t.R7$(),t.vxM(2,e.employee.emails.length?2:-1),t.R7$(),t.vxM(3,e.employee.phoneNumbers.length>0?3:-1),t.R7$(),t.vxM(4,e.employee.bankAccounts.length?4:-1),t.R7$(),t.vxM(5,e.employee.address?5:-1),t.R7$(),t.vxM(6,e.employee.idNumber?6:-1),t.R7$(),t.vxM(7,e.employee.idNumber?7:-1)}}function ro(n,o){if(1&n&&(t.j41(0,"div",7),t.DNE(1,Jn,1,1,"img",8),t.j41(2,"div",9)(3,"button",10),t.nrm(4,"mat-icon",11),t.k0s()()(),t.j41(5,"div",12)(6,"div",13)(7,"div",14)(8,"div",15),t.DNE(9,Pn,1,1,"img",16)(10,Qn,3,3,"div",17),t.k0s()(),t.j41(11,"div",18),t.EFF(12),t.k0s(),t.j41(13,"div",29)(14,"span",20),t.EFF(15,"Empleado"),t.k0s()(),t.DNE(16,lo,8,7,"div",21),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.vxM(1,e.employee&&e.employee.merchant.coverUrl?1:-1),t.R7$(2),t.Y8G("matTooltip","Cerrar")("routerLink",t.lJ4(10,y)),t.R7$(),t.Y8G("svgIcon","mat_solid:close"),t.R7$(5),t.vxM(9,e.employee.imageUrl?9:-1),t.R7$(),t.vxM(10,e.employee.imageUrl?-1:10),t.R7$(2),t.E5c("",e.employee.name," ",e.employee.lastname1," ",e.employee.lastname2,""),t.R7$(4),t.vxM(16,e.employee?16:-1)}}function mo(n,o){if(1&n&&t.DNE(0,ro,17,11),2&n){const e=t.XpG();t.vxM(0,"view"===e.actionMode&&e.employee&&e.employee.merchant?0:-1)}}function _o(n,o){if(1&n&&t.nrm(0,"img",8),2&n){const e=t.XpG(3);t.Y8G("src",e.customer.coverUrl,t.B4B)}}function po(n,o){if(1&n&&t.nrm(0,"img",16),2&n){const e=t.XpG(3);t.Y8G("src",e.customer.imageUrl,t.B4B)}}function uo(n,o){if(1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,e.customer.name)," ")}}function Co(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",36),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:domain"),t.R7$(2),t.JRh(e.customer.domain)}}function fo(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(5);t.R7$(4),t.JRh(e.customer.email.label)}}function go(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31)(3,"div",32)(4,"a",26),t.EFF(5),t.k0s(),t.DNE(6,fo,5,1,"div",33),t.k0s()()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:email"),t.R7$(3),t.Y8G("href","mailto:"+e.customer.email.email,t.B4B),t.R7$(),t.SpI(" ",e.customer.email.email," "),t.R7$(),t.vxM(6,e.customer.email.label?6:-1)}}function ho(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(5);t.R7$(4),t.JRh(e.customer.phoneNumber.label)}}function vo(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31)(3,"div",32)(4,"a",27),t.EFF(5),t.k0s(),t.DNE(6,ho,5,1,"div",33),t.k0s()()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:call"),t.R7$(3),t.Y8G("href","tel:"+e.customer.phoneNumber.stateCode+e.customer.phoneNumber.phoneNumber,t.B4B),t.R7$(),t.Lme("",e.customer.phoneNumber.stateCode," ",e.customer.phoneNumber.phoneNumber,""),t.R7$(),t.vxM(6,e.customer.phoneNumber.label?6:-1)}}function xo(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.currency)}}function Fo(n,o){if(1&n&&(t.j41(0,"div",32)(1,"span"),t.EFF(2),t.k0s(),t.DNE(3,xo,5,1,"div",33),t.k0s()),2&n){const e=o.$implicit;t.R7$(2),t.SpI(" ",e.no," "),t.R7$(),t.vxM(3,e.currency?3:-1)}}function bo(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31),t.Z7z(3,Fo,4,2,"div",32,t.BUC().trackByFn,!0),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_outline:account_balance"),t.R7$(2),t.Dyx(e.customer.bankAccounts)}}function $o(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",37),t.j41(2,"a",38),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_outline:language"),t.R7$(),t.Y8G("href",e.customer.website,t.B4B),t.R7$(),t.SpI(" ",e.customer.website," ")}}function ko(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:location_on"),t.R7$(2),t.LHq("",e.customer.address,", ",e.customer.city,", ",e.customer.state,", ",e.customer.country," ")}}function Ro(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",39)(2,"div",40),t.k0s()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:description"),t.R7$(),t.Y8G("innerHTML",e.customer.description,t.npT)}}function Eo(n,o){if(1&n&&(t.j41(0,"div",21),t.DNE(1,Co,4,2,"div",23)(2,go,7,4,"div",22)(3,vo,7,5,"div",22)(4,bo,5,1,"div",22)(5,$o,4,3,"div",23)(6,ko,4,5,"div",23)(7,Ro,3,2,"div",22),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.vxM(1,e.customer.domain?1:-1),t.R7$(),t.vxM(2,e.customer.email&&e.customer.email.email?2:-1),t.R7$(),t.vxM(3,e.customer.phoneNumber&&e.customer.phoneNumber.phoneNumber?3:-1),t.R7$(),t.vxM(4,e.customer.bankAccounts.length?4:-1),t.R7$(),t.vxM(5,e.customer.website?5:-1),t.R7$(),t.vxM(6,e.customer.address?6:-1),t.R7$(),t.vxM(7,e.customer.description?7:-1)}}function yo(n,o){if(1&n&&(t.j41(0,"div",7),t.DNE(1,_o,1,1,"img",8),t.j41(2,"div",9)(3,"button",10),t.nrm(4,"mat-icon",11),t.k0s()()(),t.j41(5,"div",12)(6,"div",13)(7,"div",14)(8,"div",15),t.DNE(9,po,1,1,"img",16)(10,uo,3,3,"div",17),t.k0s()(),t.j41(11,"div",18),t.EFF(12),t.k0s(),t.j41(13,"div",19)(14,"span",20),t.EFF(15,"Cliente mayorista"),t.k0s()(),t.DNE(16,Eo,8,7,"div",21),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.vxM(1,e.customer&&e.customer.coverUrl?1:-1),t.R7$(2),t.Y8G("matTooltip","Cerrar")("routerLink",t.lJ4(9,y)),t.R7$(),t.Y8G("svgIcon","mat_solid:close"),t.R7$(5),t.vxM(9,e.customer.imageUrl?9:-1),t.R7$(),t.vxM(10,e.customer.imageUrl?-1:10),t.R7$(2),t.Lme("",e.customer.name," (",e.customer.abbr?e.customer.abbr:"",")"),t.R7$(4),t.vxM(16,e.customer?16:-1)}}function jo(n,o){if(1&n&&t.DNE(0,yo,17,10),2&n){const e=t.XpG();t.vxM(0,"view"===e.actionMode&&e.customer&&e.customer.merchantId?0:-1)}}function Do(n,o){if(1&n&&t.nrm(0,"img",8),2&n){const e=t.XpG(3);t.Y8G("src",e.contact.customer.coverUrl,t.B4B)}}function To(n,o){if(1&n&&t.nrm(0,"img",16),2&n){const e=t.XpG(3);t.Y8G("src",e.contactForm.get("imageUrl").value,t.B4B)}}function Io(n,o){if(1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,e.contact.name)," ")}}function Go(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",30),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:work"),t.R7$(2),t.JRh(e.contact.charge.name)}}function No(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",46),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:domain"),t.R7$(2),t.JRh(e.contact.customer.name)}}function Mo(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.label)}}function Xo(n,o){if(1&n&&(t.j41(0,"div",32)(1,"a",26),t.EFF(2),t.k0s(),t.DNE(3,Mo,5,1,"div",33),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.Y8G("href","mailto:"+e.email,t.B4B),t.R7$(),t.SpI(" ",e.email," "),t.R7$(),t.vxM(3,e.label?3:-1)}}function Lo(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31),t.Z7z(3,Xo,4,3,"div",32,t.BUC().trackByFn,!0),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:email"),t.R7$(2),t.Dyx(e.contact.emails)}}function Bo(n,o){if(1&n&&(t.j41(0,"div",33)(1,"span",34),t.EFF(2,"\u2022"),t.k0s(),t.j41(3,"span",35),t.EFF(4),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.label)}}function So(n,o){if(1&n&&(t.j41(0,"div",32)(1,"a",27),t.EFF(2),t.k0s(),t.DNE(3,Bo,5,1,"div",33),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.Y8G("href","tel:"+e.stateCode+e.phoneNumber,t.B4B),t.R7$(),t.Lme("",e.stateCode," ",e.phoneNumber,""),t.R7$(),t.vxM(3,e.label?3:-1)}}function Ao(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",24),t.j41(2,"div",31),t.Z7z(3,So,4,4,"div",32,t.BUC().trackByFn,!0),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:call"),t.R7$(2),t.Dyx(e.contact.phoneNumbers)}}function Yo(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:location_on"),t.R7$(2),t.LHq("",e.contact.address,", ",e.contact.city,", ",e.contact.state,", ",e.contact.country," ")}}function Uo(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:badge"),t.R7$(2),t.JRh(e.contact.idNumber)}}function wo(n,o){if(1&n&&(t.j41(0,"div",23),t.nrm(1,"mat-icon",24),t.j41(2,"div",28),t.EFF(3),t.nI1(4,"birthDate"),t.nI1(5,"date"),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:cake"),t.R7$(2),t.JRh(t.i5U(5,4,t.bMT(4,2,e.contact.idNumber),"longDate"))}}function Vo(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"mat-icon",39)(2,"div",40),t.k0s()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("svgIcon","mat_solid:description"),t.R7$(),t.Y8G("innerHTML",e.contact.description,t.npT)}}function zo(n,o){if(1&n&&(t.j41(0,"div",21),t.DNE(1,Go,4,2,"div",23)(2,No,4,2,"div",23)(3,Lo,5,1,"div",22)(4,Ao,5,1,"div",22)(5,Yo,4,5,"div",23)(6,Uo,4,2,"div",23)(7,wo,6,7,"div",23)(8,Vo,3,2,"div",22),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.vxM(1,e.contact.charge?1:-1),t.R7$(),t.vxM(2,e.contact.customer&&e.contact.customer.name?2:-1),t.R7$(),t.vxM(3,e.contact.emails.length?3:-1),t.R7$(),t.vxM(4,e.contact.phoneNumbers.length?4:-1),t.R7$(),t.vxM(5,e.contact.address?5:-1),t.R7$(),t.vxM(6,e.contact.idNumber?6:-1),t.R7$(),t.vxM(7,e.contact.idNumber?7:-1),t.R7$(),t.vxM(8,e.contact.description?8:-1)}}function Oo(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",7),t.DNE(1,Do,1,1,"img",8),t.j41(2,"div",9)(3,"button",10),t.nrm(4,"mat-icon",11),t.k0s()()(),t.j41(5,"div",12)(6,"div",13)(7,"div",14)(8,"div",15),t.DNE(9,To,1,1,"img",16)(10,Io,3,3,"div",17),t.k0s(),t.j41(11,"div",41)(12,"button",42),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.toggleEditMode("edit"))}),t.nrm(13,"mat-icon",43),t.j41(14,"span",44),t.EFF(15,"Editar"),t.k0s()()()(),t.j41(16,"div",18),t.EFF(17),t.k0s(),t.j41(18,"div",45)(19,"span",20),t.EFF(20),t.k0s()(),t.DNE(21,zo,9,8,"div",21),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(),t.vxM(1,e.contact&&e.contact.customer.coverUrl?1:-1),t.R7$(2),t.Y8G("matTooltip","Cerrar")("routerLink",t.lJ4(12,y)),t.R7$(),t.Y8G("svgIcon","mat_solid:close"),t.R7$(5),t.vxM(9,e.contactForm.get("imageUrl").value?9:-1),t.R7$(),t.vxM(10,e.contactForm.get("imageUrl").value?-1:10),t.R7$(3),t.Y8G("svgIcon","mat_solid:edit-alt"),t.R7$(4),t.E5c("",e.contact.name," ",e.contact.lastname1," ",e.contact.lastname2,""),t.R7$(3),t.JRh("Contacto"),t.R7$(),t.vxM(21,e.contact?21:-1)}}function Jo(n,o){if(1&n&&t.DNE(0,Oo,22,13),2&n){const e=t.XpG();t.vxM(0,"view"===e.actionMode&&e.contact&&e.contact.merchantId?0:-1)}}function Po(n,o){if(1&n&&t.nrm(0,"img",8),2&n){const e=t.XpG(2);t.Y8G("src",e.contact.customer.coverUrl,t.B4B)}}function Qo(n,o){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"input",84,4),t.bIt("change",function(){t.eBV(e);const a=t.sdS(2),s=t.XpG(2);return t.Njj(s.uploadImage(a.files))}),t.k0s(),t.j41(3,"label",85),t.nrm(4,"mat-icon",11),t.k0s()()}2&n&&(t.R7$(),t.Y8G("multiple",!1)("accept","image/jpeg, image/png"),t.R7$(3),t.Y8G("svgIcon","mat_solid:add_a_photo"))}function Zo(n,o){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"button",86),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.removeImage())}),t.nrm(2,"mat-icon",11),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("svgIcon","mat_solid:delete"))}function Ko(n,o){if(1&n&&t.nrm(0,"img",16),2&n){const e=t.XpG(2);t.Y8G("src",e.contactForm.get("imageUrl").value,t.B4B)}}function Wo(n,o){if(1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"initials"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,e.contact.name)," ")}}function Ho(n,o){if(1&n&&(t.j41(0,"mat-option",58),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function qo(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Debe escoger un cliente "),t.k0s())}function ti(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre del empleado es obligatorio. "),t.k0s())}function ei(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),t.k0s())}function ni(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre del empleado no debe contener n\xfameros. "),t.k0s())}function oi(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El primer apellido del empleado es obligatorio. "),t.k0s())}function ii(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),t.k0s())}function ai(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El primer apellido del empleado no debe contener n\xfameros. "),t.k0s())}function si(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El segundo apellido del empleado es obligatorio. "),t.k0s())}function ci(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),t.k0s())}function li(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El segundo apellido del empleado no debe contener n\xfameros. "),t.k0s())}function ri(n,o){if(1&n&&(t.j41(0,"mat-option",58),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function mi(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),t.k0s())}function _i(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),t.k0s())}function di(n,o){1&n&&(t.j41(0,"mat-label"),t.EFF(1,"Tel\xe9fonos"),t.k0s())}function pi(n,o){if(1&n&&(t.j41(0,"mat-option",58)(1,"span",90),t.nrm(2,"span",92),t.j41(3,"span",44),t.EFF(4),t.k0s(),t.j41(5,"span",93),t.EFF(6),t.k0s()()()),2&n){const e=o.$implicit;t.Y8G("value",e.code),t.R7$(4),t.JRh(e.name),t.R7$(2),t.JRh(e.code)}}function ui(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),t.k0s())}function Ci(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),t.k0s())}function fi(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El c\xf3digo sebe ser obligatorio. "),t.k0s())}function gi(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El n\xfamero de tel\xe9fono es obligatorio. "),t.k0s())}function hi(n,o){1&n&&(t.j41(0,"mat-label"),t.EFF(1,"Etiqueta"),t.k0s())}function vi(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),t.k0s())}function xi(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",71)(1,"mat-form-field",87),t.DNE(2,di,2,0,"mat-label"),t.nrm(3,"input",88),t.j41(4,"mat-select",89)(5,"mat-select-trigger")(6,"span",90)(7,"span",91),t.EFF(8),t.k0s()()(),t.j41(9,"mat-option",58)(10,"span",90),t.nrm(11,"span",92),t.j41(12,"span",44),t.EFF(13),t.nI1(14,"titlecase"),t.k0s(),t.j41(15,"span",93),t.EFF(16),t.k0s()()(),t.Z7z(17,pi,7,3,"mat-option",58,t.BUC().trackByFn,!0),t.k0s(),t.DNE(19,ui,2,0,"mat-error")(20,Ci,2,0,"mat-error")(21,fi,2,0,"mat-error")(22,gi,2,0,"mat-error"),t.k0s(),t.j41(23,"mat-form-field",94),t.DNE(24,hi,2,0,"mat-label"),t.nrm(25,"mat-icon",63)(26,"input",95),t.DNE(27,vi,2,0,"mat-error"),t.k0s(),t.qex(28),t.j41(29,"div",96)(30,"button",97),t.bIt("click",function(){const a=t.eBV(e).$index,s=t.XpG(2);return t.Njj(s.removePhoneNumberField(a))}),t.nrm(31,"mat-icon",43),t.k0s()(),t.bVm(),t.k0s()}if(2&n){const e=o.$implicit,i=o.$index,a=o.$index,s=t.XpG(2);t.R7$(2),t.vxM(2,0===a?2:-1),t.R7$(),t.Y8G("type","tel")("formControl",e.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),t.R7$(),t.Y8G("formControl",e.get("stateCode")),t.R7$(4),t.JRh(s.contactForm.get("phoneNumbers").value[i].stateCode),t.R7$(),t.Y8G("value","+535"),t.R7$(4),t.JRh(t.bMT(14,24,"celular")),t.R7$(3),t.JRh("+535"),t.R7$(),t.Dyx(s.statesCodes),t.R7$(2),t.vxM(19,e.get("phoneNumber").hasError("minlength")||e.get("phoneNumber").hasError("maxlength")?19:-1),t.R7$(),t.vxM(20,e.get("phoneNumber").hasError("pattern")?20:-1),t.R7$(),t.vxM(21,e.get("stateCode").hasError("required")?21:-1),t.R7$(),t.vxM(22,e.get("phoneNumber").hasError("required")?22:-1),t.R7$(2),t.vxM(24,0===a?24:-1),t.R7$(),t.Y8G("svgIcon","heroicons_solid:tag"),t.R7$(),t.Y8G("formControl",e.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),t.R7$(),t.vxM(27,e.get("label").hasError("maxlength")||e.get("label").hasError("minlength")?27:-1),t.R7$(2),t.Y8G("ngClass",t.eq3(26,lt,0===a)),t.R7$(2),t.Y8G("svgIcon","mat_solid:delete")}}function Fi(n,o){1&n&&(t.j41(0,"mat-label"),t.EFF(1,"Correos Electr\xf3nicos"),t.k0s())}function bi(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),t.k0s())}function $i(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El correos electr\xf3nicos es obligatorio "),t.k0s())}function ki(n,o){1&n&&(t.j41(0,"mat-label"),t.EFF(1,"Etiqueta"),t.k0s())}function Ri(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),t.k0s())}function Ei(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",74)(1,"mat-form-field",87),t.DNE(2,Fi,2,0,"mat-label"),t.nrm(3,"mat-icon",63)(4,"input",98),t.DNE(5,bi,2,0,"mat-error")(6,$i,2,0,"mat-error"),t.k0s(),t.j41(7,"mat-form-field",94),t.DNE(8,ki,2,0,"mat-label"),t.nrm(9,"mat-icon",63)(10,"input",95),t.DNE(11,Ri,2,0,"mat-error"),t.k0s(),t.qex(12),t.j41(13,"div",96)(14,"button",99),t.bIt("click",function(){const a=t.eBV(e).$index,s=t.XpG(2);return t.Njj(s.removeEmailField(a))}),t.nrm(15,"mat-icon",43),t.k0s()(),t.bVm(),t.k0s()}if(2&n){const e=o.$implicit,i=o.$index;t.R7$(2),t.vxM(2,0===i?2:-1),t.R7$(),t.Y8G("svgIcon","mat_solid:alternate_email"),t.R7$(),t.Y8G("formControl",e.get("email"))("spellcheck",!1),t.R7$(),t.vxM(5,e.get("email").hasError("email")?5:-1),t.R7$(),t.vxM(6,e.get("email").hasError("required")?6:-1),t.R7$(2),t.vxM(8,0===i?8:-1),t.R7$(),t.Y8G("svgIcon","heroicons_solid:tag"),t.R7$(),t.Y8G("formControl",e.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),t.R7$(),t.vxM(11,e.get("label").hasError("maxlength")||e.get("label").hasError("minlength")?11:-1),t.R7$(2),t.Y8G("ngClass",t.eq3(15,lt,0===i)),t.R7$(2),t.Y8G("svgIcon","mat_solid:delete")}}function yi(n,o){if(1&n&&(t.j41(0,"mat-option",58),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function ji(n,o){if(1&n&&(t.j41(0,"mat-option",58),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.Y8G("value",e.city),t.R7$(),t.SpI(" ",e.city," ")}}function Di(n,o){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),t.k0s())}function Ti(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",100),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.deleteContact())}),t.EFF(1," Eliminar "),t.k0s()}2&n&&t.Y8G("color","warn")("matTooltip","Eliminar")}function Ii(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",101),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.updateContact())}),t.EFF(1," Actualizar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.contactForm.invalid)("matTooltip","Salvar")("disabled",e.contactForm.invalid)("ngClass",t.eq3(5,rt,e.contactForm.invalid))}}function Gi(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",101),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.createContact())}),t.EFF(1," Guardar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.contactForm.invalid)("matTooltip","Salvar")("disabled",e.contactForm.invalid)("ngClass",t.eq3(5,rt,e.contactForm.invalid))}}function Ni(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",7),t.DNE(1,Po,1,1,"img",8),t.j41(2,"div",9)(3,"button",10),t.nrm(4,"mat-icon",11),t.k0s()()(),t.j41(5,"div",47)(6,"div",13)(7,"form",48)(8,"div",49)(9,"div",50),t.nrm(10,"div",51),t.j41(11,"div",52),t.DNE(12,Qo,5,3,"div")(13,Zo,3,1,"div"),t.k0s(),t.DNE(14,Ko,1,1,"img",16)(15,Wo,3,3,"div",17),t.k0s()(),t.j41(16,"span",53),t.EFF(17,"Informaci\xf3n General "),t.k0s(),t.j41(18,"div",54)(19,"div",55)(20,"mat-form-field",56)(21,"mat-label"),t.EFF(22,"Cliente"),t.k0s(),t.j41(23,"mat-select",57),t.Z7z(24,Ho,2,2,"mat-option",58,t.BUC().trackByFn,!0),t.nI1(26,"async"),t.k0s(),t.DNE(27,qo,2,0,"mat-error"),t.j41(28,"mat-hint"),t.EFF(29,"Negocio cliente al cual est\xe1 asociado el contacto"),t.k0s()()(),t.j41(30,"div",55)(31,"mat-form-field",56)(32,"mat-label"),t.EFF(33,"Nombre"),t.k0s(),t.nrm(34,"input",59),t.DNE(35,ti,2,0,"mat-error")(36,ei,2,0,"mat-error")(37,ni,2,0,"mat-error"),t.k0s()(),t.j41(38,"div",55)(39,"mat-form-field",56)(40,"mat-label"),t.EFF(41,"Primer Apellido"),t.k0s(),t.nrm(42,"input",60),t.DNE(43,oi,2,0,"mat-error")(44,ii,2,0,"mat-error")(45,ai,2,0,"mat-error"),t.k0s()(),t.j41(46,"div",55)(47,"mat-form-field",56)(48,"mat-label"),t.EFF(49,"Segundo Apellido"),t.k0s(),t.nrm(50,"input",61),t.DNE(51,si,2,0,"mat-error")(52,ci,2,0,"mat-error")(53,li,2,0,"mat-error"),t.k0s()(),t.j41(54,"div",55)(55,"mat-form-field",56)(56,"mat-label"),t.EFF(57,"Cargo"),t.k0s(),t.j41(58,"mat-select",62),t.Z7z(59,ri,2,2,"mat-option",58,t.BUC().trackByFn,!0),t.nI1(61,"async"),t.k0s()()(),t.j41(62,"div",55)(63,"mat-form-field",56)(64,"mat-label"),t.EFF(65,"N\xfamero de identidad"),t.k0s(),t.nrm(66,"mat-icon",63)(67,"input",64),t.DNE(68,mi,2,0,"mat-error")(69,_i,2,0,"mat-error"),t.k0s()(),t.j41(70,"div",65)(71,"mat-form-field",66)(72,"mat-label"),t.EFF(73,"Descripci\xf3n del contacto"),t.k0s(),t.nrm(74,"mat-icon",63)(75,"textarea",67),t.j41(76,"mat-hint",68),t.EFF(77),t.k0s()()()(),t.j41(78,"span",53),t.EFF(79,"Informaci\xf3n de contacto"),t.k0s(),t.j41(80,"div",69)(81,"div",65)(82,"div",70),t.Z7z(83,xi,32,28,"div",71,t.BUC().trackByFn,!0),t.k0s(),t.j41(85,"div",72),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addPhoneNumberField())}),t.nrm(86,"mat-icon",43),t.j41(87,"span",73),t.EFF(88,"Agregar tel\xe9fono"),t.k0s()()(),t.j41(89,"div",65)(90,"div",70),t.Z7z(91,Ei,16,17,"div",74,t.BUC().trackByFn,!0),t.k0s(),t.j41(93,"div",72),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addEmailField())}),t.nrm(94,"mat-icon",43),t.j41(95,"span",73),t.EFF(96,"Agregar correo electr\xf3nico"),t.k0s()()()(),t.j41(97,"span",53),t.EFF(98,"Domicilio"),t.k0s(),t.j41(99,"div",75)(100,"div",55)(101,"mat-form-field",76)(102,"mat-label"),t.EFF(103,"Pa\xeds"),t.k0s(),t.j41(104,"mat-select",62)(105,"mat-option",77),t.EFF(106,"Cuba"),t.k0s()(),t.nrm(107,"mat-icon",78),t.k0s()(),t.j41(108,"div",55)(109,"mat-form-field",56)(110,"mat-label"),t.EFF(111,"Provincia"),t.k0s(),t.j41(112,"mat-select",62),t.Z7z(113,yi,2,2,"mat-option",58,t.BUC().trackByFn,!0),t.k0s(),t.nrm(115,"mat-icon",78),t.k0s()(),t.j41(116,"div",55)(117,"mat-form-field",56)(118,"mat-label"),t.EFF(119,"Municipio"),t.k0s(),t.j41(120,"mat-select",62),t.Z7z(121,ji,2,2,"mat-option",58,t.BUC().trackByFn,!0),t.k0s(),t.nrm(123,"mat-icon",78),t.k0s()(),t.j41(124,"div",65)(125,"mat-form-field",66)(126,"mat-label"),t.EFF(127,"Direcci\xf3n"),t.k0s(),t.nrm(128,"mat-icon",63)(129,"textarea",79),t.DNE(130,Di,2,0,"mat-error"),t.k0s()()(),t.j41(131,"div",80),t.DNE(132,Ti,2,2,"button",81),t.j41(133,"button",82),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.toggleEditMode("view"))}),t.EFF(134," Cancelar "),t.k0s(),t.DNE(135,Ii,2,7,"button",83)(136,Gi,2,7,"button",83),t.k0s()()()()}if(2&n){let e;const i=t.XpG();t.R7$(),t.vxM(1,i.contact&&i.contact.customer&&i.contact.customer.coverUrl?1:-1),t.R7$(2),t.Y8G("matTooltip","Cerrar")("routerLink",t.lJ4(69,y)),t.R7$(),t.Y8G("svgIcon","mat_solid:close"),t.R7$(3),t.Y8G("formGroup",i.contactForm)("autocomplete","off"),t.R7$(5),t.vxM(12,i.contactForm.get("imageUrl").value?-1:12),t.R7$(),t.vxM(13,i.contactForm.get("imageUrl").value?13:-1),t.R7$(),t.vxM(14,i.contactForm.get("imageUrl").value?14:-1),t.R7$(),t.vxM(15,i.contact&&!i.contactForm.get("imageUrl").value?15:-1),t.R7$(8),t.Y8G("formControlName","customerId"),t.R7$(),t.Dyx(t.bMT(26,65,i.customers$)),t.R7$(3),t.vxM(27,i.contactForm.get("customerId").hasError("required")?27:-1),t.R7$(7),t.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),t.R7$(),t.vxM(35,i.contactForm.get("name").hasError("required")?35:-1),t.R7$(),t.vxM(36,i.contactForm.get("name").hasError("maxlength")||i.contactForm.get("name").hasError("minlength")?36:-1),t.R7$(),t.vxM(37,i.contactForm.get("name").hasError("pattern")?37:-1),t.R7$(5),t.Y8G("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),t.R7$(),t.vxM(43,i.contactForm.get("lastname1").hasError("required")?43:-1),t.R7$(),t.vxM(44,i.contactForm.get("lastname1").hasError("maxlength")||i.contactForm.get("lastname1").hasError("minlength")?44:-1),t.R7$(),t.vxM(45,i.contactForm.get("lastname1").hasError("pattern")?45:-1),t.R7$(5),t.Y8G("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),t.R7$(),t.vxM(51,i.contactForm.get("lastname2").hasError("required")?51:-1),t.R7$(),t.vxM(52,i.contactForm.get("lastname2").hasError("maxlength")||i.contactForm.get("lastname2").hasError("minlength")?52:-1),t.R7$(),t.vxM(53,i.contactForm.get("lastname2").hasError("pattern")?53:-1),t.R7$(5),t.Y8G("formControlName","chargeId"),t.R7$(),t.Dyx(t.bMT(61,67,i.charges$)),t.R7$(7),t.Y8G("svgIcon","mat_solid:badge"),t.R7$(),t.Y8G("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),t.R7$(),t.vxM(68,i.contactForm.get("idNumber").hasError("maxlength")||i.contactForm.get("idNumber").hasError("minlength")?68:-1),t.R7$(),t.vxM(69,i.contactForm.get("idNumber").hasError("pattern")?69:-1),t.R7$(5),t.Y8G("svgIcon","mat_solid:subject"),t.R7$(),t.Y8G("formControlName","description")("rows",4)("maxlength",1e3)("spellcheck",!1),t.R7$(2),t.SpI("",(null==(e=i.contactForm.get("description").value)?null:e.length)||0,"/1000"),t.R7$(6),t.Dyx(i.contactForm.get("phoneNumbers").controls),t.R7$(3),t.Y8G("svgIcon","mat_solid:add_circle"),t.R7$(5),t.Dyx(i.contactForm.get("emails").controls),t.R7$(3),t.Y8G("svgIcon","mat_solid:add_circle"),t.R7$(10),t.Y8G("formControlName","country"),t.R7$(3),t.Y8G("svgIcon","mat_solid:public"),t.R7$(5),t.Y8G("formControlName","state"),t.R7$(),t.Dyx(i.states),t.R7$(2),t.Y8G("svgIcon","mat_solid:map"),t.R7$(5),t.Y8G("formControlName","city"),t.R7$(),t.Dyx(i.cities),t.R7$(2),t.Y8G("svgIcon","mat_solid:location_on"),t.R7$(5),t.Y8G("svgIcon","mat_solid:home"),t.R7$(),t.Y8G("formControlName","address")("minLength",3)("maxlength",255),t.R7$(),t.vxM(130,i.contactForm.get("address").hasError("maxlength")||i.contactForm.get("address").hasError("minlength")?130:-1),t.R7$(2),t.vxM(132,"add"!==i.actionMode?132:-1),t.R7$(),t.Y8G("matTooltip","Cancelar"),t.R7$(2),t.vxM(135,"edit"===i.actionMode?135:-1),t.R7$(),t.vxM(136,"add"===i.actionMode?136:-1)}}const Mi=[{path:"contacts",component:mt,children:[{path:"",component:ct,resolve:{contacts:at},children:[{path:":entity/:id",component:(()=>{class n{constructor(e,i,a,s,r,_,m,f,V,z,Xi,Li,Bi){this._contactsListComponent=e,this._activatedRoute=i,this._changeDetectorRef=a,this._contactsService=s,this._customersService=r,this._chargesService=_,this._locationService=m,this._formBuilder=f,this._fuseConfirmationService=V,this._router=z,this._snackBar=Xi,this._imagesService=Li,this.store=Bi,this.actionMode="view",this.cities=[],this.customers$=null,this.charges$=null,this.states=[],this.statesCodes=[],this._unsubscribeAll=new J.B}ngOnInit(){this._contactsListComponent.matDrawer.open(),this.store.select(A.Xb).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.currentMerchant=e}),this.store.select(_t).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.contact=e,this.actionMode="view",this._changeDetectorRef.markForCheck()}),this.store.select(pt).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.client=e,this._changeDetectorRef.markForCheck()}),this.store.select(S.hQ).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.customer=e,this._changeDetectorRef.markForCheck()}),this.store.select(Z.x2).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.employee=e,this._changeDetectorRef.markForCheck()}),this.customers$=this._customersService.findActiveCustomers(),this.charges$=this._chargesService.findAllActiveCharges(),this._locationService.states$.pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.states=e,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this.statesCodes=e,this._changeDetectorRef.markForCheck()}),this.contactForm=this._formBuilder.group({id:[""],merchantId:[this.currentMerchant.id,[c.k0.required]],customerId:["",[c.k0.required]],chargeId:[null],name:["",[c.k0.required,c.k0.minLength(3),c.k0.maxLength(255),$.t.onlyAlphabetsWithAccentPattern()]],lastname1:["",[c.k0.required,c.k0.minLength(3),c.k0.maxLength(255),$.t.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[c.k0.minLength(3),c.k0.maxLength(255),$.t.onlyAlphabetsWithAccentPattern()]],idNumber:[null,[c.k0.maxLength(11),c.k0.minLength(11),$.t.onlyNumbersPattern()]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),description:["",[c.k0.maxLength(1e3)]],address:["",[c.k0.minLength(3),c.k0.maxLength(255)]],country:[{value:"Cuba",disabled:!0}],state:[""],city:[""],imageUrl:[null]}),this.contactForm.get("state").valueChanges.pipe((0,d.Q)(this._unsubscribeAll)).subscribe(e=>{this._getCitiesByState(e),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,d.Q)(this._unsubscribeAll)).subscribe(({id:e,entity:i})=>{this.selectedEntity=i,this.actionMode="new"===e?"add":"view","contact"===i?this.fillForm():this.actionMode="view",this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this.store.dispatch((0,p.YQ)())}addEmailField(){const e=this._formBuilder.group({email:["",[c.k0.required,c.k0.email,c.k0.maxLength(255)]],label:["",[c.k0.minLength(3),c.k0.maxLength(255)]]});this.contactForm.get("emails").push(e),this._changeDetectorRef.markForCheck()}removeEmailField(e){this.contactForm.get("emails").removeAt(e),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const e=this._formBuilder.group({stateCode:["+535",[c.k0.required]],phoneNumber:["",[c.k0.required,c.k0.minLength(7),c.k0.maxLength(7),$.t.onlyNumbersPattern()]],label:["",[c.k0.minLength(3),c.k0.maxLength(255)]]});this.contactForm.get("phoneNumbers").push(e),this._changeDetectorRef.markForCheck()}removePhoneNumberField(e){this.contactForm.get("phoneNumbers").removeAt(e),this._changeDetectorRef.markForCheck()}createContact(){let e=this.contactForm.getRawValue();delete e.id,e=k(e).omitBy(k.isNull).omitBy(k.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear Contacto",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.Q)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._contactsService.createContact(e).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigate(["../",s.contact.id],{relativeTo:this._activatedRoute})),this._changeDetectorRef.markForCheck()})})}updateContact(){let e=this.contactForm.getRawValue();e=k(e).omitBy(k.isNull).value(),delete e.imageUrl,this._fuseConfirmationService.open({title:"Actualizar Contacto",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.Q)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._contactsService.updateContact(e).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",appearance:"fill",type:"success"}}),this.store.dispatch((0,p.RE)({contact:s.contact}))),this._changeDetectorRef.markForCheck()})})}deleteContact(){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el contacto? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._contactsService.removeContact(this.contact.id).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",appearance:"fill",type:"success"}}),this._router.navigate(["../"],{relativeTo:this._activatedRoute}))})})}uploadImage(e){if(!e.length)return;const a=e[0];a.size/1024/1024>1?this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}}):["image/jpeg","image/jpg","image/webp","image/png"].includes(a.type)&&this._imagesService.uploadImage("Contact",a).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(s=>{this.contactForm.get("imageUrl").setValue(s.imageUrl),"edit"===this.actionMode&&this._contactsService.updateContactImage({id:this.contact.id,imageUrl:s.imageUrl}).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()},s=>{console.warn(s)})}removeImage(){const e=this.contactForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar esta imagen?",icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,d.Q)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._imagesService.removeImage(e).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(s=>{this.contactForm.get("imageUrl").setValue(null),"edit"===this.actionMode&&this._contactsService.updateContactImage({id:this.contact.id,imageUrl:null}).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(b.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})})}toggleEditMode(e){this.actionMode=e,this._changeDetectorRef.markForCheck(),"view"===e&&!this.contact&&this._router.navigate(["../../"],{relativeTo:this._activatedRoute})}trackByFn(e,i){return i.id||e}closeDrawer(){return this._contactsListComponent.matDrawer.close()}_getCitiesByState(e){this._locationService.getCitiesByState(e).pipe((0,d.Q)(this._unsubscribeAll)).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}fillForm(){if("edit"===this.actionMode||"view"===this.actionMode){this._getCitiesByState(this.contact.state),this.contactForm.get("emails").clear(),this.contactForm.get("phoneNumbers").clear(),this.contactForm.patchValue(this.contact);const e=[];this.contact.emails.length>0&&this.contact.emails.forEach(a=>{e.push(this._formBuilder.group({email:[a.email,[c.k0.required,c.k0.email,c.k0.maxLength(255)]],label:[a.label,[c.k0.minLength(3),c.k0.maxLength(255)]]}))}),e.forEach(a=>{this.contactForm.get("emails").push(a)});const i=[];this.contact.phoneNumbers.length>0&&this.contact.phoneNumbers.forEach(a=>{i.push(this._formBuilder.group({stateCode:[a.stateCode,[c.k0.required]],phoneNumber:[a.phoneNumber,[c.k0.required,c.k0.minLength(7),c.k0.maxLength(7),$.t.onlyNumbersPattern()]],label:[a.label,[c.k0.minLength(3),c.k0.maxLength(255)]]}))}),i.forEach(a=>{this.contactForm.get("phoneNumbers").push(a)})}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(ct),t.rXU(g.nX),t.rXU(t.gRc),t.rXU(L),t.rXU(B.h),t.rXU(bn.P),t.rXU($n.N),t.rXU(c.ok),t.rXU(kn.G),t.rXU(g.Ix),t.rXU(Rn.UG),t.rXU(En.M),t.rXU(x.il))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["contact-details"]],standalone:!0,features:[t.aNF],decls:14,vars:5,consts:[["clientContent",""],["employeesContent",""],["customerContent",""],["contactContent",""],["imageUrlFileInput",""],[1,"flex","flex-col","w-full"],[4,"ngTemplateOutlet"],[1,"relative","w-full","h-40","px-8","sm:h-48","sm:px-12","bg-accent-100","dark:bg-accent-700"],[1,"absolute","inset-0","object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-end","w-full","max-w-3xl","pt-6","mx-auto"],["mat-icon-button","",1,"bg-gray-300","bg-opacity-50","hover:bg-gray-400",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","items-center","flex-auto","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","items-end","flex-auto","-mt-16"],[1,"flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-full","ring-4","ring-bg-card"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","overflow-hidden","font-bold","leading-none","text-gray-600","uppercase","bg-gray-200","rounded","text-8xl","dark:bg-gray-700","dark:text-gray-200"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","items-center","justify-center","px-3","py-1","mt-2","mb-8","mr-3","leading-normal","text-gray-500","bg-gray-100","rounded-full","w-36","dark:text-gray-300","dark:bg-gray-700"],[1,"text-sm","font-medium","whitespace-nowrap"],[1,"flex","flex-col","pt-6","mt-4","space-y-8","border-t"],[1,"flex"],[1,"flex","sm:items-center"],[3,"svgIcon"],[1,"flex","items-center","min-w-0","ml-6","leading-6"],["target","_blank",1,"hover:underline","text-primary-500",3,"href"],[1,"ml-2.5","font-mono",3,"href"],[1,"ml-6","leading-6"],[1,"flex","items-center","justify-center","w-20","px-3","py-1","mt-2","mb-8","mr-3","leading-normal","text-gray-500","bg-gray-100","rounded-full","dark:text-gray-300","dark:bg-gray-700"],["matTooltip","Cargo",3,"svgIcon"],[1,"min-w-0","ml-6","space-y-1"],[1,"flex","items-center","leading-6"],[1,"truncate","text-md","text-secondary"],[1,"mx-2"],[1,"font-medium"],["matTooltip","Sector",3,"svgIcon"],["matTooltip","Sitio web",3,"svgIcon"],["target","_blank",1,"ml-6","hover:underline","text-primary-500",3,"href"],["matTooltip","Descripci\xf3n",3,"svgIcon"],[1,"ml-6","prose-sm","prose","max-w-none",3,"innerHTML"],[1,"flex","items-center","mb-1","ml-auto"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex","items-center","justify-center","w-20","px-3","py-1","mt-2","mb-3","mb-8","mr-3","leading-normal","text-gray-500","bg-gray-100","rounded-full","dark:text-gray-300","dark:bg-gray-700"],["matTooltip","Cliente",3,"svgIcon"],[1,"relative","flex","flex-col","items-center","flex-auto","px-6","sm:px-12"],[3,"formGroup","autocomplete"],[1,"flex","items-end","flex-auto","mb-8","-mt-16"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-full","ring-4","ring-bg-card"],[1,"absolute","inset-0","z-10","bg-black","bg-opacity-50"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],[1,"text-gray-400"],[1,"grid","pt-8","pb-8","pl-4","pr-4","border-t-2","sm:grid-cols-2","gap-y-3","gap-x-4","sm:col-span-2"],[1,"sm:col-span-1"],[1,"w-full"],["required","",3,"formControlName"],[3,"value"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],[3,"formControlName"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"type","formControlName","maxlength","minlength"],[1,"sm:col-span-2"],[1,"w-full","fuse-mat-textarea"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","maxlength","spellcheck"],[1,"text-right"],[1,"grid","pt-8","pb-8","pl-4","pr-4","border-t-2","sm:grid-cols-2","gap-y-6","sm:col-span-2"],[1,""],[1,"relative","flex","flex-col","sm:flex-row"],[1,"inline-flex","items-center","px-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"flex","flex-col","sm:flex-row"],[1,"grid","pt-8","pb-4","pl-4","pr-4","border-t-2","sm:grid-cols-2","gap-y-3","gap-x-4","sm:col-span-2"],[1,"w-full","fuse-mat-no-subscript"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","minLength","maxlength"],[1,"flex","items-center","py-4","pl-1","pr-4","mt-10","-mx-6","border-t","sm:-mx-12","sm:pr-12","sm:pl-7","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip"],["mat-button","",1,"ml-auto",3,"click","matTooltip"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","ngClass"],["id","imageUrl-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"change","multiple","accept"],["for","imageUrl-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["mat-icon-button","",3,"click"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"flex","items-center"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["mat-button","",3,"click","color","matTooltip"],["mat-flat-button","",1,"ml-2",3,"click","color","disabled","matTooltip","ngClass"]],template:function(i,a){1&i&&(t.j41(0,"div",5),t.DNE(1,jn,1,1,"ng-container")(2,Tn,1,1,"ng-container")(3,Gn,1,1,"ng-container")(4,Mn,1,1,"ng-container")(5,On,1,1,"ng-template",null,0,t.C5r)(7,mo,1,1,"ng-template",null,1,t.C5r)(9,jo,1,1,"ng-template",null,2,t.C5r)(11,Jo,1,1,"ng-template",null,3,t.C5r)(13,Ni,137,70),t.k0s()),2&i&&(t.R7$(),t.vxM(1,"contact"===a.selectedEntity?1:-1),t.R7$(),t.vxM(2,"employee"===a.selectedEntity?2:-1),t.R7$(),t.vxM(3,"customer"===a.selectedEntity?3:-1),t.R7$(),t.vxM(4,"client"===a.selectedEntity?4:-1),t.R7$(9),t.vxM(13,"add"===a.actionMode||"edit"===a.actionMode?13:-1))},dependencies:[h.Jj,c.YN,c.qT,c.me,c.BC,c.cb,c.YS,c.xh,c.tU,R.Hl,R.$z,R.iY,j.Vg,F.RG,F.rl,F.nJ,F.MV,F.TL,F.JW,D.m_,D.An,T.fS,T.fg,K.Cn,I.Ve,I.VO,I.$2,st.wT,W.mV,G.uc,G.oV,h.YU,c.X1,c.l_,c.j4,c.JD,g.Wk,H.d,h.PV,h.T3,Ct,h.vh],encapsulation:2,changeDetection:0})}return n})(),resolve:{contact:Gt},canDeactivate:[(()=>{class n{canDeactivate(e,i,a,s){let r=s.root;for(;r.firstChild;)r=r.firstChild;return!(s.url.includes("/contacts")&&!r.paramMap.get("id"))||e.closeDrawer().then(()=>!0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]}]}]}]}}]);