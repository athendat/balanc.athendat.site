"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5137],{3899:(Ft,K,c)=>{c.d(K,{o:()=>l});const l=(0,c(59640).Mz)(b=>b.rates,b=>b.rates)},25910:(Ft,K,c)=>{c.d(K,{f:()=>H});var t=c(54438),x=c(96697),l=c(25558),b=c(88141),R=c(96354),u=c(73512),y=c(59640),T=c(98216),I=c(28610),A=c(3899);const L=u.J1`
    mutation CreateRate($createRateInput: CreateRateInput!) {
        createRate(createRateInput: $createRateInput) {

            ok
            message

            rate {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }

        }
    }
`,X=u.J1`
    mutation UpdateRate($updateRateInput: UpdateRateInput!) {
        updateRate(updateRateInput: $updateRateInput) {
            ok
            message

            rate {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }
        }
    }
`,$=u.J1`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateRateStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }

    }
`,Y=u.J1`
    mutation RemoveRate($removeRateId: String!) {
        removeRate(id: $removeRateId) {
            ok
            message
        }
    }
`,E=u.J1`
    query FindAllRates($page: Int, $size: Int, $sort: String, $order: Order, $search: String) {
        findAllRates(page: $page, size: $size, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            }

            rates {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }
        }
    }
`,j=u.J1`
    query FindActiveByBaseId($currencyBaseId: String!) {
        findActiveByBaseId(currencyBaseId: $currencyBaseId) {
            id
            active
            date
            name
            value
            currencyRefId

            currencyRef {
                id
                iso
            }

            currencyBaseId

            currencyBase {
                id
                iso
            }
        }
    }
`,O=u.J1`
    query FindActiveRateByBaseIdForAthendatPlatform($currencyBaseId: String!) {
        getActiveRateByBaseIdForAthendatPlatform(currencyBaseId: $currencyBaseId) {
            id
            active
            date
            name
            value
            currencyRefId

            currencyRef {
                id
                iso
            }

            currencyBaseId

            currencyBase {
                id
                iso
            }
        }
    }
`,_=u.J1`
    query FindRateById($findRateByIdId: String!) {
        findRateById(id: $findRateByIdId) {
            ok
            message

            rate {
                id
                active
                userId
                date
                name
                value

                currencyRefId
                currencyRef {
                    id
                    name
                    iso
                }

                currencyBaseId
                currencyBase {
                    id
                    name
                    iso
                }
            }
        }
    }
`;let H=(()=>{class G{constructor(){this.apolloProvider=(0,t.WQX)(u.Ic),this.store=(0,t.WQX)(y.il),this._apollo=this.apolloProvider.use("BALANC")}createRate(f){return this.store.select(A.o).pipe((0,x.s)(1),(0,l.n)(h=>this._apollo.mutate({mutation:L,variables:{createRateInput:f},errorPolicy:"all"}).pipe((0,b.M)(({data:V})=>{const M=structuredClone(h);M.push(V.createRate.rate),this.store.dispatch((0,I.CD)({rates:M}))}))))}getRates(f=0,h=10,V="name",M="asc",D=""){return this._apollo.query({query:E,errorPolicy:"all",variables:{page:f,size:h,sort:V,order:M,search:D}}).pipe((0,b.M)(({data:P})=>{this.store.dispatch((0,T.Bp)({pagination:P.findAllRates.pagination})),this.store.dispatch((0,I.CD)({rates:P.findAllRates.rates}))}))}findActiveByBaseId(f){return this._apollo.query({query:j,variables:{currencyBaseId:f},errorPolicy:"all"}).pipe((0,R.T)(({data:h})=>h?h.findActiveByBaseId:[]),(0,b.M)(h=>{h&&this.store.dispatch((0,I.CD)({rates:h}))}))}getActiveRateByBaseIdForAthendatPlatform(f){return this._apollo.query({query:O,variables:{currencyBaseId:f},errorPolicy:"all"}).pipe((0,R.T)(({data:h})=>h?h.getActiveRateByBaseIdForAthendatPlatform:null),(0,b.M)(h=>{h&&this.store.dispatch((0,I.r$)({rate:h}))}))}getRateById(f){return this._apollo.query({query:_,variables:{findRateByIdId:f},errorPolicy:"all"}).pipe((0,b.M)(({data:h})=>{this.store.dispatch((0,I.r$)({rate:h.findRateById.rate}))}))}updateRate(f){return this.store.select(A.o).pipe((0,x.s)(1),(0,l.n)(h=>this._apollo.mutate({mutation:X,variables:{updateRateInput:f},errorPolicy:"all"}).pipe((0,b.M)(({data:V})=>{const M=structuredClone(h);M[h.findIndex(P=>P.id===f.id)]=V.updateRate.rate,this.store.dispatch((0,I.CD)({rates:M}))}))))}updateRateStatus(f){return this.store.select(A.o).pipe((0,x.s)(1),(0,l.n)(h=>this._apollo.mutate({mutation:$,variables:{updateEntityStatusInput:f},errorPolicy:"all"}).pipe((0,b.M)(({})=>{const M=structuredClone(h);M[h.findIndex(P=>P.id===f.id)].active=f.active,this.store.dispatch((0,I.CD)({rates:M}))}))))}removeRate(f){return this.store.select(A.o).pipe((0,x.s)(1),(0,l.n)(h=>this._apollo.mutate({mutation:Y,variables:{removeRateId:f},errorPolicy:"all"}).pipe((0,b.M)(({data:V})=>{if(V){const M=structuredClone(h),D=h.findIndex(P=>P.id===f);M.splice(D,1),this.store.dispatch((0,I.CD)({rates:M}))}}))))}static#t=this.\u0275fac=function(h){return new(h||G)};static#e=this.\u0275prov=t.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},45137:(Ft,K,c)=>{c.r(K),c.d(K,{default:()=>Do});var t=c(54438),x=c(60177),l=c(89417),b=c(88834),R=c(75351),u=c(32102),y=c(99213),T=c(59042),I=c(96695),A=c(9183),L=c(30450),X=c(95416),$=c(2042),Y=c(51188),E=c(21413),j=c(7673),O=c(57786),_=c(56977),H=c(70152),G=c(99172),w=c(25558),f=c(96354),h=c(59640),V=c(3899),M=c(47413),D=c(46601),P=c(67398),ut=c(91401),N=c(94794),ht=c(25910),z=c(82798),tt=c(25084),Q=c(86600);function at(n,r){1&n&&(t.j41(0,"h2",7),t.EFF(1," Agregar tasa de cambio "),t.k0s())}function yt(n,r){1&n&&(t.j41(0,"h2",7),t.EFF(1," Editar tasa de cambio "),t.k0s())}function Rt(n,r){if(1&n&&(t.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),t.EFF(6,"Nombre"),t.k0s(),t.j41(7,"span",14),t.EFF(8),t.k0s()()()()()()),2&n){const e=t.XpG();t.R7$(8),t.JRh(e.data.rate.name||"Sin nombre")}}function It(n,r){if(1&n&&(t.j41(0,"mat-option",25),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.iso," ")}}function Mt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La moneda de referencia es obligatoria "),t.k0s())}function gt(n,r){if(1&n&&(t.j41(0,"mat-option",25),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.iso," ")}}function Tt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La moneda base es obligatoria "),t.k0s())}function Et(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre de la tasa es obligatorio "),t.k0s())}function Dt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La fecha de la tasa es obligatoria "),t.k0s())}function Nt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El valor de la tasa es obligatorio "),t.k0s())}function $t(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",15)(1,"div",16)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),t.EFF(5,"Moneda de referencia"),t.k0s(),t.j41(6,"mat-select",19),t.bIt("selectionChange",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.currencyRefChange(a.value))}),t.Z7z(7,It,2,2,"mat-option",25,t.fX1),t.k0s(),t.DNE(9,Mt,2,0,"mat-error"),t.j41(10,"mat-hint"),t.EFF(11,"La moneda de referencia es la primera en el par."),t.k0s()(),t.j41(12,"mat-form-field",18)(13,"mat-label"),t.EFF(14,"Moneda base"),t.k0s(),t.j41(15,"mat-select",19),t.bIt("selectionChange",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.currencyBaseChange(a.value))}),t.Z7z(16,gt,2,2,"mat-option",25,t.fX1),t.k0s(),t.DNE(18,Tt,2,0,"mat-error"),t.j41(19,"mat-hint"),t.EFF(20,"La moneda base es la segunda en el par."),t.k0s()(),t.j41(21,"mat-form-field",18)(22,"mat-label"),t.EFF(23,"Nombre"),t.k0s(),t.nrm(24,"input",20),t.j41(25,"mat-hint"),t.EFF(26,"Ejemplo: USD/CUP"),t.k0s(),t.DNE(27,Et,2,0,"mat-error"),t.k0s(),t.j41(28,"mat-form-field",18)(29,"mat-label"),t.EFF(30,"Fecha de la tasa"),t.k0s(),t.nrm(31,"input",21),t.j41(32,"mat-hint"),t.EFF(33,"DD/MM/YYYY"),t.k0s(),t.nrm(34,"mat-datepicker-toggle",22)(35,"mat-datepicker",null,23),t.DNE(37,Dt,2,0,"mat-error"),t.k0s(),t.j41(38,"mat-form-field",18)(39,"mat-label"),t.EFF(40,"Valor"),t.k0s(),t.nrm(41,"input",24),t.DNE(42,Nt,2,0,"mat-error"),t.k0s()()()()}if(2&n){const e=t.sdS(36),i=t.XpG();t.R7$(2),t.Y8G("formGroup",i.rateForm)("autocomplete","off"),t.R7$(4),t.Y8G("formControlName","currencyRefId")("required",!0),t.R7$(),t.Dyx(i.currencies),t.R7$(2),t.vxM(9,i.rateForm.get("currencyRefId").hasError("required")?9:-1),t.R7$(6),t.Y8G("formControlName","currencyBaseId")("required",!0),t.R7$(),t.Dyx(i.currencies),t.R7$(2),t.vxM(18,i.rateForm.get("currencyBaseId").hasError("required")?18:-1),t.R7$(6),t.Y8G("formControlName","name")("placeholder","Ejemplo: USD/CUP"),t.R7$(3),t.vxM(27,i.rateForm.get("name").hasError("required")?27:-1),t.R7$(4),t.Y8G("matDatepicker",e)("formControlName","date")("max",i.maxDate)("required",!0),t.R7$(3),t.Y8G("for",e),t.R7$(3),t.vxM(37,i.rateForm.get("date").hasError("required")?37:-1),t.R7$(4),t.Y8G("formControlName","value")("placeholder","1.000000"),t.R7$(),t.vxM(42,i.rateForm.get("value").hasError("required")?42:-1)}}function Gt(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",29),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.updateRate())}),t.EFF(1," Actualizar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.rateForm.invalid)}}function St(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",29),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.createRate())}),t.EFF(1," Agregar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.rateForm.invalid)}}function jt(n,r){if(1&n&&(t.j41(0,"div",26)(1,"button",27),t.EFF(2," Cancelar "),t.k0s(),t.DNE(3,Gt,2,2,"button",28)(4,St,2,2,"button",28),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("matDialogClose","cancelled"),t.R7$(2),t.vxM(3,"edit"===e.data.dialogMode?3:-1),t.R7$(),t.vxM(4,"add"===e.data.dialogMode?4:-1)}}let wt=(()=>{class n{constructor(e){this.data=e,this.currencies=[],this.maxDate=new Date,this.dialogMode="view",this._unsubscribeAll=new E.B,this._ratesService=(0,t.WQX)(ht.f),this._changeDetectorRef=(0,t.WQX)(t.gRc),this._formBuilder=(0,t.WQX)(l.ok),this._fuseConfirmationService=(0,t.WQX)(D.G),this._dialogRef=(0,t.WQX)(R.CP),this._snackBar=(0,t.WQX)(X.UG),this.store=(0,t.WQX)(h.il),this.dialogMode=e.dialogMode,this.rate=e.rate}ngOnInit(){this.rateForm=this._formBuilder.group({id:new l.MJ(null),name:new l.MJ({value:null,disabled:!0},[l.k0.maxLength(32)]),date:new l.MJ(new Date),value:new l.MJ(1,[l.k0.min(0)]),currencyRefId:new l.MJ(null,[l.k0.maxLength(100)]),currencyBaseId:new l.MJ(null,[l.k0.maxLength(100)])}),"edit"===this.dialogMode&&this.rateForm.patchValue(this.rate),this.store.select(ut.y$).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.currencies=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}currencyRefChange(e){const i=this.currencies.find(p=>p.id===e),a=this.currencies.find(p=>p.id===this.rateForm.get("currencyBaseId").value),o=a?a.iso:"",s=`${i.iso}/${o}`;this.rateForm.get("name").setValue(s),i.iso===o?(this.rateForm.get("value").setValue(1),this.rateForm.get("value").disable()):this.rateForm.get("value").enable()}currencyBaseChange(e){const i=this.currencies.find(p=>p.id===e),a=this.currencies.find(p=>p.id===this.rateForm.get("currencyRefId").value),o=a?a.iso:"",s=`${o}/${i.iso}`;this.rateForm.get("name").setValue(s),i.iso===o?(this.rateForm.get("value").setValue(1),this.rateForm.get("value").disable()):this.rateForm.get("value").enable()}closeDialog(){this._dialogRef.close()}createRate(){let e=this.rateForm.getRawValue();e=(0,P.A)(e,["id"]),this._fuseConfirmationService.open({title:"Crear tasa de cambio",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._ratesService.createRate(e).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({data:o})=>{o&&(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.createRate.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})})}updateRate(){const e=this.rateForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar tasa de cambio",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._ratesService.updateRate(e).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({data:o})=>{o&&(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.updateRate.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._dialogRef.close())}),this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(R.Vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["settings-rate-dialog"]],standalone:!0,features:[t.aNF],decls:8,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","px-1","pt-4","mt-4","border-t"],[1,"grid","w-full","grid-cols-1","gap-5","mt-3","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full","fuse-mat-dense"],[3,"formControlName","required","selectionChange"],["matInput","","type","text","required","","maxlength","50",3,"formControlName","placeholder"],["matInput","",3,"matDatepicker","formControlName","max","required"],["matIconSuffix","",3,"for"],["offerDate",""],["matInput","","type","number","required","","min","0",3,"formControlName","placeholder"],[3,"value"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled"],["mat-flat-button","",3,"color","disabled","click"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,at,2,0,"h2",2)(3,yt,2,0,"h2",2),t.k0s(),t.j41(4,"div",3),t.DNE(5,Rt,9,1,"div",4)(6,$t,43,20,"div",5),t.k0s(),t.DNE(7,jt,5,3,"div",6),t.k0s()),2&i&&(t.R7$(2),t.vxM(2,"add"===a.data.dialogMode?2:-1),t.R7$(),t.vxM(3,"edit"===a.data.dialogMode?3:-1),t.R7$(2),t.vxM(5,"view"===a.data.dialogMode?5:-1),t.R7$(),t.vxM(6,6),t.R7$(),t.vxM(7,"view"!==a.data.dialogMode?7:-1))},dependencies:[R.hM,R.tx,u.RG,u.rl,u.nJ,u.MV,u.TL,u.yw,T.fS,T.fg,z.Ve,z.VO,Q.wT,b.Hl,b.$z,l.X1,l.qT,l.me,l.Q0,l.BC,l.cb,l.YS,l.tU,l.VZ,l.j4,l.JD,tt.X6,tt.Vh,tt.bZ,tt.bU],encapsulation:2})}return n})();class Pt{}const Bt=(n,r)=>r.id;function At(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-slide-toggle",35),t.bIt("change",function(a){t.eBV(e);const o=t.XpG(),s=o.$implicit,p=o.$index,k=t.XpG(2);return t.Njj(k.updateRateStatus(a,s,p))}),t.k0s()}if(2&n){const e=t.XpG().$implicit;t.Y8G("checked",e.active)("color","primary")}}function Lt(n,r){1&n&&t.nrm(0,"mat-spinner",31),2&n&&t.Y8G("diameter",20)("color","primary")}function Xt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",27)(1,"div",28),t.EFF(2),t.k0s(),t.j41(3,"div",23),t.EFF(4),t.k0s(),t.j41(5,"div",23),t.EFF(6),t.k0s(),t.j41(7,"div",29),t.EFF(8),t.nI1(9,"number"),t.k0s(),t.j41(10,"div",29),t.DNE(11,At,1,2,"mat-slide-toggle",30)(12,Lt,1,2,"mat-spinner",31),t.k0s(),t.j41(13,"div",32)(14,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.openDialog(o,"edit"))}),t.nrm(15,"mat-icon",34),t.k0s(),t.j41(16,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteRate(o))}),t.nrm(17,"mat-icon",34),t.k0s()()()}if(2&n){const e=r.$implicit,i=r.$index,a=t.XpG(2);t.R7$(2),t.SpI(" ",e.name," "),t.R7$(2),t.SpI(" ",e.currencyRef.iso," "),t.R7$(2),t.SpI(" ",e.currencyBase.iso," "),t.R7$(2),t.SpI(" ",t.i5U(9,8,e.value,"1.4-4")," "),t.R7$(3),t.vxM(11,a.isSlideLoading&&a.selectedSlide===i?-1:11),t.R7$(),t.vxM(12,a.isSlideLoading&&a.selectedSlide===i?12:-1),t.R7$(3),t.Y8G("svgIcon","mat_solid:edit"),t.R7$(2),t.Y8G("svgIcon","mat_solid:delete")}}const _t=n=>({"pointer-events-none":n}),Yt=()=>[10,25,50,100];function Vt(n,r){if(1&n&&(t.j41(0,"div",20)(1,"div",21)(2,"div",22),t.EFF(3," Nombre "),t.k0s(),t.j41(4,"div",23),t.EFF(5," Referencia "),t.k0s(),t.j41(6,"div",23),t.EFF(7," Base "),t.k0s(),t.j41(8,"div",24),t.EFF(9," Valor "),t.k0s(),t.j41(10,"div",24),t.EFF(11," Activo "),t.k0s(),t.j41(12,"div",25),t.EFF(13," Acciones "),t.k0s()(),t.Z7z(14,Xt,18,11,"div",36,Bt),t.nrm(16,"mat-paginator",26),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("mat-sort-header","name"),t.R7$(6),t.Y8G("mat-sort-header","value"),t.R7$(2),t.Y8G("mat-sort-header","active"),t.R7$(4),t.Dyx(e.rates),t.R7$(2),t.Y8G("ngClass",t.eq3(9,_t,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.lJ4(11,Yt))("showFirstLastButtons",!0)}}function bt(n,r){1&n&&(t.j41(0,"div",37),t.EFF(1," \xa1No hay tasas de cambio creadas para el negocio!"),t.k0s())}let zt=(()=>{class n{constructor(){this.rate=new Pt,this.rates=[],this.isLoading=!1,this.isSlideLoading=!1,this.searchInputControl=new l.MJ,this.selectedSlide=null,this._unsubscribeAll=new E.B,this._ratesService=(0,t.WQX)(ht.f),this._changeDetectorRef=(0,t.WQX)(t.gRc),this._dialog=(0,t.WQX)(R.bZ),this._fuseConfirmationService=(0,t.WQX)(D.G),this._snackBar=(0,t.WQX)(X.UG),this.store=(0,t.WQX)(h.il)}ngOnInit(){this.store.select(V.o).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.rates=e,this._changeDetectorRef.markForCheck()}),this.store.select(M.D).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,_.Q)(this._unsubscribeAll),(0,H.B)(300),(0,G.Z)(null),(0,w.n)(e=>null!==e?(this.isLoading=!0,this._ratesService.getRates(0,10,"name","asc",e)):(0,j.of)()),(0,f.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,O.h)(this._sort.sortChange,this._paginator.page).pipe((0,w.n)(()=>(this.isLoading=!0,this._ratesService.getRates(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,f.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteRate(e){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la tasa de cambio: ${e.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,_.Q)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._ratesService.removeRate(e.id).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({data:o})=>{o&&this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.removeRate.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateRateStatus(e,i,a){this.isSlideLoading=!0,this.selectedSlide=a,this._ratesService.updateRateStatus({id:i.id,active:e.checked}).subscribe(({data:o})=>{this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.updateRateStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(e,i){return i.id||e}openDialog(e,i){this._dialog.open(wt,{data:{rate:e,dialogMode:i},panelClass:"ath-dialog-panel",disableClose:!0})}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["settings-rates"]],viewQuery:function(i,a){if(1&i&&(t.GBs(I.iy,5),t.GBs($.B4,5)),2&i){let o;t.mGM(o=t.lsd())&&(a._paginator=o.first),t.mGM(o=t.lsd())&&(a._sort=o.first)}},standalone:!0,features:[t.aNF],decls:30,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["class","grid overflow-auto"],[1,"grid","overflow-auto"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","rates-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"text-center"],[1,"flex","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","rates-grid","md:px-8"],[1,"text-left"],[1,"flex","justify-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b rates-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.EFF(6,"Inicio"),t.k0s()(),t.j41(7,"div",5),t.nrm(8,"mat-icon",6),t.j41(9,"a",7),t.EFF(10,"Ajustes"),t.k0s()(),t.j41(11,"div",5),t.nrm(12,"mat-icon",6),t.j41(13,"a",7),t.EFF(14,"Tasas"),t.k0s()()(),t.j41(15,"div",8)(16,"h2",9),t.EFF(17," Tasas de cambio "),t.k0s()()(),t.j41(18,"div",10)(19,"mat-form-field",11),t.nrm(20,"mat-icon",12)(21,"input",13),t.k0s(),t.j41(22,"button",14),t.bIt("click",function(){return a.openDialog(a.rate,"add")}),t.nrm(23,"mat-icon",15),t.j41(24,"span",16),t.EFF(25,"Agregar"),t.k0s()()()(),t.j41(26,"div",17)(27,"div",18),t.DNE(28,Vt,17,12,"div",19)(29,bt,2,0),t.k0s()()()),2&i&&(t.R7$(8),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(4),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(7),t.Y8G("subscriptSizing","dynamic"),t.R7$(),t.Y8G("svgIcon","mat_solid:search"),t.R7$(),t.Y8G("formControl",a.searchInputControl)("autocomplete","off")("placeholder","Escriba para filtrar..."),t.R7$(2),t.Y8G("svgIcon","mat_solid:add"),t.R7$(5),t.vxM(28,a.rates.length>0?28:29))},dependencies:[x.QX,b.Hl,b.$z,u.RG,u.rl,u.JW,y.m_,y.An,T.fS,T.fg,I.Ou,I.iy,A.D6,A.LG,L.mV,L.sG,$.NQ,$.B4,$.aE,x.YU,l.X1,l.me,l.BC,l.l_,Y.Wk],styles:[".rates-grid[_ngcontent-%COMP%]{grid-template-columns:300px 100px 70px 70px 70px 80px}@media (min-width: 600px){.rates-grid[_ngcontent-%COMP%]{grid-template-columns:15% 15% 15% 15% 15% auto}}"],changeDetection:0})}return n})();var Ot=c(64109),U=c(47358),Qt=c(45024),Ut=c(69532),ot=c(87122),rt=c(60850),Z=c(67336),st=c(27115),Wt=c(10953);const lt=(0,h.Mz)(n=>n.mPermissions,n=>n.permissions);var Jt=c(84412),d=c(96697),m=c(45312),g=c(21626);const C=m.c.API_URL;let v=(()=>{class n{constructor(e,i){this.store=e,this._httpClient=i,this.dataChange=new Jt.t([])}get data$(){return this.dataChange.asObservable()}getRootNavigationNodes(){return this._httpClient.get(`${C}/navigation/tree`).pipe((0,f.T)(e=>(this.dataChange.next(e.dataArr),e)))}createNavigation(e){return this.data$.pipe((0,d.s)(1),(0,w.n)(i=>this._httpClient.post(`${C}/navigation`,e).pipe((0,f.T)(a=>{if(a.data.parentId){for(const o of i)if(this.addChildren(o,a.data))break}else{for(let s=a.data.position;s<i.length;s++)i[s].item.position++;i.push({item:a.data,children:[]}),i.sort((s,p)=>s.item.position-p.item.position)}return this.dataChange.next(i),a}))))}updateNavigation(e){return this.data$.pipe((0,d.s)(1),(0,w.n)(i=>this._httpClient.patch(`${C}/navigation/${e.id}`,e).pipe((0,f.T)(a=>(this.updateChildren(i,a.data),this.dataChange.next(i),a)))))}removeNavigation(e){return this.data$.pipe((0,d.s)(1),(0,w.n)(i=>this._httpClient.delete(`${C}/navigation/${e}`).pipe((0,f.T)(a=>{let o=!1;for(const s of i)if(this.removeChildrenNode(s,e)){o=!0;break}if(!o)for(let s=0;s<i.length;s++)i[s].item.id===e&&i.splice(s,1);return this.dataChange.next(i),a}))))}addChildren(e,i){if(e.item.id===i.parentId){const a={item:i,children:[]};for(let o=i.position;o<e.children.length;o++)e.children[o].item.position++;return e.children.push(a),e.children.sort((o,s)=>o.item.position-s.item.position),!0}for(const a of e.children)if(this.addChildren(a,i))return!0;return!1}addChildrenNode(e,i){if(e.item.id===i.item.parentId){for(let a=i.item.position;a<e.children.length;a++)e.children[a].item.position++;return e.children.push(i),e.children.sort((a,o)=>a.item.position-o.item.position),!0}for(const a of e.children)if(this.addChildrenNode(a,i))return!0;return!1}updateChildren(e,i){let a=null;for(const s of e)if(a=this.removeChildrenNode(s,i.id),a){a.item=i;break}let o=!1;if(a)for(const s of e)if(this.addChildrenNode(s,a)){o=!0;break}if(!o){for(let s=0;s<e.length;s++)e[s].item.id===i.id&&(a=e[s],a.item=i,e.splice(s,1));if(a)for(const s of e)if(this.addChildrenNode(s,a)){o=!0;break}if(!o){for(let s=i.position;s<e.length;s++)e[s].item.position++;e.push(a),e.sort((s,p)=>s.item.position-p.item.position)}}}removeChildrenNode(e,i){for(let a=0;a<e.children.length;a++){const o=e.children[a];if(o.item.id===i){const p=e.children[a];e.children.splice(a,1);for(let k=0;k<e.children.length;k++)e.children[k].item.position=k;return p}const s=this.removeChildrenNode(o,i);if(s)return s}return null}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(h.il),t.KVO(g.Qq))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F=c(82765),W=c(36471);function et(n,r){if(1&n&&(t.j41(0,"h2",6),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI("Agregar este elemento a ",e.parentNavigation.title,"")}}function ke(n,r){1&n&&(t.j41(0,"h2",6),t.EFF(1,"Agregar elemento"),t.k0s())}function Fe(n,r){1&n&&(t.j41(0,"h2",6),t.EFF(1,"Editar elemento"),t.k0s())}const ye=n=>({"text-center":n});function Re(n,r){if(1&n&&(t.j41(0,"mat-option",24),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("ngClass",t.eq3(3,ye,"root"===e.id))("value",e.id),t.R7$(),t.SpI(" ",e.title," ")}}function Ie(n,r){1&n&&(t.j41(0,"mat-option",18),t.EFF(1," Aside "),t.k0s()),2&n&&t.Y8G("value","aside")}function Me(n,r){1&n&&(t.j41(0,"mat-option",18),t.EFF(1," Group "),t.k0s()),2&n&&t.Y8G("value","group")}function Te(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Debe seleccionar el tipo de elemento de navegaci\xf3n. "),t.k0s())}function Ee(n,r){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e+1," ")}}function De(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Debe seleccionar el orden del elemento de navegaci\xf3n. "),t.k0s())}function Ne(n,r){if(1&n&&(t.j41(0,"mat-form-field",15)(1,"mat-label"),t.EFF(2,"Orden"),t.k0s(),t.j41(3,"mat-select",25),t.Z7z(4,Ee,2,2,"mat-option",18,t.fX1),t.k0s(),t.DNE(6,De,2,0,"mat-error"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("formControlName","position")("placeholder","Orden"),t.R7$(),t.Dyx(e.positions),t.R7$(2),t.vxM(6,e.navigationForm.get("position").hasError("required")?6:-1)}}function $e(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El t\xedtulo del elemento de navegaci\xf3n es obligatorio. "),t.k0s())}function Ge(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El t\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.k0s())}function Se(n,r){if(1&n&&(t.j41(0,"mat-form-field",15)(1,"mat-label"),t.EFF(2,"T\xedtulo"),t.k0s(),t.nrm(3,"input",26),t.DNE(4,$e,2,0,"mat-error")(5,Ge,2,0,"mat-error"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("formControlName","title")("type","text")("placeholder","T\xedtulo")("minLength",3)("maxLength",255),t.R7$(),t.vxM(4,e.navigationForm.get("title").hasError("required")?4:-1),t.R7$(),t.vxM(5,e.navigationForm.get("title").hasError("maxLength")||e.navigationForm.get("title").hasError("minLength")?5:-1)}}function je(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El subt\xedtulo no debe superar los 255 caracteres. "),t.k0s())}function we(n,r){if(1&n&&(t.j41(0,"mat-form-field",15)(1,"mat-label"),t.EFF(2,"SubT\xedtulo"),t.k0s(),t.nrm(3,"input",27),t.DNE(4,je,2,0,"mat-error"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("formControlName","subtitle")("placeholder","SubT\xedtulo")("maxLength",255),t.R7$(),t.vxM(4,e.navigationForm.get("title").hasError("maxLength")?4:-1)}}function Pe(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Tooltip no debe superar los 255 caracteres. "),t.k0s())}function Be(n,r){if(1&n&&(t.j41(0,"mat-form-field",15)(1,"mat-label"),t.EFF(2,"Tooltip"),t.k0s(),t.nrm(3,"input",28),t.DNE(4,Pe,2,0,"mat-error"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("formControlName","tooltip")("placeholder","Tooltip")("maxLength",255),t.R7$(),t.vxM(4,e.navigationForm.get("tooltip").hasError("maxLength")?4:-1)}}function Ae(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El \xcdcono no debe superar los 255 caracteres. "),t.k0s())}function Le(n,r){if(1&n&&(t.j41(0,"mat-form-field",15)(1,"mat-label"),t.EFF(2,"\xcdcono"),t.k0s(),t.nrm(3,"input",27),t.DNE(4,Ae,2,0,"mat-error"),t.j41(5,"mat-hint"),t.EFF(6,"Ejemplo: heroicons_solid:information-circle"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("formControlName","icon")("placeholder","SVG \xcdcono")("maxLength",1e3),t.R7$(),t.vxM(4,e.navigationForm.get("icon").hasError("maxLength")?4:-1)}}function Xe(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El enlace no debe superar los 1000 caracteres. "),t.k0s())}function Ye(n,r){if(1&n&&(t.j41(0,"mat-form-field",15)(1,"mat-label"),t.EFF(2,"Enlace"),t.k0s(),t.nrm(3,"input",27),t.DNE(4,Xe,2,0,"mat-error"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("formControlName","link")("placeholder","Enlace - ruta")("maxLength",1e3),t.R7$(),t.vxM(4,e.navigationForm.get("link").hasError("maxLength")?4:-1)}}function Ve(n,r){1&n&&(t.j41(0,"mat-form-field",35)(1,"mat-select",36)(2,"mat-option",18),t.EFF(3," Blank "),t.k0s(),t.j41(4,"mat-option",18),t.EFF(5," Self "),t.k0s(),t.j41(6,"mat-option",18),t.EFF(7," Parent "),t.k0s(),t.j41(8,"mat-option",18),t.EFF(9," Top "),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("formControlName","target")("placeholder","Target"),t.R7$(),t.Y8G("value","_blank"),t.R7$(2),t.Y8G("value","_self"),t.R7$(2),t.Y8G("value","_parent"),t.R7$(2),t.Y8G("value","_top"))}function ze(n,r){if(1&n&&(t.j41(0,"div",29)(1,"span",30),t.EFF(2),t.k0s(),t.j41(3,"div",31),t.nrm(4,"mat-checkbox",32,33),t.DNE(6,Ve,10,6,"mat-form-field",34),t.k0s()()),2&n){const e=t.sdS(5);t.R7$(2),t.JRh(e.checked?"Target":"Enlace externo?"),t.R7$(2),t.Y8G("color","primary")("formControlName","externalLink"),t.R7$(2),t.vxM(6,e.checked?6:-1)}}function Oe(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Las clases del t\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.k0s())}function Qe(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Las clases del subt\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.k0s())}function Ue(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Las clases del \xedcono del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.k0s())}function We(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Las clases del wrapper del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.k0s())}function He(n,r){if(1&n&&(t.j41(0,"form",41)(1,"mat-form-field",15)(2,"mat-label"),t.EFF(3,"T\xedtulo"),t.k0s(),t.nrm(4,"input",42),t.DNE(5,Oe,2,0,"mat-error"),t.k0s(),t.j41(6,"mat-form-field",15)(7,"mat-label"),t.EFF(8,"SubT\xedtulo"),t.k0s(),t.nrm(9,"input",42),t.DNE(10,Qe,2,0,"mat-error"),t.k0s(),t.j41(11,"mat-form-field",15)(12,"mat-label"),t.EFF(13,"Icono"),t.k0s(),t.nrm(14,"input",42),t.DNE(15,Ue,2,0,"mat-error"),t.k0s(),t.j41(16,"mat-form-field",15)(17,"mat-label"),t.EFF(18,"Wrapper"),t.k0s(),t.nrm(19,"input",42),t.DNE(20,We,2,0,"mat-error"),t.k0s()()),2&n){const e=t.XpG(3);t.Y8G("formGroupName","classes"),t.R7$(4),t.Y8G("formControlName","title")("type","text")("placeholder","T\xedtulo")("minLength",3)("maxLength",255),t.R7$(),t.vxM(5,e.navigationForm.get("classes").get("title").hasError("maxLength")||e.navigationForm.get("classes").get("title").hasError("minLength")?5:-1),t.R7$(4),t.Y8G("formControlName","subtitle")("type","text")("placeholder","T\xedtulo")("minLength",3)("maxLength",255),t.R7$(),t.vxM(10,e.navigationForm.get("classes").get("subtitle").hasError("maxLength")||e.navigationForm.get("classes").get("subtitle").hasError("minLength")?10:-1),t.R7$(4),t.Y8G("formControlName","icon")("type","text")("placeholder","Icono")("minLength",3)("maxLength",255),t.R7$(),t.vxM(15,e.navigationForm.get("classes").get("icon").hasError("maxLength")||e.navigationForm.get("classes").get("icon").hasError("minLength")?15:-1),t.R7$(4),t.Y8G("formControlName","wrapper")("type","text")("placeholder","Wrapper")("minLength",3)("maxLength",255),t.R7$(),t.vxM(20,e.navigationForm.get("classes").get("wrapper").hasError("maxLength")||e.navigationForm.get("classes").get("wrapper").hasError("minLength")?20:-1)}}function Je(n,r){if(1&n&&(t.j41(0,"div",37)(1,"mat-checkbox",38,39)(3,"span",30),t.EFF(4),t.k0s()(),t.DNE(5,He,21,25,"form",40),t.k0s()),2&n){const e=t.sdS(2),i=t.XpG(2);t.R7$(),t.Y8G("color","primary")("checked",i.selectedNavigation&&i.selectedNavigation.classes&&(i.selectedNavigation.classes.title||i.selectedNavigation.classes.subtitle||i.selectedNavigation.classes.icon||i.selectedNavigation.classes.wrapper)),t.R7$(3),t.SpI(" ",e.checked?"Clases":"Agregar clases css?",""),t.R7$(),t.vxM(5,e.checked?5:-1)}}function Ke(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Las clases del t\xedtulo del elemento de navegaci\xf3n debe poseer entre 1 y 255 caracteres. "),t.k0s())}function Ze(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Las clases del subt\xedtulo del elemento de navegaci\xf3n debe poseer entre 3 y 255 caracteres. "),t.k0s())}function qe(n,r){if(1&n&&(t.j41(0,"form",41)(1,"mat-form-field",15)(2,"mat-label"),t.EFF(3,"T\xedtulo"),t.k0s(),t.nrm(4,"input",42),t.DNE(5,Ke,2,0,"mat-error"),t.k0s(),t.j41(6,"mat-form-field",15)(7,"mat-label"),t.EFF(8,"Clases"),t.k0s(),t.nrm(9,"input",42),t.DNE(10,Ze,2,0,"mat-error"),t.k0s()()),2&n){const e=t.XpG(3);t.Y8G("formGroupName","badge"),t.R7$(4),t.Y8G("formControlName","title")("type","text")("placeholder","T\xedtulo")("minLength",1)("maxLength",255),t.R7$(),t.vxM(5,e.navigationForm.get("badge").get("title").hasError("maxLength")||e.navigationForm.get("badge").get("title").hasError("minLength")?5:-1),t.R7$(4),t.Y8G("formControlName","classes")("type","text")("placeholder","Classes")("minLength",3)("maxLength",255),t.R7$(),t.vxM(10,e.navigationForm.get("badge").get("classes").hasError("maxLength")||e.navigationForm.get("badge").get("classes").hasError("minLength")?10:-1)}}function ti(n,r){if(1&n&&(t.j41(0,"div",43)(1,"mat-checkbox",38,39)(3,"span",30),t.EFF(4),t.k0s()(),t.DNE(5,qe,11,13,"form",40),t.k0s()),2&n){const e=t.sdS(2),i=t.XpG(2);t.R7$(),t.Y8G("color","primary")("checked",i.selectedNavigation&&i.selectedNavigation.badge&&(i.selectedNavigation.badge.title||i.selectedNavigation.classes)),t.R7$(3),t.JRh(e.checked?"Badge":"Agregar badge ?"),t.R7$(),t.vxM(5,e.checked?5:-1)}}function ei(n,r){1&n&&(t.j41(0,"div",29)(1,"span",30),t.EFF(2,"ExactMatch"),t.k0s(),t.nrm(3,"mat-slide-toggle",44),t.k0s()),2&n&&(t.R7$(3),t.Y8G("formControlName","exactMatch")("color","primary"))}function ii(n,r){if(1&n&&(t.j41(0,"div",29)(1,"span",30),t.EFF(2,"Estado"),t.k0s(),t.j41(3,"mat-slide-toggle",44),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("formControlName","active")("color","primary"),t.R7$(),t.SpI(" ",!0===e.navigationForm.get("active").value?"Activo":"Inactivo"," ")}}function ni(n,r){1&n&&(t.j41(0,"div",29)(1,"span",30),t.EFF(2,"Deshabilitado"),t.k0s(),t.nrm(3,"mat-slide-toggle",44),t.k0s()),2&n&&(t.R7$(3),t.Y8G("formControlName","disabled")("color","primary"))}function ai(n,r){1&n&&(t.j41(0,"div",29)(1,"span",30),t.EFF(2,"P\xfablico"),t.k0s(),t.nrm(3,"mat-slide-toggle",44),t.k0s()),2&n&&(t.R7$(3),t.Y8G("formControlName","public")("color","primary"))}function oi(n,r){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e.name," ")}}function ri(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-chip",51),t.bIt("removed",function(){const o=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.removePermission(o))}),t.j41(1,"div",52),t.EFF(2),t.k0s(),t.j41(3,"button",53),t.nrm(4,"mat-icon",54),t.k0s()()}if(2&n){const e=r.$implicit;t.R7$(2),t.JRh(e.name),t.R7$(2),t.Y8G("svgIcon","mat_solid:cancel")}}function si(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-form-field",45)(1,"mat-label"),t.EFF(2,"Permisos"),t.k0s(),t.nrm(3,"input",46),t.j41(4,"mat-autocomplete",47,48),t.bIt("optionSelected",function(a){t.eBV(e);const o=t.XpG(2);return t.Njj(o.addMPermission(a.option.value))}),t.Z7z(6,oi,2,2,"mat-option",18,t.fX1),t.nI1(8,"async"),t.k0s(),t.j41(9,"mat-chip-grid",49,50),t.Z7z(11,ri,5,2,"mat-chip",null,t.fX1),t.k0s()()}if(2&n){const e=t.sdS(5),i=t.sdS(10),a=t.XpG(2);t.R7$(3),t.Y8G("formControl",a.searchMPermissionControl)("matChipInputFor",i)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("matAutocomplete",e),t.R7$(3),t.Dyx(t.bMT(8,4,a.filteredMPermissions)),t.R7$(5),t.Dyx(a.selectedMPermissions)}}function li(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"form",9)(3,"div",10)(4,"mat-form-field",11)(5,"mat-label"),t.EFF(6,"Padre"),t.k0s(),t.nrm(7,"input",12),t.j41(8,"mat-autocomplete",13,14),t.bIt("optionSelected",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.selectedNavigationOption(a))}),t.Z7z(10,Re,2,5,"mat-option",24,t.fX1),t.nI1(12,"async"),t.k0s()(),t.j41(13,"mat-form-field",15)(14,"mat-label"),t.EFF(15,"Tipo"),t.k0s(),t.j41(16,"mat-select",16,17),t.bIt("selectionChange",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.navigationTypeChange(a.value))}),t.DNE(18,Ie,2,1,"mat-option",18),t.j41(19,"mat-option",18),t.EFF(20," Basic "),t.k0s(),t.j41(21,"mat-option",18),t.EFF(22," Collapsable "),t.k0s(),t.j41(23,"mat-option",18),t.EFF(24," Divider "),t.k0s(),t.DNE(25,Me,2,1,"mat-option",18),t.j41(26,"mat-option",18),t.EFF(27," Spacer "),t.k0s()(),t.DNE(28,Te,2,0,"mat-error"),t.k0s(),t.DNE(29,Ne,7,3,"mat-form-field",19)(30,Se,6,7,"mat-form-field",19)(31,we,5,4,"mat-form-field",19)(32,Be,5,4,"mat-form-field",19)(33,Le,7,4,"mat-form-field",19)(34,Ye,5,4,"mat-form-field",19)(35,ze,7,4,"div",20)(36,Je,6,4,"div",21)(37,ti,6,4,"div",22)(38,ei,4,2,"div",20)(39,ii,5,3,"div",20)(40,ni,4,2,"div",20)(41,ai,4,2,"div",20)(42,si,13,6,"mat-form-field",23),t.k0s()()()()}if(2&n){const e=t.sdS(9),i=t.sdS(17),a=t.XpG();t.R7$(2),t.Y8G("formGroup",a.navigationForm)("autocomplete","off"),t.R7$(5),t.Y8G("formControlName","parentId")("type","text")("matAutocomplete",e),t.R7$(),t.Y8G("displayWith",a.displayFn.bind(a)),t.R7$(2),t.Dyx(t.bMT(12,29,a.filteredNavigations)),t.R7$(6),t.Y8G("formControlName","type")("placeholder","Tipo"),t.R7$(2),t.vxM(18,null===a.parentNavigation?18:-1),t.R7$(),t.Y8G("value","basic"),t.R7$(2),t.Y8G("value","collapsable"),t.R7$(2),t.Y8G("value","divider"),t.R7$(2),t.vxM(25,null===a.parentNavigation?25:-1),t.R7$(),t.Y8G("value","spacer"),t.R7$(2),t.vxM(28,a.navigationForm.get("type").hasError("required")?28:-1),t.R7$(),t.vxM(29,a.positions.length>1?29:-1),t.R7$(),t.vxM(30,"divider"!==i.value&&"spacer"!==i.value?30:-1),t.R7$(),t.vxM(31,"divider"!==i.value&&"spacer"!==i.value?31:-1),t.R7$(),t.vxM(32,"divider"!==i.value&&"spacer"!==i.value?32:-1),t.R7$(),t.vxM(33,"divider"!==i.value&&"spacer"!==i.value?33:-1),t.R7$(),t.vxM(34,"divider"!==i.value&&"spacer"!==i.value?34:-1),t.R7$(),t.vxM(35,"divider"!==i.value&&"spacer"!==i.value?35:-1),t.R7$(),t.vxM(36,"divider"!==i.value&&"spacer"!==i.value?36:-1),t.R7$(),t.vxM(37,"divider"!==i.value&&"spacer"!==i.value?37:-1),t.R7$(),t.vxM(38,"divider"!==i.value&&"spacer"!==i.value?38:-1),t.R7$(),t.vxM(39,"divider"!==i.value&&"spacer"!==i.value?39:-1),t.R7$(),t.vxM(40,"divider"!==i.value&&"spacer"!==i.value?40:-1),t.R7$(),t.vxM(41,"basic"===i.value?41:-1),t.R7$(),t.vxM(42,"basic"===a.navigationForm.get("type").value&&!0!==a.navigationForm.get("public").value?42:-1)}}const ee=n=>({"cursor-not-allowed":n});function ci(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.updateNavigation())}),t.EFF(1," Actualizar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.navigationForm.invalid)("ngClass",t.eq3(3,ee,e.navigationForm.invalid))}}function di(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.createNavigation())}),t.EFF(1," Agregar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.navigationForm.invalid)("ngClass",t.eq3(3,ee,e.navigationForm.invalid))}}function mi(n,r){if(1&n&&(t.j41(0,"div",55),t.qex(1),t.j41(2,"button",56),t.EFF(3," Cancelar "),t.k0s(),t.bVm(),t.DNE(4,ci,2,5,"button",57)(5,di,2,5,"button",57),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("matDialogClose","cancelled"),t.R7$(2),t.vxM(4,"edit"===e.data.dialogMode?4:-1),t.R7$(),t.vxM(5,"add"===e.data.dialogMode?5:-1)}}let pi=(()=>{class n{constructor(e){this.data=e,this.allNavigations=[],this.mPermissions=[],this.navigations=[],this.position=0,this.positions=[],this.searchMPermissionControl=new l.MJ,this.selectedMPermissions=[],this.selectedNavigationType="",this.separatorKeysCodes=[Z.Fm,Z.KE],this._athConfirmationService=(0,t.WQX)(D.G),this._changeDetectorRef=(0,t.WQX)(t.gRc),this._dialogRef=(0,t.WQX)(R.CP),this._formBuilder=(0,t.WQX)(l.ze),this._fuseMediaWatcherService=(0,t.WQX)(st.F),this._navigationService=(0,t.WQX)(v),this._snackBar=(0,t.WQX)(X.UG),this._unsubscribeAll=new E.B,this.store=(0,t.WQX)(h.il),this.dialogMode=e.dialogMode,this.selectedNavigation=e.navigation,this.parentNavigation=e.parentNavigation}ngOnInit(){this.store.select(Wt.O4).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.allNavigations=[...e],this.filterNavigation(e),this.calcPositions(!1)}),this.store.select(lt).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.mPermissions=e}),this.navigationForm=this._formBuilder.group({id:[null],position:[this.position,[l.k0.required]],title:["",[l.k0.required,l.k0.minLength(3),l.k0.maxLength(255)]],subtitle:[null,[l.k0.maxLength(255)]],type:["basic",[l.k0.required,l.k0.minLength(5),l.k0.maxLength(255)]],tooltip:[null,[l.k0.maxLength(255)]],link:[null,l.k0.maxLength(1e3)],externalLink:[!1],target:[null,[l.k0.minLength(4),l.k0.maxLength(255)]],level:[0,[l.k0.required]],icon:[null,[l.k0.maxLength(255)]],parentId:[null,[l.k0.required]],classes:this._formBuilder.group({title:["",[l.k0.minLength(3),l.k0.maxLength(255)]],subtitle:["",[l.k0.maxLength(255)]],icon:["",[l.k0.maxLength(255)]],wrapper:["",[l.k0.maxLength(255)]]}),badge:this._formBuilder.group({title:["",[l.k0.minLength(1),l.k0.maxLength(255)]],classes:["",l.k0.maxLength(1e3)]}),active:[!0],disabled:[!1],exactMatch:[!1],public:[!1]}),this.filteredNavigations=this.navigationForm.get("parentId").valueChanges.pipe((0,_.Q)(this._unsubscribeAll),(0,H.B)(100),(0,G.Z)(" "),(0,w.n)(e=>(0,j.of)(e?this.navigations.filter(i=>i.title.toLocaleLowerCase().includes(e.toLocaleLowerCase())):this.navigations))),this.filteredMPermissions=this.searchMPermissionControl.valueChanges.pipe((0,G.Z)(""),(0,H.B)(400),(0,w.n)(e=>(0,j.of)(this.mPermissions.filter("string"==typeof e&&e?i=>i.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&!this.selectedMPermissions.some(a=>a.id===i.id):i=>!this.selectedMPermissions.some(a=>a.id===i.id))))),this._fuseMediaWatcherService.onMediaChange$.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.isScreenSmall=!e.includes("md"),this._changeDetectorRef.detectChanges()}),this._fillNavigationData()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}selectedNavigationOption(e){const i=e.option.value;this.parentNavigation=this.navigations.find(a=>a.id===i),"root"===this.parentNavigation.id&&(this.parentNavigation=null),this.filterNavigation(this.allNavigations),this.calcPositions(!0),this.navigationForm.get("position").setValue(this.position),this._changeDetectorRef.markForCheck()}navigationTypeChange(e){"divider"===e||"spacer"===e?(this.navigationForm.reset(),this.navigationForm.get("title").setValue(e.toUpperCase()),this.navigationForm.get("type").setValue(e),this.navigationForm.get("position").setValue(this.position),this.navigationForm.get("active").setValue(!0),this.navigationForm.get("disabled").setValue(!1),this.navigationForm.get("level").setValue(this.parentNavigation?this.parentNavigation.level+1:0),this.parentNavigation?this.navigationForm.get("parentId").setValue(this.parentNavigation.id):this.navigationForm.get("parentId").setValue("root")):("divider"===this.selectedNavigationType||"spacer"===this.selectedNavigationType)&&(this.navigationForm.get("level").setValue(this.parentNavigation?this.parentNavigation.level+1:0),this._fillNavigationData()),this._changeDetectorRef.markForCheck(),this.selectedNavigationType=e}createNavigation(){const e=this.navigationForm.getRawValue();delete e.id,this.parentNavigation&&"root"!==this.parentNavigation.id?e.level=this.parentNavigation.level+1:e.parentId=null,e.permissionsId=e.public?[]:this.selectedMPermissions.map(a=>a.id),!e.classes.title&&!e.classes.subtitle&&!e.classes.icon&&!e.classes.wrapper&&delete e.classes,!e.badge.title&&!e.badge.classes&&delete e.badge,this._athConfirmationService.open({title:"Crear elemento navigational",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._navigationService.createNavigation(e).subscribe(o=>{this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog()})})}updateNavigation(){const e=this.navigationForm.getRawValue();this.parentNavigation&&"root"!==this.parentNavigation.id?e.level=this.parentNavigation.level+1:e.parentId=null,!e.classes.title&&!e.classes.subtitle&&!e.classes.icon&&!e.classes.wrapper&&(e.classes=null),!e.badge.title&&!e.badge.classes&&(e.badge=null),e.permissionsId=e.public?[]:this.selectedMPermissions.map(a=>a.id),this._athConfirmationService.open({title:"Actualizar elemento navigational",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._navigationService.updateNavigation(e).subscribe(o=>{this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog()})})}addMPermission(e){this.searchMPermissionControl.setValue(""),this.selectedMPermissions.push(e),this._changeDetectorRef.markForCheck()}removePermission(e){const i=this.selectedMPermissions.indexOf(e);i>=0&&this.selectedMPermissions.splice(i,1)}displayFn(e){const i=this.navigations.find(a=>a.id===e);return i?i.title:""}closeDialog(){this._dialogRef.close()}_fillNavigationData(){if("edit"===this.dialogMode){this.navigationForm.patchValue(this.selectedNavigation);for(const e of this.selectedNavigation.permissionsId){const i=this.mPermissions.find(a=>a.id===e);i&&this.selectedMPermissions.push(i)}this.selectedNavigationType=this.selectedNavigation.type,this.parentNavigation||this.navigationForm.get("parentId").setValue("root")}"add"===this.dialogMode&&(this.parentNavigation&&this.navigationForm.get("parentId").setValue(this.parentNavigation.id),this.parentNavigation||this.navigationForm.get("parentId").setValue("root"),this.selectedNavigationType=this.navigationForm.get("type").value)}filterNavigation(e){return this.selectedNavigation?"edit"===this.dialogMode&&(this.navigations=[...e.filter(i=>this.selectedNavigation.id!==i.id&&"basic"!==i.type&&"divider"!==i.type&&"spacer"!==i.type)]):this.navigations=[...e.filter(i=>"basic"!==i.type&&"divider"!==i.type&&"spacer"!==i.type)],this.navigations.push({level:-1,id:"root",type:"group",title:"----Principal----"}),this.navigations.sort((i,a)=>i.level-a.level)}calcPositions(e){if(this.positions=[],this.position=0,this.parentNavigation&&this.parentNavigation.children&&this.parentNavigation.children.length>0){for(let i=0;i<this.parentNavigation.children.length;i++)this.positions.push(i);"add"===this.dialogMode?(this.position=this.positions.length,this.positions.push(this.positions.length)):e&&this.positions.push(this.positions.length)}if(!this.parentNavigation){const i=this.allNavigations.filter(a=>null===a.parentId);for(let a=0;a<i.length;a++)this.positions.push(a);"add"===this.dialogMode?(this.position=this.positions.length,this.positions.push(this.positions.length)):e&&this.positions.push(this.positions.length)}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(R.Vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["navigation-dialog"]],standalone:!0,features:[t.aNF],decls:10,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl ","mat-dialog-title",""],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],["mat-dialog-title","",1,"text-2xl"],[1,"w-full","overflow-hidden"],[1,"flex","border-t"],[1,"flex","flex-col","w-full","pt-8",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","md:grid-cols-3"],[1,"fuse-mat-no-subscript"],["matInput","","placeholder","Elemento padre","aria-label","Number",3,"formControlName","type","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[1,"w-full"],["required","",3,"formControlName","placeholder","selectionChange"],["typeOptions",""],[3,"value"],["class","w-full "],["class","flex flex-col"],["class","items-center mt-3 sm:col-span-2 md:col-span-3"],["class","items-center -mt-2 sm:col-span-2 md:col-span-3"],["class","w-full mt-2 sm:col-span-2 md:col-span-3","appearance","fill"],[3,"ngClass","value"],["required","",3,"formControlName","placeholder"],["matInput","","required","",3,"formControlName","type","placeholder","minLength","maxLength"],["matInput","",3,"formControlName","placeholder","maxLength"],["matInput","","require","",3,"formControlName","placeholder","maxLength"],[1,"flex","flex-col"],[1,"font-medium"],[1,"flex","flex-row"],[1,"mt-1","sm:mt-2",3,"color","formControlName"],["externalLink",""],["class","w-full mt-1"],[1,"w-full","mt-1"],[3,"formControlName","placeholder"],[1,"items-center","mt-3","sm:col-span-2","md:col-span-3"],[1,"mb-1",3,"color","checked"],["addClasses",""],["class","grid grid-cols-1 gap-2 py-4 mt-2 border-y gap-x-4 sm:grid-cols-2 md:grid-cols-3",3,"formGroupName"],[1,"grid","grid-cols-1","gap-2","py-4","mt-2","border-y","gap-x-4","sm:grid-cols-2","md:grid-cols-3",3,"formGroupName"],["matInput","",3,"formControlName","type","placeholder","minLength","maxLength"],[1,"items-center","-mt-2","sm:col-span-2","md:col-span-3"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],["appearance","fill",1,"w-full","mt-2","sm:col-span-2","md:col-span-3"],["placeholder","Agregar permiso...",1,"w-full",3,"formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["autoP","matAutocomplete"],["aria-label","Agregar permiso"],["permissionsChipGrid",""],[3,"removed"],[1,"truncate","max-w-16","sm:max-w-24"],["matChipRemove","",1,"w-5","h-5"],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.qex(1),t.j41(2,"div",1),t.DNE(3,et,2,1,"h2",2)(4,ke,2,0,"h2",2)(5,Fe,2,0,"h2",2),t.k0s(),t.bVm(),t.j41(6,"div",3),t.qex(7),t.DNE(8,li,43,31,"div",4),t.bVm(),t.k0s(),t.DNE(9,mi,6,3,"div",5),t.k0s()),2&i&&(t.R7$(3),t.vxM(3,"add"===a.dialogMode&&a.parentNavigation?3:-1),t.R7$(),t.vxM(4,"add"!==a.dialogMode||a.parentNavigation?-1:4),t.R7$(),t.vxM(5,"edit"===a.dialogMode?5:-1),t.R7$(3),t.vxM(8,"view"!==a.dialogMode?8:-1),t.R7$(),t.vxM(9,"view"!==a.data.dialogMode?9:-1))},dependencies:[x.Jj,rt.jL,rt.$3,Q.wT,rt.pN,b.Hl,b.$z,F.g7,F.So,W.YN,W.Jl,W.HW,W.D7,W.Zv,R.hM,R.tx,R.BI,u.RG,u.rl,u.nJ,u.MV,u.TL,y.m_,y.An,T.fS,T.fg,z.Ve,z.VO,L.mV,L.sG,x.YU,l.X1,l.qT,l.me,l.BC,l.cb,l.YS,l.l_,l.j4,l.JD,l.$R],encapsulation:2,changeDetection:0})}return n})();var ie=c(39198),ui=c(85943);class hi{}function gi(n,r){if(1&n&&t.nrm(0,"mat-icon",44),2&n){const e=t.XpG().$implicit;t.Y8G("svgIcon",e.item.icon)}}const ne=(n,r)=>({"bg-gray-800 dark:bg-white":n,"bg-gray-700 dark:bg-neutral-50":r}),_i=(n,r)=>({"bg-gray-400":n,"bg-primary-500":r});function bi(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-tree-node",36),t.bIt("mouseenter",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.mouseEnterLeave(o.item.id))})("mouseleave",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.mouseEnterLeave(o.item.id))})("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.mouseOver(o.item.id))}),t.j41(1,"div",37)(2,"div",38),t.nrm(3,"div",39),t.k0s(),t.j41(4,"span",40),t.EFF(5),t.k0s()(),t.j41(6,"div",31),t.DNE(7,gi,1,1,"mat-icon",41),t.k0s(),t.j41(8,"span",31),t.EFF(9),t.k0s(),t.nrm(10,"span"),t.j41(11,"div",42)(12,"button",43),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.createNavigation(o))}),t.nrm(13,"mat-icon",44),t.k0s(),t.j41(14,"button",45),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.editNavigation(o))}),t.nrm(15,"mat-icon",44),t.k0s(),t.j41(16,"button",45),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteNavigation(s.flatNodeMap.get(o)))}),t.nrm(17,"mat-icon",44),t.k0s()()()}if(2&n){const e=r.$implicit,i=t.XpG(2);t.Y8G("ngClass",t.l_i(9,ne,e.item.id===i.selectedNavigationId,e.item.id===i.overNavigationId)),t.R7$(3),t.Y8G("ngClass",t.l_i(12,_i,"spacer"===e.item.type||"divider"===e.item.type,"spacer"!==e.item.type&&"divider"!==e.item.type)),t.R7$(2),t.JRh(e.item.title),t.R7$(2),t.vxM(7,e.item.icon?7:-1),t.R7$(2),t.JRh(e.item.type),t.R7$(3),t.Y8G("disabled","basic"===e.item.type||"divider"===e.item.type||"spacer"===e.item.type),t.R7$(),t.Y8G("svgIcon","mat_solid:add"),t.R7$(2),t.Y8G("svgIcon","mat_solid:edit"),t.R7$(2),t.Y8G("svgIcon","mat_solid:delete")}}function fi(n,r){if(1&n&&t.nrm(0,"mat-icon",44),2&n){const e=t.XpG().$implicit;t.Y8G("svgIcon",e.item.icon)}}function vi(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-tree-node",36),t.bIt("mouseenter",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.mouseEnterLeave(o.item.id))})("mouseleave",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.mouseEnterLeave(o.item.id))})("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.mouseOver(o.item.id))})("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.dobleClick(o))}),t.j41(1,"div",37)(2,"button",46),t.nrm(3,"mat-icon",44),t.k0s(),t.j41(4,"span",47),t.EFF(5),t.k0s()(),t.j41(6,"div",31),t.DNE(7,fi,1,1,"mat-icon",41),t.k0s(),t.j41(8,"span",31),t.EFF(9),t.k0s(),t.j41(10,"span",31),t.EFF(11),t.k0s(),t.j41(12,"div",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.dobleClick(o))}),t.j41(13,"button",43),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.createNavigation(o))}),t.nrm(14,"mat-icon",44),t.k0s(),t.j41(15,"button",45),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.editNavigation(o))}),t.nrm(16,"mat-icon",44),t.k0s(),t.j41(17,"button",45),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteNavigation(s.flatNodeMap.get(o)))}),t.nrm(18,"mat-icon",44),t.k0s()()()}if(2&n){const e=r.$implicit,i=t.XpG(2);t.Y8G("ngClass",t.l_i(11,ne,e.item.id===i.selectedNavigationId,e.item.id===i.overNavigationId)),t.R7$(2),t.BMQ("aria-label","Expandir "+e.item.title),t.R7$(),t.Y8G("svgIcon",i.treeControl.isExpanded(e)?"mat_solid:expand_more":"mat_solid:chevron_right"),t.R7$(2),t.JRh(e.item.title),t.R7$(2),t.vxM(7,e.item.icon?7:-1),t.R7$(2),t.JRh(e.item.type),t.R7$(2),t.JRh(i.flatNodeMap.get(e).children.length),t.R7$(2),t.Y8G("disabled","basic"===e.item.type||"divider"===e.item.type||"spacer"===e.item.type),t.R7$(),t.Y8G("svgIcon","mat_solid:add"),t.R7$(2),t.Y8G("svgIcon","mat_solid:edit"),t.R7$(2),t.Y8G("svgIcon","mat_solid:delete")}}function xi(n,r){if(1&n&&(t.j41(0,"div",29)(1,"div",30),t.EFF(2," T\xedtulo "),t.k0s(),t.j41(3,"div",31),t.EFF(4," Icono "),t.k0s(),t.j41(5,"div",31),t.EFF(6," Tipo "),t.k0s(),t.j41(7,"div",31),t.EFF(8," #.Elementos "),t.k0s(),t.j41(9,"div",32),t.EFF(10," Acciones "),t.k0s()(),t.j41(11,"mat-tree",33),t.DNE(12,bi,18,15,"mat-tree-node",34)(13,vi,19,14,"mat-tree-node",35),t.k0s()),2&n){const e=t.XpG();t.R7$(11),t.Y8G("dataSource",e.dataSource)("treeControl",e.treeControl),t.R7$(2),t.Y8G("matTreeNodeDefWhen",e.hasChild)}}function Ci(n,r){1&n&&(t.j41(0,"div",49),t.EFF(1," \xa1No se ha creado ning\xfan elemento a\xfan! "),t.k0s())}const ki=(n,r)=>({dark:n,"bg-white":r});let Fi=(()=>{class n{constructor(){this.checklistSelection=new Qt.CB(!0),this.dialog=(0,t.WQX)(R.bZ),this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this._changeDetectorRef=(0,t.WQX)(t.gRc),this._fuseConfigService=(0,t.WQX)(ui.V),this._fuseConfirmationService=(0,t.WQX)(D.G),this._fuseMediaWatcherService=(0,t.WQX)(st.F),this._fuseNavigationService=(0,t.WQX)(ie.L5),this._navigationService=(0,t.WQX)(v),this._snackBar=(0,t.WQX)(X.UG),this._unsubscribeAll=new E.B,this.store=(0,t.WQX)(h.il),this.getLevel=e=>e.level,this.isExpandable=e=>e.expandable,this.getChildren=e=>e.children,this.hasChild=(e,i)=>i.expandable||"collapsable"===i.item.type||"group"===i.item.type||"aside"===i.item.type,this.hasNoContent=(e,i)=>""===i.item.title,this.transformer=(e,i)=>{const a=this.nestedNodeMap.get(e),o=a&&a.item===e.item?a:new hi;return o.item=e.item,o.level=i,o.expandable=!!e.children?.length,this.flatNodeMap.set(o,e),this.nestedNodeMap.set(e,o),o},this.treeFlattener=new U.yj(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new Ot.XW(this.getLevel,this.isExpandable),this.dataSource=new U.zw(this.treeControl,this.treeFlattener)}ngOnInit(){this._navigationService.data$.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.dataSource.data=e;const a={children:[],type:"aside"};this.transformToFuseNavigationFormat({item:null,children:e},a);const o=this.getNavigations(a,[]);this.navigations=o,this.fuseNavigationItems=a.children,this.store.dispatch((0,Ut.i1)({navigations:o})),this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.isScreenSmall=!e.includes("md")}),this._fuseConfigService.config$.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.config=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}descendantsAllSelected(e){const i=this.treeControl.getDescendants(e);return i.length>0&&i.every(o=>this.checklistSelection.isSelected(o))}descendantsPartiallySelected(e){return this.treeControl.getDescendants(e).some(o=>this.checklistSelection.isSelected(o))&&!this.descendantsAllSelected(e)}mouseEnterLeave(e){this.selectedNavigationId=e===this.selectedNavigationId?"":e}mouseOver(e){this.overNavigationId=e===this.overNavigationId?"":e}dobleClick(e){this.treeControl.isExpanded(e)?this.treeControl.collapse(e):this.treeControl.expand(e)}createNavigation(e){if(e){const i={item:e.item,children:this.flatNodeMap.get(e).children},a={...e.item,children:[]};this.transformToFuseNavigationFormat(i,a),this._openDialog(a,null,"add")}else this._openDialog(null,null,"add")}editNavigation(e){let i=this.navigations.find(a=>a.id===e.item.parentId);i=void 0===i?null:i,this._openDialog(i,e.item,"edit")}deleteNavigation(e){this._fuseConfirmationService.open({title:"Eliminar Elemento",message:`\xbfEst\xe1 seguro que desea eliminar a ${e.item.title}? ${e.children.length>0?"Este elemento posee otros elementos":""}.`,icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._navigationService.removeNavigation(e.item.id).subscribe(o=>{this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}toggleNavigation(e){const i=this._fuseNavigationService.getComponent(e);i&&i.toggle()}expandAll(){this.treeControl.expandAll()}collapseAll(){this.treeControl.collapseAll()}_openDialog(e,i,a){this.dialog.open(pi,{data:{parentNavigation:e,navigation:i,dialogMode:a},disableClose:!0,panelClass:"ath-nrp-dialog-panel"})}transformToFuseNavigationFormat(e,i){for(const a of e.children){const o={...a.item};a.children&&a.children.length>0&&(o.children=[],this.transformToFuseNavigationFormat(a,o)),i.children.push(o)}}getNavigations(e,i){for(const a of e.children)a.active=!1,a.children&&a.children.length>0&&this.getNavigations(a,i),i.push({...a});return i.sort((a,o)=>a.level-o.level)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["settings-navigation"]],standalone:!0,features:[t.aNF],decls:44,vars:19,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-row","justify-between","w-full","min-w-0","overflow-x-hidden","overflow-y-hidden","bg-card","dark:bg-transparent"],[1,"flex","flex-col","flex-auto","overflow-y-auto"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-20"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight"],[1,"flex","my-2","sm:hidden"],["mat-icon-button","",1,"",3,"click"],[3,"svgIcon"],[1,"flex","flex-row-reverse","flex-wrap","items-center","justify-end","mt-2","sm:flex-row","sm:mt-0","shrink-0","sm:ml-4"],["mat-flat-button","",1,"ml-4","text-white","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["mat-stroked-button","",1,"ml-4",3,"click"],["svgIcon","mat_solid:close_fullscreen"],[1,"hidden","ml-2","mr-1","sm:block"],["mat-stroked-button","",1,"ml-0","sm:ml-4",3,"click"],["svgIcon","mat_solid:expand"],["mat-icon-button","",1,"hidden","ml-6","sm:flex",3,"click"],[1,"flex","flex-col","flex-auto"],[1,"grid"],[1,"h-full","min-h-full","overflow-x-auto","border","print:hidden",3,"ngClass","mode","name","opened","autoCollapse","inner","transparentOverlay","position","navigation"],[1,"sticky","top-0","z-10","grid","gap-4","px-0","py-4","font-semibold","shadow","navigation-tree-table","xl:px-8","text-md","text-secondary","bg-gray-50","dark:bg-gray-900"],[1,"ml-6","xl:ml-0"],[1,"text-center"],[1,"pr-4","mr-6","text-right","xl:mr-0"],[3,"dataSource","treeControl"],["class","grid navigation-tree-table  gap-4 relative py-1.5  border-b rounded-md bg-opacity-5 dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click",4,"matTreeNodeDef"],["class","grid navigation-tree-table gap-4 relative  py-1.5 border-b rounded-md bg-opacity-5 dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"grid","navigation-tree-table","gap-4","relative","py-1.5","border-b","rounded-md","bg-opacity-5","dark:bg-opacity-12",3,"ngClass","mouseenter","mouseleave","click"],["matTreeNodePadding","","matTreeNodePaddingIndent","20",1,"flex","items-center"],["matTreeNodeToggle","","mat-icon-button","","color","primary",1,"flex","items-center","justify-center","w-10","h-10"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"cursor-default","whitespace-nowrap","line-clamp-1"],["class","icon-size-5",3,"svgIcon"],[1,"flex","flex-row","justify-end","gap-2","pr-2","text-right"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"disabled","click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["mat-icon-button","","matTreeNodeToggle","","color","primary"],[1,"cursor-default","whitespace-nowrap"],[1,"flex","flex-row","justify-end","gap-2","pr-2","text-right",3,"click"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"div",5)(7,"a",6),t.EFF(8,"Inicio"),t.k0s()(),t.j41(9,"div",5),t.nrm(10,"mat-icon",7),t.j41(11,"a",8),t.EFF(12,"Navegaci\xf3n"),t.k0s()()(),t.j41(13,"div",9)(14,"a",10),t.nrm(15,"mat-icon",7),t.j41(16,"span",11),t.EFF(17,"Regresar"),t.k0s()()()(),t.j41(18,"div",12)(19,"div",13),t.EFF(20," Gesti\xf3n de navegaci\xf3n "),t.k0s()()(),t.j41(21,"div",14)(22,"button",15),t.bIt("click",function(){return a.toggleNavigation("settingNavigation")}),t.nrm(23,"mat-icon",16),t.k0s()(),t.j41(24,"div",17)(25,"button",18),t.bIt("click",function(){return a.createNavigation(null)}),t.nrm(26,"mat-icon",16),t.j41(27,"span",19),t.EFF(28,"Nuevo"),t.k0s()(),t.j41(29,"button",20),t.bIt("click",function(){return a.collapseAll()}),t.nrm(30,"mat-icon",21),t.j41(31,"span",22),t.EFF(32,"Contraer"),t.k0s()(),t.j41(33,"button",23),t.bIt("click",function(){return a.expandAll()}),t.nrm(34,"mat-icon",24),t.j41(35,"span",22),t.EFF(36,"Expandir"),t.k0s()(),t.j41(37,"button",25),t.bIt("click",function(){return a.toggleNavigation("settingNavigation")}),t.nrm(38,"mat-icon",16),t.k0s()()(),t.j41(39,"div",26)(40,"div",27),t.DNE(41,xi,14,3)(42,Ci,2,0),t.k0s()()(),t.nrm(43,"fuse-vertical-navigation",28),t.k0s()),2&i&&(t.R7$(10),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(4),t.Y8G("routerLink","./.."),t.R7$(),t.Y8G("svgIcon","mat_solid:chevron_left"),t.R7$(8),t.Y8G("svgIcon","mat_solid:menu"),t.R7$(3),t.Y8G("svgIcon","mat_solid:add"),t.R7$(12),t.Y8G("svgIcon","mat_solid:menu"),t.R7$(3),t.vxM(41,a.dataSource.data.length>0?41:42),t.R7$(2),t.Y8G("ngClass",t.l_i(16,ki,"dark"===a.config.scheme,"dark"!==a.config.scheme))("mode",a.isScreenSmall?"over":"side")("name","settingNavigation")("opened",!a.isScreenSmall)("autoCollapse",!0)("inner",!1)("transparentOverlay",!0)("position","left")("navigation",a.fuseNavigationItems))},dependencies:[ie.Xs,b.Hl,b.$z,b.iY,u.RG,T.fS,y.m_,y.An,U.jH,U.yI,U.yF,U.pO,U.lQ,U.d6,x.YU,Y.Wk],encapsulation:2,data:{animation:ot.X},changeDetection:0})}return n})();var J=c(73512),q=c(88141),ae=c(98216),it=c(67046);const yi=J.J1`
    query MPermissions {
        mPermissions {
            id
            name
            description
            mandatory
        }
    }
`,Ri=J.J1`
    query PaginatedMPermissions($page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedMPermissions(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

        ok
        message

        pagination {
            length
            size
            page
            lastPage
            startIndex
            endIndex
        }

        items {
            id
            parentId
            name
            level
            slug
            description
            mandatory

            permissions {
                id
                name
                slug
                description
            }
        }
        }
    }
`,Ii=J.J1`
    query PermissionsNinModules {
        permissionsNinModules {
            id
            name
            description
            mandatory
        }
    }
`,Mi=J.J1`
    mutation CreateMPermissions($createMPermissionInput: CreateMPermissionInput!, $createMPermissionsInput: [CreateMPermissionInput!]) {
        createMPermissions(createMPermissionInput: $createMPermissionInput, createMPermissionsInput: $createMPermissionsInput ) {
            ok
            message

            permission {
                id
                parentId
                name
                level
                slug
                description
                mandatory

                permissions {
                    id
                    name
                    slug
                    description
                }
            }
        }
    }
`,Ti=J.J1`
    mutation UpdateMPermissions($updateMPermissionInput: UpdateMPermissionInput!, $updateMPermissionsInput: [UpdateMPermissionInput!]) {
        updateMPermissions(updateMPermissionInput: $updateMPermissionInput, updateMPermissionsInput: $updateMPermissionsInput) {

            ok
            message

            permission {
                id
                parentId
                name
                level
                slug
                description
                mandatory

                permissions {
                    id
                    name
                    slug
                    description
                }
            }
        }
    }
`,Ei=J.J1`
    mutation PaginatedRemoveMPermission($removeMPermissionById: String!, $page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedRemoveMPermission(id: $removeMPermissionById, page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

            ok
            message

            pagination {
                length
                size
                page
                lastPage
                startIndex
                endIndex
            }

            items {
                id
                parentId
                name
                level
                slug
                description
                mandatory

                permissions {
                    id
                    name
                    slug
                    description
            }
            }
        }
    }
`;let ct=(()=>{class n{constructor(){this.apolloProvider=(0,t.WQX)(J.Ic),this.store=(0,t.WQX)(h.il),this._apollo=this.apolloProvider.use("BALANC")}createMPermission(e,i){return this._apollo.mutate({mutation:Mi,variables:{createMPermissionInput:e,createMPermissionsInput:i},errorPolicy:"all"}).pipe((0,f.T)(({data:a})=>a?a.createMPermissions:null),(0,q.M)(a=>{a&&this.store.dispatch((0,it.Vr)({permission:a.permission}))}))}getPaginatedMPermissions(e=0,i=500,a="name",o="asc",s=null){return this._apollo.query({query:Ri,errorPolicy:"all",variables:{page:e,size:i,sort:a,order:o,search:s}}).pipe((0,q.M)(({data:p})=>{p&&(this.store.dispatch((0,ae.Bp)({pagination:p.paginatedMPermissions.pagination})),this.store.dispatch((0,it.jb)({permissions:p.paginatedMPermissions.items})))}))}getMPermissions(){return this._apollo.query({query:yi,errorPolicy:"all"}).pipe((0,q.M)(({data:e})=>{e&&this.store.dispatch((0,it.jb)({permissions:e.mPermissions}))}))}getPermissionsNinModules(){return this._apollo.query({query:Ii,errorPolicy:"all"}).pipe((0,q.M)(({data:e})=>{e&&this.store.dispatch((0,it.jb)({permissions:e.permissionsNinModules}))}))}updatePermission(e,i){return this._apollo.mutate({mutation:Ti,variables:{updateMPermissionInput:e,updateMPermissionsInput:i},errorPolicy:"all"}).pipe((0,f.T)(({data:a})=>a?a.updateMPermissions:null),(0,q.M)(a=>{a&&this.store.dispatch((0,it.LA)({permission:a.permission}))}))}removePermission(e,i=0,a=500,o="name",s="desc",p=null){return this._apollo.mutate({mutation:Ei,variables:{removeMPermissionById:e.toString(),page:i,size:a,sort:o,order:s,search:p},errorPolicy:"all"}).pipe((0,q.M)(({data:k})=>{k&&(this.store.dispatch((0,ae.Bp)({pagination:k.paginatedRemoveMPermission.pagination})),this.store.dispatch((0,it.kM)({id:e})))}))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Di(n,r){1&n&&(t.j41(0,"h2",7),t.EFF(1,"Agregar subm\xf3dulo"),t.k0s())}function Ni(n,r){1&n&&(t.j41(0,"h2",7),t.EFF(1,"Editar subm\xf3dulo"),t.k0s())}function $i(n,r){1&n&&(t.j41(0,"h2",7),t.EFF(1,"Detalles del subm\xf3dulo"),t.k0s())}function Gi(n,r){1&n&&t.nrm(0,"div",8)}function Si(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre del subm\xf3dulo es obligatorio. "),t.k0s())}function ji(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre del subm\xf3dulo debe contener entre 3 y 255 caracteres. "),t.k0s())}function wi(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La descripci\xf3n debe contener al menos 5 caracteres. "),t.k0s())}function Pi(n,r){if(1&n&&(t.j41(0,"div",9)(1,"div",10)(2,"form",11)(3,"mat-form-field",12)(4,"mat-label"),t.EFF(5,"Nombre"),t.k0s(),t.nrm(6,"input",13),t.DNE(7,Si,2,0,"mat-error")(8,ji,2,0,"mat-error"),t.k0s(),t.j41(9,"div",14)(10,"mat-form-field",15)(11,"mat-label"),t.EFF(12,"Descripci\xf3n"),t.k0s(),t.nrm(13,"mat-icon",16)(14,"textarea",17,18),t.DNE(16,wi,2,0,"mat-error"),t.j41(17,"mat-hint",19),t.EFF(18),t.k0s()()(),t.j41(19,"mat-checkbox",20),t.EFF(20," Obligatorio "),t.k0s()()()()),2&n){const e=t.sdS(15),i=t.XpG();t.R7$(2),t.Y8G("formGroup",i.mPermissionForm)("autocomplete","off"),t.R7$(4),t.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del subm\xf3dulo"),t.R7$(),t.vxM(7,i.mPermissionForm.get("name").hasError("required")?7:-1),t.R7$(),t.vxM(8,i.mPermissionForm.get("name").hasError("maxlength")||i.mPermissionForm.get("name").hasError("minlength")?8:-1),t.R7$(5),t.Y8G("svgIcon","mat_solid:notes"),t.R7$(),t.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),t.R7$(2),t.vxM(16,i.mPermissionForm.get("description").hasError("minlength")?16:-1),t.R7$(2),t.SpI(" Total de caracteres ",e.value.length," / 1000 "),t.R7$(),t.Y8G("color","primary")("formControlName","mandatory")}}const oe=n=>({"cursor-not-allowed":n});function Bi(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.updatePermission())}),t.EFF(1," Actualizar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.mPermissionForm.invalid)("ngClass",t.eq3(3,oe,e.mPermissionForm.invalid))}}function Ai(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.createMPermission())}),t.EFF(1," Agregar "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("color","primary")("disabled",e.mPermissionForm.invalid)("ngClass",t.eq3(3,oe,e.mPermissionForm.invalid))}}function Li(n,r){if(1&n&&(t.j41(0,"div",21)(1,"button",22),t.EFF(2," Cancelar "),t.k0s(),t.DNE(3,Bi,2,5,"button",23)(4,Ai,2,5,"button",23),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("matDialogClose","cancelled"),t.R7$(2),t.vxM(3,"edit"===e.data.dialogMode?3:-1),t.R7$(),t.vxM(4,"add"===e.data.dialogMode?4:-1)}}let Xi=(()=>{class n{constructor(e){this.data=e,this.dialogMode="view",this._changeDetectorRef=(0,t.WQX)(t.gRc),this._dialogRef=(0,t.WQX)(R.CP),this._formBuilder=(0,t.WQX)(l.ok),this._fuseConfirmationService=(0,t.WQX)(D.G),this._mPermissionsService=(0,t.WQX)(ct),this._snackBar=(0,t.WQX)(X.UG),this._unsubscribeAll=new E.B,this.selectedMPermission=e.mPermission,this.dialogMode=e.dialogMode}ngOnInit(){this.mPermissionForm=this._formBuilder.group({id:[null],parentId:[null],name:["",[l.k0.required,l.k0.minLength(3),l.k0.maxLength(255)]],mandatory:[!1],description:["",[l.k0.minLength(5),l.k0.maxLength(1e3)]]}),this._fillMPermissionData()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createMPermission(){const e=this.mPermissionForm.getRawValue();delete e.id,delete e.parentId,this._fuseConfirmationService.open({title:"Crear Subm\xf3dulo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._mPermissionsService.createMPermission(e,null).subscribe(o=>{o&&(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog())})})}updatePermission(){const e=this.mPermissionForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Subm\xf3dulo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._mPermissionsService.updatePermission(e,null).subscribe(o=>{o&&(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck(),this.closeDialog())})})}trackByFn(e,i){return i.id||e}closeDialog(){this._dialogRef.close()}_fillMPermissionData(){"edit"===this.dialogMode&&this.mPermissionForm.patchValue(this.selectedMPermission)}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(R.Vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["m-permission-dialog"]],standalone:!0,features:[t.aNF],decls:9,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"w-full","overflow-hidden"],[1,"flex"],[1,"flex","flex-col","w-full","mt-6",3,"formGroup","autocomplete"],[1,"fuse-mat-dense"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-2","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],["desc",""],[1,"text-right"],[1,"mt-6","mb-0",3,"color","formControlName"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,Di,2,0,"h2",2)(3,Ni,2,0,"h2",2)(4,$i,2,0,"h2",2),t.k0s(),t.j41(5,"div",3),t.DNE(6,Gi,1,0,"div",4)(7,Pi,21,19,"div",5),t.k0s(),t.DNE(8,Li,5,3,"div",6),t.k0s()),2&i&&(t.R7$(2),t.vxM(2,"add"===a.data.dialogMode?2:-1),t.R7$(),t.vxM(3,a.data.mPermission&&a.data.mPermission.id&&"edit"===a.data.dialogMode?3:-1),t.R7$(),t.vxM(4,a.data.mPermission&&a.data.mPermission.id&&"view"===a.data.dialogMode?4:-1),t.R7$(2),t.vxM(6,"view"===a.data.dialogMode?6:-1),t.R7$(),t.vxM(7,7),t.R7$(),t.vxM(8,"view"!==a.data.dialogMode?8:-1))},dependencies:[b.Hl,b.$z,F.g7,F.So,R.hM,R.tx,u.RG,u.rl,u.nJ,u.MV,u.TL,u.JW,y.m_,y.An,T.fS,T.fg,x.YU,l.X1,l.qT,l.me,l.BC,l.cb,l.YS,l.xh,l.tU,l.j4,l.JD],encapsulation:2,changeDetection:0})}return n})();function Yi(n,r){1&n&&t.nrm(0,"mat-icon",37),2&n&&t.Y8G("svgIcon","mat_solid:done")}function Vi(n,r){1&n&&t.nrm(0,"mat-icon",38),2&n&&t.Y8G("svgIcon","mat_solid:close")}function zi(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",29)(1,"div",30),t.EFF(2),t.k0s(),t.j41(3,"div",30),t.EFF(4),t.k0s(),t.j41(5,"div",30),t.EFF(6),t.k0s(),t.j41(7,"div",31),t.DNE(8,Yi,1,1,"mat-icon",32)(9,Vi,1,1,"mat-icon",33),t.k0s(),t.j41(10,"div",34)(11,"button",35),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.editMPermission(o))}),t.nrm(12,"mat-icon",36),t.k0s(),t.j41(13,"button",35),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.deleteMPermission(o))}),t.nrm(14,"mat-icon",36),t.k0s()()()}if(2&n){const e=r.$implicit;t.R7$(2),t.SpI(" ",e.name," "),t.R7$(2),t.SpI(" ",e.slug," "),t.R7$(2),t.SpI(" ",e.description," "),t.R7$(2),t.vxM(8,e.mandatory?8:-1),t.R7$(),t.vxM(9,e.mandatory?-1:9),t.R7$(3),t.Y8G("svgIcon","mat_solid:edit"),t.R7$(2),t.Y8G("svgIcon","mat_solid:delete")}}function Oi(n,r){1&n&&t.Z7z(0,zi,15,7,"div",39,t.BUC().trackByFn),2&n&&t.Dyx(r)}function Qi(n,r){if(1&n&&(t.j41(0,"div",23)(1,"div",24)(2,"div",25),t.EFF(3," Nombre "),t.k0s(),t.j41(4,"div",25),t.EFF(5," Slug "),t.k0s(),t.j41(6,"div",26),t.EFF(7," Descripci\xf3n "),t.k0s(),t.j41(8,"div",27),t.EFF(9," Obligatorio "),t.k0s(),t.j41(10,"div",28),t.EFF(11," Acciones "),t.k0s()(),t.DNE(12,Oi,2,0),t.nI1(13,"async"),t.k0s()),2&n){const e=t.XpG(2);let i;t.R7$(2),t.Y8G("mat-sort-header","name"),t.R7$(2),t.Y8G("mat-sort-header","slug"),t.R7$(4),t.Y8G("mat-sort-header","mandatory"),t.R7$(4),t.vxM(12,(i=t.bMT(13,4,e.modules$))?12:-1,i)}}function Ui(n,r){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.searchInputControl.value?"\xa1No se han encontrado grupos!":"\xa1No se ha creado ning\xfan grupo a\xfan!","")}}function Wi(n,r){1&n&&t.DNE(0,Qi,14,6,"div",22)(1,Ui,2,1),2&n&&t.vxM(0,r.length>0?0:1)}const Hi=n=>({"pointer-events-none":n}),Ji=()=>[10,25,50,100];function Ki(n,r){if(1&n&&t.nrm(0,"mat-paginator",41),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(6,Hi,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.lJ4(8,Ji))("showFirstLastButtons",!0)}}let Zi=(()=>{class n{constructor(){this.dialog=(0,t.WQX)(R.bZ),this.isLoading=!1,this.searchInputControl=new l.MJ(null),this._changeDetectorRef=(0,t.WQX)(t.gRc),this._fuseConfirmationService=(0,t.WQX)(D.G),this._moduleService=(0,t.WQX)(ct),this._snackBar=(0,t.WQX)(X.UG),this._unsubscribeAll=new E.B,this.store=(0,t.WQX)(h.il)}ngOnInit(){this.modules$=this.store.select(lt),this.store.select(M.D).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,_.Q)(this._unsubscribeAll),(0,H.B)(300),(0,G.Z)(null),(0,w.n)(e=>null!==e?(this.isLoading=!0,this._moduleService.getPaginatedMPermissions(0,10,"name","asc",e)):(0,j.of)()),(0,f.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,O.h)(this._sort.sortChange,this._paginator.page).pipe((0,w.n)(()=>(this.isLoading=!0,this._moduleService.getPaginatedMPermissions(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,f.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createMPermission(){this._openDialog(null,"add")}editMPermission(e){this._openDialog(e,"edit")}deleteMPermission(e){this._fuseConfirmationService.open({title:"Eliminar Submodule",message:`\xbfEst\xe1 seguro que desea eliminar el grupo ${e.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._moduleService.removePermission(e.id,this.pagination.page,this.pagination.size,"name","desc").subscribe(({errors:o})=>{o||this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"data.paginatedRemoveMPermission.message",title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}trackByFn(e,i){return i.id||e}_openDialog(e,i){this.dialog.open(Xi,{data:{mPermission:e,dialogMode:i},disableClose:!0,panelClass:"ath-nrp-dialog-panel"})}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["settings-m-permissions"]],viewQuery:function(i,a){if(1&i&&(t.GBs(I.iy,5),t.GBs($.B4,5)),2&i){let o;t.mGM(o=t.lsd())&&(a._paginator=o.first),t.mGM(o=t.lsd())&&(a._sort=o.first)}},standalone:!0,features:[t.aNF],decls:34,vars:15,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","sm:mt-0","shrink-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-col","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","m-permissions-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","m-permissions-table","md:px-8"],[1,"truncate"],[1,"mr-4","text-center"],["class","text-green-400 icon-size-5",3,"svgIcon"],["class","text-red-400 icon-size-5",3,"svgIcon"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],["class","grid items-center gap-4 px-6 py-3 border-b m-permissions-table md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,a){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),t.EFF(7,"Inicio"),t.k0s()(),t.j41(8,"div",4),t.nrm(9,"mat-icon",6),t.j41(10,"a",7),t.EFF(11,"Subm\xf3dulos"),t.k0s()()(),t.j41(12,"div",8)(13,"a",9),t.nrm(14,"mat-icon",6),t.j41(15,"span",10),t.EFF(16,"Regresar"),t.k0s()()()(),t.j41(17,"div",11)(18,"div",12),t.EFF(19," Gesti\xf3n de subm\xf3dulos "),t.k0s()()(),t.j41(20,"div",13)(21,"mat-form-field",14),t.nrm(22,"mat-icon",15)(23,"input",16),t.k0s(),t.j41(24,"button",17),t.bIt("click",function(){return a.createMPermission()}),t.nrm(25,"mat-icon",18),t.j41(26,"span",19),t.EFF(27,"Nuevo"),t.k0s()()()(),t.j41(28,"div",20)(29,"div",20),t.DNE(30,Wi,2,1),t.nI1(31,"async"),t.k0s(),t.DNE(32,Ki,1,9,"mat-paginator",21),t.nI1(33,"async"),t.k0s()()),2&i){let o;t.R7$(9),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(4),t.Y8G("routerLink","./.."),t.R7$(),t.Y8G("svgIcon","mat_solid:chevron_left"),t.R7$(7),t.Y8G("subscriptSizing","dynamic"),t.R7$(),t.Y8G("svgIcon","mat_solid:search"),t.R7$(),t.Y8G("formControl",a.searchInputControl)("autocomplete","off")("placeholder","Escriba para filtrar"),t.R7$(2),t.Y8G("svgIcon","mat_solid:add"),t.R7$(5),t.vxM(30,(o=t.bMT(31,11,a.modules$))?30:-1,o),t.R7$(2),t.vxM(32,t.bMT(33,13,a.modules$).length>0?32:-1)}},dependencies:[x.Jj,b.Hl,b.$z,u.RG,u.rl,u.JW,y.m_,y.An,T.fS,T.fg,I.Ou,I.iy,L.mV,$.NQ,$.B4,$.aE,x.YU,l.X1,l.me,l.BC,l.l_,Y.Wk],encapsulation:2,data:{animation:ot.X},changeDetection:0})}return n})();var re=c(41791),se=c(66407);function qi(n,r){1&n&&t.nrm(0,"mat-icon",43),2&n&&t.Y8G("svgIcon","mat_solid:done")}function tn(n,r){1&n&&t.nrm(0,"mat-icon",44),2&n&&t.Y8G("svgIcon","mat_solid:close")}function en(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-slide-toggle",45),t.bIt("change",function(a){t.eBV(e);const o=t.XpG(),s=o.$implicit,p=o.$index,k=t.XpG(4);return t.Njj(k.updateGModuleStatus(a,s,p))}),t.k0s()}if(2&n){const e=t.XpG().$implicit;t.Y8G("checked",e.active)("color","primary")}}function nn(n,r){1&n&&t.nrm(0,"mat-spinner",38),2&n&&t.Y8G("diameter",20)("color","primary")}const an=()=>["USD "],on=n=>[n];function rn(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",30)(1,"div",31),t.EFF(2),t.k0s(),t.j41(3,"div",31),t.EFF(4),t.k0s(),t.j41(5,"div",32),t.EFF(6),t.nI1(7,"currency"),t.k0s(),t.j41(8,"div",33),t.DNE(9,qi,1,1,"mat-icon",34)(10,tn,1,1,"mat-icon",35),t.k0s(),t.j41(11,"div",36),t.DNE(12,en,1,2,"mat-slide-toggle",37)(13,nn,1,2,"mat-spinner",38),t.k0s(),t.j41(14,"div",39)(15,"button",40),t.nrm(16,"mat-icon",41),t.k0s(),t.j41(17,"button",42),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(4);return t.Njj(s.deleteGModule(o))}),t.nrm(18,"mat-icon",41),t.k0s()()()}if(2&n){const e=r.$implicit,i=r.$index,a=t.XpG(4);t.R7$(2),t.SpI(" ",e.name," "),t.R7$(2),t.SpI(" ",e.description," "),t.R7$(2),t.SpI(" ",t.i5U(7,10,e.price,t.lJ4(13,an))," "),t.R7$(3),t.vxM(9,e.mandatory?9:-1),t.R7$(),t.vxM(10,e.mandatory?-1:10),t.R7$(2),t.vxM(12,a.isLoading&&a.selectedSlide===i?-1:12),t.R7$(),t.vxM(13,a.isLoading&&a.selectedSlide===i?13:-1),t.R7$(2),t.Y8G("routerLink",t.eq3(14,on,e.id)),t.R7$(),t.Y8G("svgIcon","heroicons_solid:pencil"),t.R7$(2),t.Y8G("svgIcon","heroicons_solid:trash")}}function sn(n,r){1&n&&t.Z7z(0,rn,19,16,"div",46,t.BUC().trackByFn),2&n&&t.Dyx(r)}function ln(n,r){if(1&n&&(t.j41(0,"div",23)(1,"div",24)(2,"div",25),t.EFF(3," Nombre "),t.k0s(),t.j41(4,"div",26),t.EFF(5," Descripci\xf3n "),t.k0s(),t.j41(6,"div",27),t.EFF(7," precio "),t.k0s(),t.j41(8,"div",28)(9,"span"),t.EFF(10," Obligatorio"),t.k0s()(),t.j41(11,"div",28)(12,"span"),t.EFF(13,"Activo"),t.k0s()(),t.j41(14,"div",29),t.EFF(15," Acciones "),t.k0s()(),t.DNE(16,sn,2,0),t.nI1(17,"async"),t.k0s()),2&n){const e=t.XpG(2);let i;t.R7$(2),t.Y8G("mat-sort-header","name"),t.R7$(4),t.Y8G("mat-sort-header","prise"),t.R7$(2),t.Y8G("mat-sort-header","mandatory"),t.R7$(3),t.Y8G("mat-sort-header","active"),t.R7$(5),t.vxM(16,(i=t.bMT(17,5,e.modules$))?16:-1,i)}}function cn(n,r){if(1&n&&(t.j41(0,"div",47),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.searchInputControl.value?"\xa1No se han encontrado m\xf3dulos!":"\xa1No se ha creado ning\xfan m\xf3dulo a\xfan!","")}}function dn(n,r){1&n&&t.DNE(0,ln,18,7,"div",22)(1,cn,2,1),2&n&&t.vxM(0,r.length>0?0:1)}const mn=n=>({"pointer-events-none":n}),pn=()=>[10,25,50,100];function un(n,r){if(1&n&&t.nrm(0,"mat-paginator",48),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(6,mn,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.lJ4(8,pn))("showFirstLastButtons",!0)}}const hn=()=>["new"];let gn=(()=>{class n{constructor(e,i,a,o,s,p){this._changeDetectorRef=e,this._fuseConfirmationService=i,this._snackBar=a,this.dialog=o,this._moduleService=s,this.store=p,this.searchInputControl=new l.MJ(null),this.isLoading=!1,this.selectedSlide=null,this._unsubscribeAll=new E.B}ngOnInit(){this.modules$=this.store.select(re.Nh),this.store.select(M.D).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,_.Q)(this._unsubscribeAll),(0,H.B)(300),(0,G.Z)(null),(0,w.n)(e=>null!==e?(this.isLoading=!0,this._moduleService.getGModules(0,10,"name","asc",e)):(0,j.of)()),(0,f.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,O.h)(this._sort.sortChange,this._paginator.page).pipe((0,w.n)(()=>(this.isLoading=!0,this._moduleService.getGModules(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,f.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateGModuleStatus(e,i,a){this.isLoading=!0,this.selectedSlide=a,this._moduleService.updateGModuleStatus({id:i.id,active:e.checked}).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(o=>{o&&(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1),this._changeDetectorRef.markForCheck()})}deleteGModule(e){this._fuseConfirmationService.open({title:"Eliminar m\xf3dulo",message:`\xbfEst\xe1 seguro que desea eliminar el m\xf3dulo ${e.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._moduleService.removeGModule(e.id,this.pagination.page,this.pagination.size,"name","desc").pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({data:o})=>{o&&this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:o.paginatedRemoveGModule.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}trackByFn(e,i){return i.id||e}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.gRc),t.rXU(D.G),t.rXU(X.UG),t.rXU(R.bZ),t.rXU(se.K),t.rXU(h.il))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["settings-g-module"]],viewQuery:function(i,a){if(1&i&&(t.GBs(I.iy,5),t.GBs($.B4,5)),2&i){let o;t.mGM(o=t.lsd())&&(a._paginator=o.first),t.mGM(o=t.lsd())&&(a._sort=o.first)}},standalone:!0,features:[t.aNF],decls:34,vars:17,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","sm:mt-0","shrink-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-col","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","g-modules-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"flex","justify-end",3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-1","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","g-modules-table","md:px-8"],[1,"truncate"],[1,"mr-4","text-right"],[1,"mr-4","text-center"],["class","text-green-400 icon-size-5",3,"svgIcon"],["class","text-red-400 icon-size-5",3,"svgIcon"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b g-modules-table md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,a){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),t.EFF(7,"Inicio"),t.k0s()(),t.j41(8,"div",4),t.nrm(9,"mat-icon",6),t.j41(10,"a",7),t.EFF(11,"M\xf3dulos"),t.k0s()()(),t.j41(12,"div",8)(13,"a",9),t.nrm(14,"mat-icon",6),t.j41(15,"span",10),t.EFF(16,"Regresar"),t.k0s()()()(),t.j41(17,"div",11)(18,"div",12),t.EFF(19," Gesti\xf3n de m\xf3dulos "),t.k0s()()(),t.j41(20,"div",13)(21,"mat-form-field",14),t.nrm(22,"mat-icon",15)(23,"input",16),t.k0s(),t.j41(24,"button",17),t.nrm(25,"mat-icon",18),t.j41(26,"span",19),t.EFF(27,"Nuevo"),t.k0s()()()(),t.j41(28,"div",20)(29,"div",20),t.DNE(30,dn,2,1),t.nI1(31,"async"),t.k0s(),t.DNE(32,un,1,9,"mat-paginator",21),t.nI1(33,"async"),t.k0s()()),2&i){let o;t.R7$(9),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(4),t.Y8G("routerLink","./.."),t.R7$(),t.Y8G("svgIcon","mat_solid:chevron_left"),t.R7$(7),t.Y8G("subscriptSizing","dynamic"),t.R7$(),t.Y8G("svgIcon","mat_solid:search"),t.R7$(),t.Y8G("formControl",a.searchInputControl)("autocomplete","off")("placeholder","Buscar m\xf3dulo"),t.R7$(),t.Y8G("routerLink",t.lJ4(16,hn)),t.R7$(),t.Y8G("svgIcon","mat_solid:add"),t.R7$(5),t.vxM(30,(o=t.bMT(31,12,a.modules$))?30:-1,o),t.R7$(2),t.vxM(32,t.bMT(33,14,a.modules$).length>0?32:-1)}},dependencies:[x.Jj,x.oe,b.Hl,b.$z,u.RG,u.rl,u.JW,y.m_,y.An,T.fS,T.fg,I.Ou,I.iy,A.D6,A.LG,L.mV,L.sG,$.NQ,$.B4,$.aE,x.YU,l.X1,l.me,l.BC,l.l_,Y.Wk],styles:[".g-modules-table{grid-template-columns:100px 300px 100px 80px 80px auto}@media (min-width: 960px){.g-modules-table{grid-template-columns:20% 30% 110px 100px 100px auto}}@media (min-width: 1280px){.g-modules-table{grid-template-columns:20% 40% 120px 100px 100px auto}}\n"],encapsulation:2,data:{animation:ot.X},changeDetection:0})}return n})();var dt=c(9454),ft=c(55542);function _n(n,r){1&n&&(t.j41(0,"div",4),t.nrm(1,"mat-icon",6),t.j41(2,"a",55),t.EFF(3,"Nuevo"),t.k0s()()),2&n&&(t.R7$(),t.Y8G("svgIcon","mat_solid:chevron_right"))}function bn(n,r){1&n&&(t.j41(0,"span"),t.EFF(1,"Nuevo M\xf3dulo"),t.k0s())}function fn(n,r){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI("Informaci\xf3n de ",e.selectedGModule.name,"")}}const vt=n=>({"cursor-not-allowed":n});function vn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.createGModule())}),t.nrm(1,"mat-icon",57),t.j41(2,"span",58),t.EFF(3,"Guardar"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.gModuleForm.invalid)("ngClass",t.eq3(3,vt,e.gModuleForm.invalid)),t.R7$(),t.Y8G("svgIcon","mat_solid:save")}}function xn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.updateGModule())}),t.nrm(1,"mat-icon",57),t.j41(2,"span",58),t.EFF(3,"Actualizar"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.gModuleForm.invalid)("ngClass",t.eq3(3,vt,e.gModuleForm.invalid)),t.R7$(),t.Y8G("svgIcon","mat_solid:refresh")}}function Cn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre del m\xf3dulo es obligatorio. "),t.k0s())}function kn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre del m\xf3dulo debe contener entre 3 y 255 caracteres. "),t.k0s())}function Fn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El precio del m\xf3dulo es obligatorio "),t.k0s())}function yn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El precio del m\xf3dulo debe ser mayor que 0 "),t.k0s())}function Rn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El priceo del m\xf3dulo es obligatorio "),t.k0s())}function In(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El precio del m\xf3dulo debe ser mayor que 0 "),t.k0s())}function Mn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La descripci\xf3n del m\xf3dulo debe contener al menos 5 caracteres. "),t.k0s())}function Tn(n,r){1&n&&(t.j41(0,"mat-label"),t.EFF(1,"Nombre"),t.k0s())}function En(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre de la caracter\xedstica es obligatorio "),t.k0s())}function Dn(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," El nombre de la caracter\xedstica debe contener entre 3 y 255 caracteres. "),t.k0s())}function Nn(n,r){1&n&&(t.j41(0,"mat-label"),t.EFF(1,"Descripci\xf3n"),t.k0s())}function $n(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," La descripci\xf3n de la caracter\xedstica debe contener entre 3 y 1000 caracteres. "),t.k0s())}function Gn(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",59)(1,"mat-form-field",60),t.DNE(2,Tn,2,0,"mat-label"),t.nrm(3,"input",61),t.DNE(4,En,2,0,"mat-error")(5,Dn,2,0,"mat-error"),t.k0s(),t.j41(6,"mat-form-field",62),t.DNE(7,Nn,2,0,"mat-label"),t.nrm(8,"mat-icon",40)(9,"textarea",63),t.DNE(10,$n,2,0,"mat-error"),t.k0s(),t.qex(11),t.j41(12,"div",64)(13,"button",65),t.bIt("click",function(){const o=t.eBV(e).$index,s=t.XpG();return t.Njj(s.removeFeatureField(o))}),t.nrm(14,"mat-icon",48),t.k0s()(),t.bVm(),t.k0s()}if(2&n){const e=r.$implicit,i=r.$index;t.R7$(2),t.vxM(2,0===i?2:-1),t.R7$(),t.Y8G("formControl",e.get("name"))("minlength",3)("maxlength",255)("placeholder","Nombre de la caracter\xedstica"),t.R7$(),t.vxM(4,e.get("name").hasError("required")?4:-1),t.R7$(),t.vxM(5,e.get("name").hasError("maxlength")||e.get("name").hasError("minlength")?5:-1),t.R7$(2),t.vxM(7,0===i?7:-1),t.R7$(),t.Y8G("svgIcon","mat_solid:subject"),t.R7$(),t.Y8G("formControl",e.get("description"))("placeholder","Descripci\xf3n de la caracter\xedstica")("minLength",3)("maxLength",1e3),t.R7$(),t.vxM(10,e.get("description").hasError("maxlength")||e.get("description").hasError("minlength")?10:-1),t.R7$(4),t.Y8G("svgIcon","heroicons_solid:trash")}}function Sn(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",66)(1,"div",67)(2,"mat-checkbox",68),t.bIt("change",function(a){const s=t.eBV(e).$index,p=t.XpG();return t.Njj(p.markModule(a,s))}),t.k0s(),t.j41(3,"span",69),t.EFF(4),t.k0s()(),t.j41(5,"div",70),t.EFF(6),t.k0s()()}if(2&n){const e=r.$implicit;t.R7$(2),t.Y8G("color","primary")("checked",e.checked),t.R7$(2),t.SpI(" ",e.name," "),t.R7$(2),t.SpI(" ",e.description," ")}}function jn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.createGModule())}),t.nrm(1,"mat-icon",57),t.j41(2,"span",58),t.EFF(3,"Guardar"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.gModuleForm.invalid)("ngClass",t.eq3(3,vt,e.gModuleForm.invalid)),t.R7$(),t.Y8G("svgIcon","mat_solid:save")}}function wn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.updateGModule())}),t.nrm(1,"mat-icon",57),t.j41(2,"span",58),t.EFF(3,"Actualizar"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.gModuleForm.invalid)("ngClass",t.eq3(3,vt,e.gModuleForm.invalid)),t.R7$(),t.Y8G("svgIcon","mat_solid:refresh")}}let Pn=(()=>{class n{constructor(){this.mPermissions=[],this._activatedRoute=(0,t.WQX)(Y.nX),this._changeDetectorRef=(0,t.WQX)(t.gRc),this._formBuilder=(0,t.WQX)(l.ok),this._fuseConfirmationService=(0,t.WQX)(D.G),this._gModulesService=(0,t.WQX)(se.K),this._router=(0,t.WQX)(Y.Ix),this._snackBar=(0,t.WQX)(X.UG),this._unsubscribeAll=new E.B,this.store=(0,t.WQX)(h.il)}ngOnInit(){this.store.select(lt).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.mPermissions=[...e].map(i=>({...i,checked:!1}))}),this.store.select(re.oy).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.selectedGModule=e}),this.gModuleForm=this._formBuilder.group({id:[""],name:["",[l.k0.required,l.k0.minLength(3),l.k0.maxLength(255)]],active:[!0],price:[0,[l.k0.required,l.k0.min(0),l.k0.max(999999999),l.k0.maxLength(9)]],uom:["mes",[l.k0.required]],mandatory:[!1],features:this._formBuilder.array([]),description:["",[l.k0.minLength(5),l.k0.maxLength(1e3)]]}),this._activatedRoute.params.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({gModuleId:e})=>{this.windowsMode="new"===e?"new":"edit",this._fillGModuleData(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addFeatureField(){const e=this._formBuilder.group({name:["",[l.k0.required,l.k0.minLength(3),l.k0.maxLength(255)]],description:["",[l.k0.minLength(5),l.k0.maxLength(1e3)]]});this.gModuleForm.get("features").push(e),this._changeDetectorRef.markForCheck()}removeFeatureField(e){this.gModuleForm.get("features").removeAt(e),this._changeDetectorRef.markForCheck()}createGModule(){let e=this.gModuleForm.getRawValue();e.permissionsId=this.mPermissions.filter(a=>!0===a.checked).map(a=>a.id),e=(0,P.A)(e,"id"),this._fuseConfirmationService.open({title:"Crear M\xf3dulo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._gModulesService.createGModule(e).subscribe(({errors:o})=>{o||(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"M\xf3dulo creado correctamente",title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/settings/g-modules"))})})}updateGModule(){const e=this.gModuleForm.getRawValue();e.permissionsId=this.mPermissions.filter(a=>!0===a.checked).map(a=>a.id),this._fuseConfirmationService.open({title:"Actualizar M\xf3dulo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._gModulesService.updateGModule(e).subscribe(({errors:o})=>{o||(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"M\xf3dulo actualizado correctamente",title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/settings/g-modules"))})})}markModule(e,i){this.mPermissions[i].checked=e.checked,this._changeDetectorRef.markForCheck()}trackByFn(e,i){return i.id||e}_fillGModuleData(){if("edit"===this.windowsMode){this.gModuleForm.patchValue(this.selectedGModule),this.gModuleForm.get("features").clear();const e=[];this.selectedGModule.features.length>0&&this.selectedGModule.features.forEach(a=>{e.push(this._formBuilder.group({name:[a.name,[l.k0.required,l.k0.minLength(3),l.k0.maxLength(255)]],description:[a.description,[l.k0.minLength(5),l.k0.maxLength(1e3)]]}))}),e.forEach(a=>{this.gModuleForm.get("features").push(a)});const i=[...this.selectedGModule.permissions].map(a=>({...a,checked:!0}));this.mPermissions=[...i,...this.mPermissions]}}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["g-module-detail"]],standalone:!0,features:[t.aNF],decls:121,vars:54,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/settings/g-modules/",1,"ml-1","text-primary-500","hover:underline"],["class","flex items-center ml-1 whitespace-nowrap"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","px-4","pt-8","pb-8","border-t-2","sm:grid-cols-3","gap-y-3","gap-x-6"],[1,"flex","flex-col","sm:col-span-1"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"hidden","w-full","grid-cols-3","md:grid"],[1,"col-span-2"],["matPrefix",""],["matInput","","type","number","min","0","max","999999999","maxlength","9","required","",3,"formControlName"],["matSuffix","","required","",3,"formControlName"],[3,"value"],[1,"flex","flex-col","items-center"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"md:hidden"],[1,"sm:col-span-3","md:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",1,"sm:h-26",3,"formControlName","rows","spellcheck","minlength","maxlength"],["desc",""],[1,"text-right"],[1,"mb-2","sm:mb-0","sm:mt-3",3,"color","formControlName"],[1,"flex","flex-col","md:hidden"],[1,"flex","flex-col","w-full","px-4","pt-8","pb-8","space-y-4","border-t-2"],[1,"inline-flex","items-center","px-4","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"flex","flex-col","w-full","px-4","pt-8","pb-8","border-t-2"],[1,"flex","flex-col"],[1,"flex","flex-wrap","w-full","gap-4","sm:grid","sm:grid-cols-3","md:grid-cols-4"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],[1,"ml-1","text-primary-500"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"grid","sm:grid-cols-8","gap-y-3","gap-x-6"],[1,"flex-auto","sm:col-span-2"],["type","text","matInput","","required","",3,"formControl","minlength","maxlength","placeholder"],[1,"flex-auto","w-full","sm:col-span-5","fuse-mat-textarea"],["matInput","","matInput","","matTextareaAutosize","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","self-end","w-10","mb-2","sm:items-center","sm:pl-2"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],[1,"w-full","p-3","overflow-hidden","border","border-dashed","rounded-sm","sm:w-auto","border-primary-700","max-h-30"],[1,"flex","flex-row","h-6"],[3,"color","checked","change"],[1,"font-medium","truncate"],[1,"whitespace-pre-line","text-md","text-hint","line-clamp-3"],["class","grid sm:grid-cols-8 gap-y-3 gap-x-6"],["class","w-full p-3 overflow-hidden border border-dashed rounded-sm sm:w-auto border-primary-700 max-h-30 "]],template:function(i,a){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),t.EFF(7,"Inicio"),t.k0s()(),t.j41(8,"div",4),t.nrm(9,"mat-icon",6),t.j41(10,"a",7),t.EFF(11,"M\xf3dulos de m\xf3dulos"),t.k0s()(),t.DNE(12,_n,4,1,"div",8),t.k0s(),t.j41(13,"div",9)(14,"a",10),t.nrm(15,"mat-icon",6),t.j41(16,"span",11),t.EFF(17,"Regresar"),t.k0s()()()(),t.j41(18,"div",12)(19,"div",13),t.DNE(20,bn,2,0,"span")(21,fn,2,1,"span"),t.k0s()()(),t.j41(22,"div",14),t.DNE(23,vn,4,5,"button",15)(24,xn,4,5,"button",15),t.k0s()(),t.j41(25,"div",16)(26,"div",17)(27,"form",18)(28,"mat-accordion",19)(29,"mat-expansion-panel",20)(30,"mat-expansion-panel-header",21)(31,"mat-panel-title",22)(32,"div",23),t.EFF(33," Informaci\xf3n General "),t.k0s()()(),t.j41(34,"div",24)(35,"div",25)(36,"mat-form-field",26)(37,"mat-label"),t.EFF(38,"Nombre"),t.k0s(),t.nrm(39,"input",27),t.DNE(40,Cn,2,0,"mat-error")(41,kn,2,0,"mat-error"),t.k0s(),t.j41(42,"div",28)(43,"mat-form-field",29)(44,"mat-label"),t.EFF(45,"Precio"),t.k0s(),t.j41(46,"span",30),t.EFF(47,"$"),t.k0s(),t.nrm(48,"input",31),t.j41(49,"mat-select",32)(50,"mat-select-trigger"),t.EFF(51),t.k0s(),t.j41(52,"mat-option",33),t.EFF(53," Empleado"),t.k0s(),t.j41(54,"mat-option",33),t.EFF(55," Mes"),t.k0s()(),t.DNE(56,Fn,2,0,"mat-error")(57,yn,2,0,"mat-error"),t.k0s(),t.j41(58,"div",34)(59,"span",35),t.EFF(60,"Estado"),t.k0s(),t.j41(61,"mat-slide-toggle",36),t.EFF(62),t.k0s()()()(),t.j41(63,"mat-form-field",37)(64,"mat-label"),t.EFF(65,"Precio"),t.k0s(),t.j41(66,"span",30),t.EFF(67,"$"),t.k0s(),t.nrm(68,"input",31),t.j41(69,"mat-select",32)(70,"mat-select-trigger"),t.EFF(71),t.k0s(),t.j41(72,"mat-option",33),t.EFF(73," Empleado"),t.k0s(),t.j41(74,"mat-option",33),t.EFF(75," Mes"),t.k0s()(),t.DNE(76,Rn,2,0,"mat-error")(77,In,2,0,"mat-error"),t.k0s(),t.j41(78,"div",38)(79,"mat-form-field",39)(80,"mat-label"),t.EFF(81,"Descripci\xf3n del M\xf3dulo"),t.k0s(),t.nrm(82,"mat-icon",40)(83,"textarea",41,42),t.DNE(85,Mn,2,0,"mat-error"),t.j41(86,"mat-hint",43),t.EFF(87),t.k0s()()(),t.j41(88,"mat-checkbox",44),t.EFF(89," Obligatorio"),t.k0s(),t.j41(90,"div",45)(91,"span",35),t.EFF(92,"Estado"),t.k0s(),t.j41(93,"mat-slide-toggle",36),t.EFF(94),t.k0s()()()(),t.j41(95,"mat-expansion-panel")(96,"mat-expansion-panel-header",21)(97,"mat-panel-title",22)(98,"div",23),t.EFF(99," Caracter\xedsticas "),t.k0s()()(),t.j41(100,"div",46),t.Z7z(101,Gn,15,15,"div",71,a.trackByFn),t.j41(103,"div",47),t.bIt("click",function(){return a.addFeatureField()}),t.nrm(104,"mat-icon",48),t.j41(105,"span",49),t.EFF(106,"Agregar caracter\xedstica"),t.k0s()()()(),t.j41(107,"mat-expansion-panel")(108,"mat-expansion-panel-header",21)(109,"mat-panel-title",22)(110,"div",23),t.EFF(111," Subm\xf3dulos "),t.k0s()()(),t.j41(112,"div",50)(113,"div",51)(114,"div",52),t.Z7z(115,Sn,7,4,"div",72,t.fX1),t.k0s()()()()()()()(),t.j41(117,"div",53)(118,"div",54),t.DNE(119,jn,4,5,"button",15)(120,wn,4,5,"button",15),t.k0s()()()),2&i){const o=t.sdS(84);t.R7$(9),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(3),t.vxM(12,"new"===a.windowsMode?12:-1),t.R7$(2),t.Y8G("routerLink","./.."),t.R7$(),t.Y8G("svgIcon","mat_solid:chevron_left"),t.R7$(5),t.vxM(20,"new"===a.windowsMode?20:-1),t.R7$(),t.vxM(21,"edit"===a.windowsMode&&a.selectedGModule?21:-1),t.R7$(2),t.vxM(23,"new"===a.windowsMode?23:-1),t.R7$(),t.vxM(24,"new"!==a.windowsMode?24:-1),t.R7$(3),t.Y8G("formGroup",a.gModuleForm)("autocomplete","off"),t.R7$(2),t.Y8G("expanded",!0),t.R7$(),t.Y8G("collapsedHeight","56px"),t.R7$(9),t.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del m\xf3dulo"),t.R7$(),t.vxM(40,a.gModuleForm.get("name").hasError("required")?40:-1),t.R7$(),t.vxM(41,a.gModuleForm.get("name").hasError("maxlength")||a.gModuleForm.get("name").hasError("minlength")?41:-1),t.R7$(7),t.Y8G("formControlName","price"),t.R7$(),t.Y8G("formControlName","uom"),t.R7$(2),t.SpI(" / ",a.gModuleForm.get("uom").value," "),t.R7$(),t.Y8G("value","empleado"),t.R7$(2),t.Y8G("value","mes"),t.R7$(2),t.vxM(56,a.gModuleForm.get("price").hasError("required")?56:-1),t.R7$(),t.vxM(57,a.gModuleForm.get("price").hasError("min")?57:-1),t.R7$(4),t.Y8G("formControlName","active")("color","primary"),t.R7$(),t.SpI(" ",!0===a.gModuleForm.get("active").value?"Activo":"Inactivo"," "),t.R7$(6),t.Y8G("formControlName","price"),t.R7$(),t.Y8G("formControlName","uom"),t.R7$(2),t.SpI(" / ",a.gModuleForm.get("uom").value," "),t.R7$(),t.Y8G("value","empleado"),t.R7$(2),t.Y8G("value","mes"),t.R7$(2),t.vxM(76,a.gModuleForm.get("price").hasError("required")?76:-1),t.R7$(),t.vxM(77,a.gModuleForm.get("price").hasError("min")?77:-1),t.R7$(5),t.Y8G("svgIcon","mat_solid:subject"),t.R7$(),t.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),t.R7$(2),t.vxM(85,a.gModuleForm.get("description").hasError("minlength")?85:-1),t.R7$(2),t.SpI("Total de caracteres ",o.value.length," / 1000"),t.R7$(),t.Y8G("color","primary")("formControlName","mandatory"),t.R7$(5),t.Y8G("formControlName","active")("color","primary"),t.R7$(),t.SpI(" ",!0===a.gModuleForm.get("active").value?"Activo":"Inactivo"," "),t.R7$(2),t.Y8G("collapsedHeight","56px"),t.R7$(5),t.Dyx(a.gModuleForm.get("features").controls),t.R7$(3),t.Y8G("svgIcon","heroicons_solid:plus-circle"),t.R7$(4),t.Y8G("collapsedHeight","56px"),t.R7$(7),t.Dyx(a.mPermissions),t.R7$(4),t.vxM(119,"new"===a.windowsMode?119:-1),t.R7$(),t.vxM(120,"new"!==a.windowsMode?120:-1)}},dependencies:[b.Hl,b.$z,b.iY,F.g7,F.So,dt.MY,dt.BS,dt.GK,dt.Z2,dt.WN,u.RG,u.rl,u.nJ,u.MV,u.TL,u.JW,u.yw,y.m_,y.An,T.fS,T.fg,z.Ve,ft.uv,z.VO,z.$2,Q.wT,L.mV,L.sG,x.YU,l.X1,l.qT,l.me,l.Q0,l.BC,l.cb,l.YS,l.xh,l.tU,l.VZ,l.zX,l.l_,l.j4,l.JD,Y.Wk],encapsulation:2,changeDetection:0})}return n})();const An=(0,h.Mz)(n=>n.traces,n=>n.traces),Ln=(n,r,e,i)=>({"text-blue-300":n,"text-red-300":r,"text-yellow-300":e,"text-white":i});function Xn(n,r){if(1&n&&(t.qex(0),t.j41(1,"span",14),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.bVm()),2&n){const e=r.$implicit;t.R7$(),t.Y8G("ngClass",t.ziG(8,Ln,"INFO"===e.type,"ERROR"===e.type,"SUCCESS"===e.type,"START"===e.type)),t.R7$(),t.LHq(" ",t.i5U(3,5,e.createdAt,"dd/MM/yy hh:mm a")," - [",e.serviceName,"] - ",e.type," - ",e.description," ")}}let Yn=(()=>{class n{constructor(){this.traces=[],this._unsubscribeAll=new E.B,this._changeDetectorRef=(0,t.WQX)(t.gRc),this.store=(0,t.WQX)(h.il)}ngOnInit(){this.store.select(An).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.traces=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["settings-traces"]],standalone:!0,features:[t.aNF],decls:22,vars:3,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"flex","flex-auto","p-6","overflow-hidden"],[1,"bg-slate-900","rounded-md","p-3","w-full","flex","flex-col","overflow-hidden","sm:overflow-y-auto"],[4,"ngFor","ngForOf"],[1,"hover:bg-card","px-1","cursor-default","rounded-sm","text-xs","hover:text-md","transition-all","ease-in-out","duration-300",3,"ngClass"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.EFF(6,"Inicio"),t.k0s()(),t.j41(7,"div",5),t.nrm(8,"mat-icon",6),t.j41(9,"a",7),t.EFF(10,"Ajustes"),t.k0s()(),t.j41(11,"div",5),t.nrm(12,"mat-icon",6),t.j41(13,"a",7),t.EFF(14,"Trazas"),t.k0s()()(),t.j41(15,"div",8)(16,"h2",9),t.EFF(17," Registro de Trazas "),t.k0s()()(),t.nrm(18,"div",10),t.k0s(),t.j41(19,"div",11)(20,"div",12),t.DNE(21,Xn,4,13,"ng-container",13),t.k0s()()()),2&i&&(t.R7$(8),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(4),t.Y8G("svgIcon","mat_solid:chevron_right"),t.R7$(9),t.Y8G("ngForOf",a.traces))},dependencies:[x.vh,y.m_,y.An,x.YU,x.pM],encapsulation:2})}return n})();var Vn=c(23301);let zn=(()=>{class n{constructor(e){this._moduleService=e}resolve(e,i){return this._moduleService.getPaginatedMPermissions()}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(ct))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),On=(()=>{class n{constructor(e){this._moduleService=e}resolve(e,i){return this._moduleService.getMPermissions()}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(ct))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qn=(()=>{class n{constructor(e){this._moduleService=e}resolve(e,i){return this._moduleService.getPermissionsNinModules()}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(ct))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Un=(()=>{class n{constructor(e){this._navigationService=e}resolve(e,i){return this._navigationService.getRootNavigationNodes()}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(v))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wn=c(71411),le=c(6319),Hn=c(26276);const Jn=J.J1`
    query FindTraces {
        findTraces {
            ok
            message

            traces {
                createdAt
                description
                id
                merchant {
                    name
                }
                merchantId
                serviceName
                type
                user {
                    name
                    lastname1
                    lastname2
                    fullname
                }
                userId
            }
        }
    }
`;let Kn=(()=>{class n{constructor(e,i){this.apolloProvider=e,this.store=i,this._apollo=this.apolloProvider.use(m.c.GRAPHQL_PROVIDER)}findTraces(){return this._apollo.query({query:Jn,errorPolicy:"all"}).pipe((0,q.M)(({data:e})=>{this.store.dispatch((0,Hn.Ht)({traces:e.findTraces.traces}))}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(J.Ic),t.KVO(h.il))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xt=c(90882),qn=c(70980),B=c(44136),Ct=c(53328),ta=c(71997),ce=c(82946),de=c(14823),ea=c(10223);function ia(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Este campo es obligatorio"),t.k0s())}function na(n,r){if(1&n&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI("La longitud m\xednima es de ",e.minlength," caracteres")}}function aa(n,r){if(1&n&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI("La longitud m\xe1xima es de ",e.maxlength," caracteres")}}function oa(n,r){if(1&n&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.JRh(e.matchError)}}function ra(n,r){if(1&n&&(t.j41(0,"mat-form-field",9)(1,"mat-label"),t.EFF(2),t.k0s(),t.nrm(3,"input",10),t.DNE(4,ia,2,0,"mat-error")(5,na,2,1,"mat-error")(6,aa,2,1,"mat-error")(7,oa,2,1,"mat-error"),t.j41(8,"mat-hint"),t.EFF(9),t.k0s()()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(3);t.Y8G("subscriptSizing","dynamic"),t.R7$(2),t.JRh(e.title),t.R7$(),t.Y8G("formControlName",e.name)("required",e.required)("minlength",e.minlength)("maxlength",e.maxlength),t.R7$(),t.vxM(4,i.moduleSettingsForm.get(e.name).hasError("required")?4:-1),t.R7$(),t.vxM(5,i.moduleSettingsForm.get(e.name).hasError("minlength")?5:-1),t.R7$(),t.vxM(6,i.moduleSettingsForm.get(e.name).hasError("maxlength")?6:-1),t.R7$(),t.vxM(7,i.moduleSettingsForm.get(e.name).hasError("pattern")?7:-1),t.R7$(2),t.JRh(null==e?null:e.description)}}function sa(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Este campo es obligatorio"),t.k0s())}function la(n,r){if(1&n&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI("La longitud m\xednima es de ",e.minlength," caracteres")}}function ca(n,r){if(1&n&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI("La longitud m\xe1xima es de ",e.maxlength," caracteres")}}function da(n,r){if(1&n&&(t.j41(0,"mat-form-field",11)(1,"mat-label"),t.EFF(2),t.k0s(),t.nrm(3,"textarea",12),t.DNE(4,sa,2,0,"mat-error")(5,la,2,1,"mat-error")(6,ca,2,1,"mat-error"),t.j41(7,"mat-hint"),t.EFF(8),t.k0s()()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(3);t.Y8G("subscriptSizing","dynamic"),t.R7$(2),t.JRh(e.title),t.R7$(),t.Y8G("formControlName",e.name)("required",e.required)("minlength",e.minlength)("maxlength",e.maxlength),t.R7$(),t.vxM(4,i.moduleSettingsForm.get(e.name).hasError("required")?4:-1),t.R7$(),t.vxM(5,i.moduleSettingsForm.get(e.name).hasError("minlength")?5:-1),t.R7$(),t.vxM(6,i.moduleSettingsForm.get(e.name).hasError("maxlength")?6:-1),t.R7$(2),t.JRh(null==e?null:e.description)}}function ma(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Este campo es obligatorio"),t.k0s())}function pa(n,r){if(1&n&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI("El valor m\xednimo es de ",e.min,"")}}function ua(n,r){if(1&n&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI("El Valor m\xe1xima es de ",e.max,"")}}function ha(n,r){if(1&n&&(t.j41(0,"mat-form-field",13)(1,"mat-label"),t.EFF(2),t.k0s(),t.nrm(3,"input",14),t.DNE(4,ma,2,0,"mat-error")(5,pa,2,1,"mat-error")(6,ua,2,1,"mat-error"),t.j41(7,"mat-hint"),t.EFF(8),t.k0s()()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(3);t.Y8G("subscriptSizing","dynamic"),t.R7$(2),t.JRh(e.title),t.R7$(),t.Y8G("formControlName",e.name)("required",e.required)("min",e.min)("max",e.max),t.R7$(),t.vxM(4,i.moduleSettingsForm.get(e.name).hasError("required")?4:-1),t.R7$(),t.vxM(5,i.moduleSettingsForm.get(e.name).hasError("min")?5:-1),t.R7$(),t.vxM(6,i.moduleSettingsForm.get(e.name).hasError("max")?6:-1),t.R7$(2),t.JRh(null==e?null:e.description)}}function ga(n,r){if(1&n&&(t.j41(0,"mat-checkbox",15),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.Y8G("matTooltip",null==e?null:e.description)("formControlName",e.name),t.R7$(),t.JRh(e.title)}}function _a(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Este campo es obligatorio"),t.k0s())}function ba(n,r){if(1&n&&(t.j41(0,"mat-form-field",9)(1,"mat-label"),t.EFF(2),t.k0s(),t.nrm(3,"input",16),t.DNE(4,_a,2,0,"mat-error"),t.j41(5,"mat-hint"),t.EFF(6),t.k0s()()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(3);t.Y8G("subscriptSizing","dynamic"),t.R7$(2),t.JRh(e.title),t.R7$(),t.Y8G("formControlName",e.name)("required",e.required),t.R7$(),t.vxM(4,i.moduleSettingsForm.get(e.name).hasError("required")?4:-1),t.R7$(2),t.JRh(null==e?null:e.description)}}function fa(n,r){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.name),t.R7$(),t.JRh(e.title)}}function va(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Este campo es obligatorio"),t.k0s())}function xa(n,r){if(1&n&&(t.j41(0,"mat-form-field",9)(1,"mat-label"),t.EFF(2),t.k0s(),t.j41(3,"mat-select",17),t.Z7z(4,fa,2,2,"mat-option",18,t.fX1),t.k0s(),t.DNE(6,va,2,0,"mat-error"),t.j41(7,"mat-hint"),t.EFF(8),t.k0s()()),2&n){const e=t.XpG(2).$implicit,i=t.XpG(3);t.Y8G("subscriptSizing","dynamic"),t.R7$(2),t.JRh(e.title),t.R7$(),t.Y8G("formControlName",e.name)("required",e.required),t.R7$(),t.Dyx(e.selectList),t.R7$(2),t.vxM(6,i.moduleSettingsForm.get(e.name).hasError("required")?6:-1),t.R7$(2),t.JRh(null==e?null:e.description)}}function Ca(n,r){if(1&n&&t.DNE(0,ra,10,11)(1,da,9,10)(2,ha,9,10)(3,ga,2,3)(4,ba,7,6)(5,xa,9,6),2&n){const e=t.XpG().$implicit;let i;t.vxM(0,"string"===(i=e.type)?0:"text"===i?1:"number"===i?2:"boolean"===i?3:"date"===i?4:"select"===i?5:-1)}}function ka(n,r){if(1&n&&t.DNE(0,Ca,6,1),2&n){const e=r.$implicit,i=t.XpG().$implicit;t.vxM(0,e.section===i?0:-1)}}function Fa(n,r){if(1&n&&(t.j41(0,"div",6),t.EFF(1),t.k0s(),t.j41(2,"div",7),t.Z7z(3,ka,1,1,null,null,t.fX1),t.k0s(),t.nrm(5,"mat-divider",8)),2&n){const e=r.$implicit,i=t.XpG(2);t.R7$(),t.JRh(e),t.R7$(2),t.Dyx(i.setting.fieldSettings)}}function ya(n,r){1&n&&(t.j41(0,"span"),t.EFF(1," Actualizar "),t.k0s())}function Ra(n,r){1&n&&t.nrm(0,"mat-progress-spinner",5),2&n&&t.Y8G("diameter",24)("mode","indeterminate")}function Ia(n,r){if(1&n){const e=t.RV6();t.j41(0,"form",2),t.bIt("ngSubmit",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.updateSettings())}),t.Z7z(1,Fa,6,1,null,null,t.fX1),t.j41(3,"div",3)(4,"button",4),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.updateSettings())}),t.DNE(5,ya,2,0,"span")(6,Ra,1,2,"mat-progress-spinner",5),t.k0s()()()}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.moduleSettingsForm),t.R7$(),t.Dyx(e.sections),t.R7$(3),t.Y8G("disabled",e.moduleSettingsForm.invalid)("color","primary"),t.R7$(),t.vxM(5,e.moduleSettingsForm.disabled?-1:5),t.R7$(),t.vxM(6,e.moduleSettingsForm.disabled?6:-1)}}let Ma=(()=>{class n{constructor(e,i,a,o){this._changeDetectorRef=e,this._formBuilder=i,this._settingsService=a,this._snackBar=o,this.sections=[],this.setting=null,this._unsubscribeAll=new E.B,this._fuseConfirmationService=(0,t.WQX)(D.G),this._store=(0,t.WQX)(h.il)}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}setSetting(e){Ct.H.IsNullOrEmpty(e)||(this.setting=e,this.sections=[...new Set(this.setting.fieldSettings.map(i=>i?.section))],Ct.H.IsNullOrEmpty(this.moduleSettingsForm)||this.moduleSettingsForm.reset(),this.createForm())}updateSettings(){const e=[];Object.keys(this.moduleSettingsForm.value).forEach(o=>{const s=this.moduleSettingsForm.value[o],p={id:this.setting.fieldSettings.find(k=>k.name===o&&k.id).id,type:"boolean"==typeof s?B.wI.boolean:"number"==typeof s?B.wI.number:B.wI.string,valueString:"string"==typeof s?s:null,valueNumber:"number"==typeof s?s:null,valueBoolean:"boolean"==typeof s?s:null,valueDate:s instanceof Date?s:null,valueList:Array.isArray(s)?s:null};e.push(p)});const i={settingId:this.setting.id,fieldSettings:e};this._fuseConfirmationService.open({title:"Actualizar Configuraci\xf3n",message:"\xbfEst\xe1 seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,_.Q)(this._unsubscribeAll)).subscribe(o=>{"confirmed"===o&&this._settingsService.updateFieldSettingsValues(i).pipe((0,_.Q)(this._unsubscribeAll),(0,qn.j)(()=>{this._changeDetectorRef.markForCheck()})).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(N.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{title:"Confirmaci\xf3n",message:s.updateFieldSettingsValues.message,type:"success",svgIcon:"mat_solid:done"}}),this.updateSettingsInStore())})})}createForm(){const e={};this.setting.fieldSettings.forEach(i=>{const a=[];i.required&&a.push(l.k0.required),(i.type===B.wI.string||i.type===B.wI.text||i.type===B.wI.select)&&i.maxlength&&a.push(l.k0.maxLength(i.maxlength)),(i.type===B.wI.string||i.type===B.wI.text||i.type===B.wI.select)&&i.minlength&&a.push(l.k0.minLength(i.minlength)),i.type===B.wI.number&&i.min&&a.push(l.k0.min(i.min)),i.type===B.wI.number&&i.max&&a.push(l.k0.max(i.max)),i.match&&a.push(l.k0.pattern(i.match)),e[i.name]=B.H6.getFieldSettingValue(i)}),this.moduleSettingsForm=this._formBuilder.group(e),this._changeDetectorRef.markForCheck()}updateSettingsInStore(){const e=this.moduleSettingsForm.value;this.setting.fieldSettings.forEach(i=>{"boolean"==typeof e[i.name]&&(i.valueBoolean=e[i.name]),"number"==typeof e[i.name]&&(i.valueNumber=e[i.name]),"string"==typeof e[i.name]&&(i.valueString=e[i.name]),e[i.name]instanceof Date&&(i.valueDate=e[i.name]),Array.isArray(e[i.name])&&(i.valueList=e[i.name])}),this.setting.type===B.OP.user&&this._store.dispatch((0,ce.P1)({setting:this.setting})),this.setting.type===B.OP.merchant&&this._store.dispatch((0,ce.Qf)({setting:this.setting}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.gRc),t.rXU(l.ze),t.rXU(ea.h),t.rXU(X.UG))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-module-settings"]],standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[1,"w-full","h-full","max-w-3xl"],[3,"formGroup"],[3,"formGroup","ngSubmit"],[1,"flex","items-center","justify-end"],["type","submit","mat-flat-button","","type","button",1,"ml-4",3,"disabled","color","click"],[3,"diameter","mode"],[1,"text-xl"],[1,"grid","gap-6","m-8","sm:grid-cols-4"],[1,"my-4"],[1,"sm:col-span-2",3,"subscriptSizing"],["matInput","","type","text",3,"formControlName","required","minlength","maxlength"],[1,"sm:col-span-4",3,"subscriptSizing"],["matInput","",3,"formControlName","required","minlength","maxlength"],[3,"subscriptSizing"],["matInput","","type","number",3,"formControlName","required","min","max"],["color","primary",3,"matTooltip","formControlName"],["matInput","","type","date",3,"formControlName","required"],[3,"formControlName","required"],[3,"value"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.DNE(1,Ia,7,5,"form",1),t.k0s()),2&i&&(t.R7$(),t.vxM(1,a.setting?1:-1))},dependencies:[b.Hl,b.$z,u.RG,u.rl,u.nJ,u.MV,u.TL,y.m_,T.fS,T.fg,z.Ve,z.VO,Q.wT,l.X1,l.qT,l.me,l.Q0,l.BC,l.cb,l.YS,l.xh,l.tU,l.VZ,l.zX,l.j4,l.JD,F.g7,F.So,A.D6,A.LG,ta.q,de.uc,de.oV],encapsulation:2,changeDetection:0})}return n})();var mt=c(76939),Kt=c(33726),Ta=c(983),Ea=c(71985),Da=c(1807),pt=c(18359),kt=c(36860),Zt=c(28203),Na=c(14085),me=c(18617),$a=c(65245),Ga=c(5964),Sa=c(23294),ja=c(72318),S=c(49969);function wa(n,r){1&n&&t.SdG(0)}const qt=["*"],Pa=["tabListContainer"],Ba=["tabList"],Aa=["tabListInner"],La=["nextPaginator"],Xa=["previousPaginator"];function Ya(n,r){}const Va=n=>({animationDuration:n}),za=(n,r)=>({value:n,params:r}),Oa=["tabBodyWrapper"],Qa=["tabHeader"];function Ua(n,r){}function Wa(n,r){if(1&n&&t.DNE(0,Ua,0,0,"ng-template",10),2&n){const e=t.XpG().$implicit;t.Y8G("cdkPortalOutlet",e.templateLabel)}}function Ha(n,r){if(1&n&&t.EFF(0),2&n){const e=t.XpG().$implicit;t.JRh(e.textLabel)}}function Ja(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",4,5),t.bIt("click",function(){const a=t.eBV(e),o=a.$implicit,s=a.$index,p=t.XpG(),k=t.sdS(1);return t.Njj(p._handleClick(o,k,s))})("cdkFocusChange",function(a){const s=t.eBV(e).$index,p=t.XpG();return t.Njj(p._tabFocusChanged(a,s))}),t.nrm(2,"span",6)(3,"div",7),t.j41(4,"span",8)(5,"span",9),t.DNE(6,Wa,1,1,null,10)(7,Ha,1,1),t.k0s()()()}if(2&n){const e=r.$implicit,i=r.$index,a=t.sdS(1),o=t.XpG();t.AVh("mdc-tab--active",o.selectedIndex===i),t.Y8G("id",o._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),t.BMQ("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),t.R7$(3),t.Y8G("matRippleTrigger",a)("matRippleDisabled",e.disabled||o.disableRipple),t.R7$(3),t.vxM(6,e.templateLabel?6:7)}}function Ka(n,r){1&n&&t.SdG(0)}function Za(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-tab-body",11),t.bIt("_onCentered",function(){t.eBV(e);const a=t.XpG();return t.Njj(a._removeTabBodyWrapperHeight())})("_onCentering",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o._setTabBodyWrapperHeight(a))}),t.k0s()}if(2&n){const e=r.$implicit,i=r.$index,a=t.XpG();t.AVh("mat-mdc-tab-body-active",a.selectedIndex===i),t.Y8G("id",a._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",a.animationDuration)("preserveContent",a.preserveContent),t.BMQ("tabindex",null!=a.contentTabIndex&&a.selectedIndex===i?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(i))("aria-hidden",a.selectedIndex!==i)}}const qa=new t.nKC("MatTabContent");let pe=(()=>{class n{constructor(e){this.template=e}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q))};static#e=this.\u0275dir=t.FsC({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[t.Jv_([{provide:qa,useExisting:n}])]})}return n})();const to=new t.nKC("MatTabLabel"),ue=new t.nKC("MAT_TAB");let eo=(()=>{class n extends mt.bV{constructor(e,i,a){super(e,i),this._closestTab=a}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q),t.rXU(t.c1b),t.rXU(ue,8))};static#e=this.\u0275dir=t.FsC({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[t.Jv_([{provide:to,useExisting:n}]),t.Vt3]})}return n})();const he=new t.nKC("MAT_TAB_GROUP");let ge=(()=>{class n{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,i){this._viewContainerRef=e,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new E.B,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new mt.VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.c1b),t.rXU(he,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["mat-tab"]],contentQueries:function(i,a,o){if(1&i&&(t.wni(o,eo,5),t.wni(o,pe,7,t.C4Q)),2&i){let s;t.mGM(s=t.lsd())&&(a.templateLabel=s.first),t.mGM(s=t.lsd())&&(a._explicitContent=s.first)}},viewQuery:function(i,a){if(1&i&&t.GBs(t.C4Q,7),2&i){let o;t.mGM(o=t.lsd())&&(a._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[t.Mj6.HasDecoratorInputTransform,"disabled","disabled",t.L39],textLabel:[t.Mj6.None,"label","textLabel"],ariaLabel:[t.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[t.Mj6.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[t.Jv_([{provide:ue,useExisting:n}]),t.GFd,t.OA$,t.aNF],ngContentSelectors:qt,decls:1,vars:0,template:function(i,a){1&i&&(t.NAR(),t.DNE(0,wa,1,0,"ng-template"))},encapsulation:2})}return n})();const te="mdc-tab-indicator--active",_e="mdc-tab-indicator--no-transition";class io{constructor(r){this._items=r}hide(){this._items.forEach(r=>r.deactivateInkBar())}alignToElement(r){const e=this._items.find(a=>a.elementRef.nativeElement===r),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const a=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(a),this._currentItem=e}}}function no(n){return class extends n{constructor(...r){super(...r),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(r){const e=(0,Na.he)(r);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(r){const e=this.elementRef.nativeElement;if(!r||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(te);const i=e.getBoundingClientRect(),a=r.width/i.width,o=r.left-i.left;e.classList.add(_e),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${a})`),e.getBoundingClientRect(),e.classList.remove(_e),e.classList.add(te),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(te)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const r=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=r.createElement("span"),this._inkBarContentElement=r.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const oo=no(class{});let be=(()=>{class n extends oo{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.aKT))};static#e=this.\u0275dir=t.FsC({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,a){2&i&&(t.BMQ("aria-disabled",!!a.disabled),t.AVh("mat-mdc-tab-disabled",a.disabled))},inputs:{fitInkBarToContent:"fitInkBarToContent",disabled:[t.Mj6.HasDecoratorInputTransform,"disabled","disabled",t.L39]},standalone:!0,features:[t.GFd,t.Vt3]})}return n})();const fe=(0,kt.BQ)({passive:!0});let lo=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(e,i,a,o,s,p,k){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=a,this._dir=o,this._ngZone=s,this._platform=p,this._animationMode=k,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new E.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new E.B,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new t.bkB,this.indexFocused=new t.bkB,s.runOutsideAngular(()=>{(0,Kt.R)(e.nativeElement,"mouseleave").pipe((0,_.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,Kt.R)(this._previousPaginator.nativeElement,"touchstart",fe).pipe((0,_.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Kt.R)(this._nextPaginator.nativeElement,"touchstart",fe).pipe((0,_.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:(0,j.of)("ltr"),i=this._viewportRuler.change(150),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new me.Bu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,d.s)(1)).subscribe(a),(0,O.h)(e,i,this._items.changes,this._itemsResized()).pipe((0,_.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),a()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?Ta.w:this._items.changes.pipe((0,G.Z)(this._items),(0,w.n)(e=>new Ea.c(i=>this._ngZone.runOutsideAngular(()=>{const a=new ResizeObserver(o=>i.next(o));return e.forEach(o=>a.observe(o.elementRef.nativeElement)),()=>{a.disconnect()}}))),(0,$a.i)(1),(0,Ga.p)(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!(0,Z.rp)(e))switch(e.keyCode){case Z.Fm:case Z.t6:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let p,k;"ltr"==this._getLayoutDirection()?(p=o,k=p+s):(k=this._tabListInner.nativeElement.offsetWidth-o,p=k-s);const nt=this.scrollDistance,Ce=this.scrollDistance+a;p<nt?this.scrollDistance-=nt-p:k>Ce&&(this.scrollDistance+=Math.min(k-Ce,p-nt))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),(0,Da.O)(650,100).pipe((0,_.Q)((0,O.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:a,distance:o}=this._scrollHeader(e);(0===o||o>=a)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(ft.Xj),t.rXU(Zt.dS,8),t.rXU(t.SKi),t.rXU(kt.OD),t.rXU(t.bc$,8))};static#e=this.\u0275dir=t.FsC({type:n,inputs:{disablePagination:[t.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",t.L39],selectedIndex:[t.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",t.Udg]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[t.GFd]})}return n})(),co=(()=>{class n extends lo{constructor(e,i,a,o,s,p,k){super(e,i,a,o,s,p,k),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new io(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(ft.Xj),t.rXU(Zt.dS,8),t.rXU(t.SKi),t.rXU(kt.OD),t.rXU(t.bc$,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,a,o){if(1&i&&t.wni(o,be,4),2&i){let s;t.mGM(s=t.lsd())&&(a._items=s)}},viewQuery:function(i,a){if(1&i&&(t.GBs(Pa,7),t.GBs(Ba,7),t.GBs(Aa,7),t.GBs(La,5),t.GBs(Xa,5)),2&i){let o;t.mGM(o=t.lsd())&&(a._tabListContainer=o.first),t.mGM(o=t.lsd())&&(a._tabList=o.first),t.mGM(o=t.lsd())&&(a._tabListInner=o.first),t.mGM(o=t.lsd())&&(a._nextPaginator=o.first),t.mGM(o=t.lsd())&&(a._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,a){2&i&&t.AVh("mat-mdc-tab-header-pagination-controls-enabled",a._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==a._getLayoutDirection())},inputs:{disableRipple:[t.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",t.L39]},standalone:!0,features:[t.GFd,t.Vt3,t.aNF],ngContentSelectors:qt,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,a){1&i&&(t.NAR(),t.j41(0,"button",0,1),t.bIt("click",function(){return a._handlePaginatorClick("before")})("mousedown",function(s){return a._handlePaginatorPress("before",s)})("touchend",function(){return a._stopInterval()}),t.nrm(2,"div",2),t.k0s(),t.j41(3,"div",3,4),t.bIt("keydown",function(s){return a._handleKeydown(s)}),t.j41(5,"div",5,6),t.bIt("cdkObserveContent",function(){return a._onContentChanges()}),t.j41(7,"div",7,8),t.SdG(9),t.k0s()()(),t.j41(10,"button",9,10),t.bIt("mousedown",function(s){return a._handlePaginatorPress("after",s)})("click",function(){return a._handlePaginatorClick("after")})("touchend",function(){return a._stopInterval()}),t.nrm(12,"div",2),t.k0s()),2&i&&(t.AVh("mat-mdc-tab-header-pagination-disabled",a._disableScrollBefore),t.Y8G("matRippleDisabled",a._disableScrollBefore||a.disableRipple)("disabled",a._disableScrollBefore||null),t.R7$(3),t.AVh("_mat-animation-noopable","NoopAnimations"===a._animationMode),t.R7$(7),t.AVh("mat-mdc-tab-header-pagination-disabled",a._disableScrollAfter),t.Y8G("matRippleDisabled",a._disableScrollAfter||a.disableRipple)("disabled",a._disableScrollAfter||null))},dependencies:[Q.r6,ja.Wv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return n})();const mo=new t.nKC("MAT_TABS_CONFIG"),po={translateTab:(0,S.hZ)("translateTab",[(0,S.wk)("center, void, left-origin-center, right-origin-center",(0,S.iF)({transform:"none"})),(0,S.wk)("left",(0,S.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,S.wk)("right",(0,S.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,S.kY)("* => left, * => right, left => center, right => center",(0,S.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,S.kY)("void => left-origin-center",[(0,S.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,S.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,S.kY)("void => right-origin-center",[(0,S.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,S.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let uo=(()=>{class n extends mt.I3{constructor(e,i,a,o){super(e,i,o),this._host=a,this._centeringSub=pt.yU.EMPTY,this._leavingSub=pt.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,G.Z)(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.OM3),t.rXU(t.c1b),t.rXU((0,t.Rfq)(()=>ve)),t.rXU(x.qQ))};static#e=this.\u0275dir=t.FsC({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[t.Vt3]})}return n})(),ve=(()=>{class n{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,a){this._elementRef=e,this._dir=i,this._dirChangeSubscription=pt.yU.EMPTY,this._translateTabComplete=new E.B,this._onCentering=new t.bkB,this._beforeCentering=new t.bkB,this._afterLeavingCenter=new t.bkB,this._onCentered=new t.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),a.markForCheck()})),this._translateTabComplete.pipe((0,Sa.F)((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.aKT),t.rXU(Zt.dS,8),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,a){if(1&i&&t.GBs(mt.I3,5),2&i){let o;t.mGM(o=t.lsd())&&(a._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[t.Mj6.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[t.aNF],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,a){1&i&&(t.j41(0,"div",0,1),t.bIt("@translateTab.start",function(s){return a._onTranslateTabStarted(s)})("@translateTab.done",function(s){return a._translateTabComplete.next(s)}),t.DNE(2,Ya,0,0,"ng-template",2),t.k0s()),2&i&&t.Y8G("@translateTab",t.l_i(3,za,a._position,t.eq3(1,Va,a.animationDuration)))},dependencies:[uo,ft.uv],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[po.translateTab]}})}return n})(),ho=0,_o=(()=>{class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){const i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,a,o){this._elementRef=e,this._changeDetectorRef=i,this._animationMode=o,this._tabs=new t.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=pt.yU.EMPTY,this._tabLabelSubscription=pt.yU.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new t.bkB,this.focusChange=new t.bkB,this.animationDone=new t.bkB,this.selectedTabChange=new t.bkB(!0),this._isServer=!(0,t.WQX)(kt.OD).isBrowser,this._groupId=ho++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,this.dynamicHeight=!(!a||null==a.dynamicHeight)&&a.dynamicHeight,null!=a?.contentTabIndex&&(this.contentTabIndex=a.contentTabIndex),this.preserveContent=!!a?.preserveContent,this.fitInkBarToContent=!(!a||null==a.fitInkBarToContent)&&a.fitInkBarToContent,this.stretchTabs=!a||null==a.stretchTabs||a.stretchTabs}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,o)=>a.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,a)=>{i.position=a-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let a;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,a=i[o];break}!a&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,G.Z)(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new bo;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,O.h)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,a){i.focusIndex=a,e.disabled||(this.selectedIndex=a)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(mo,8),t.rXU(t.bc$,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,a,o){if(1&i&&t.wni(o,ge,5),2&i){let s;t.mGM(s=t.lsd())&&(a._allTabs=s)}},viewQuery:function(i,a){if(1&i&&(t.GBs(Oa,5),t.GBs(Qa,5)),2&i){let o;t.mGM(o=t.lsd())&&(a._tabBodyWrapper=o.first),t.mGM(o=t.lsd())&&(a._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,a){2&i&&(t.HbH("mat-"+(a.color||"primary")),t.xc7("--mat-tab-animation-duration",a.animationDuration),t.AVh("mat-mdc-tab-group-dynamic-height",a.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===a.headerPosition)("mat-mdc-tab-group-stretch-tabs",a.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[t.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",t.L39],stretchTabs:[t.Mj6.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",t.L39],dynamicHeight:[t.Mj6.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",t.L39],selectedIndex:[t.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",t.Udg],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[t.Mj6.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",t.Udg],disablePagination:[t.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",t.L39],disableRipple:[t.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",t.L39],preserveContent:[t.Mj6.HasDecoratorInputTransform,"preserveContent","preserveContent",t.L39],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[t.Jv_([{provide:he,useExisting:n}]),t.GFd,t.aNF],ngContentSelectors:qt,decls:9,vars:6,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(i,a){1&i&&(t.NAR(),t.j41(0,"mat-tab-header",0,1),t.bIt("indexFocused",function(s){return a._focusChanged(s)})("selectFocusedIndex",function(s){return a.selectedIndex=s}),t.Z7z(2,Ja,8,16,"div",12,t.fX1),t.k0s(),t.DNE(4,Ka,1,0),t.j41(5,"div",2,3),t.Z7z(7,Za,1,12,"mat-tab-body",13,t.fX1),t.k0s()),2&i&&(t.Y8G("selectedIndex",a.selectedIndex||0)("disableRipple",a.disableRipple)("disablePagination",a.disablePagination),t.R7$(2),t.Dyx(a._tabs),t.R7$(2),t.vxM(4,a._isServer?4:-1),t.R7$(),t.AVh("_mat-animation-noopable","NoopAnimations"===a._animationMode),t.R7$(2),t.Dyx(a._tabs))},dependencies:[co,be,me.vR,x.YU,Q.r6,mt.I3,ve],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})();class bo{}let fo=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({imports:[Q.yE,Q.yE]})}return n})();var xe=c(14715);const vo=["drawer"],xo=["moduleSettings"];function Co(n,r){1&n&&t.eu8(0)}function ko(n,r){if(1&n&&t.DNE(0,Co,1,0,"ng-container",22),2&n){t.XpG();const e=t.sdS(16);t.Y8G("ngTemplateOutlet",e)}}function Fo(n,r){1&n&&t.eu8(0)}function yo(n,r){if(1&n&&t.DNE(0,Fo,1,0,"ng-container",22),2&n){t.XpG();const e=t.sdS(16);t.Y8G("ngTemplateOutlet",e)}}function Ro(n,r){}const Io=(n,r)=>({"hover:bg-gray-100 dark:hover:bg-hover":n,"bg-primary-50 dark:bg-hover":r}),Mo=(n,r)=>({"text-hint":n,"text-primary dark:text-primary-500":r}),To=n=>({"text-primary dark:text-primary-500":n});function Eo(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",23),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.goToPanel(o))}),t.nrm(1,"mat-icon",24),t.j41(2,"div",25)(3,"div",26),t.EFF(4),t.k0s(),t.j41(5,"div",27),t.EFF(6),t.k0s()()()}if(2&n){const e=r.$implicit,i=t.XpG();t.Y8G("ngClass",t.l_i(6,Io,!i.selectedPanel||i.selectedPanel!==e.id,i.selectedPanel&&i.selectedPanel.id===e.id)),t.R7$(),t.Y8G("ngClass",t.l_i(9,Mo,!i.selectedPanel||i.selectedPanel.id!==e.id,i.selectedPanel&&i.selectedPanel.id===e.id))("svgIcon",e.icon),t.R7$(2),t.Y8G("ngClass",t.eq3(12,To,i.selectedPanel&&i.selectedPanel.id===e.id)),t.R7$(),t.SpI(" ",e.title," "),t.R7$(2),t.SpI(" ",e.description," ")}}const Do=[{path:"",component:(()=>{class n{constructor(e,i,a){this._changeDetectorRef=e,this._fuseMediaWatcherService=i,this.store=a,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this.selectedPanel="",this.selectedTapIndex=0,this.userSettings=[],this.merchantSettings=[],this._unsubscribeAll=new E.B}ngOnInit(){this.store.select(xe.VL).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.userSettings=e,this.onTabChanged(0)}),this.store.select(xe.mU).pipe((0,_.Q)(this._unsubscribeAll)).subscribe(e=>{this.merchantSettings=e}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,_.Q)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()}),this.goToPanel(this.panels[0])}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onTabChanged(e){const i=0===e?this.userSettings:this.merchantSettings,a=[...new Set(i.map(o=>o.module))];this.panels=a.map(o=>{const s=i.find(p=>p.moduleId===(Ct.H.IsNullOrEmpty(o)?null:o.id));return{id:Ct.H.IsNullOrEmpty(o)?null:o.id,title:o?o.name:"General",icon:s.icon,description:s.description,setting:s}}),this.panels.length>0&&e!==this.selectedTapIndex&&this.goToPanel(this.panels[0]),this.selectedTapIndex=e,this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges()}goToPanel(e){this.selectedPanel=e,this.moduleSettingsComponent.setSetting(e.setting),"over"===this.drawerMode&&this.drawer.close()}trackByFn(e,i){return i.id||e}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.gRc),t.rXU(st.F),t.rXU(h.il))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["settings"]],viewQuery:function(i,a){if(1&i&&(t.GBs(vo,5),t.GBs(xo,7)),2&i){let o;t.mGM(o=t.lsd())&&(a.drawer=o.first),t.mGM(o=t.lsd())&&(a.moduleSettingsComponent=o.first)}},standalone:!0,features:[t.aNF],decls:30,vars:6,consts:[[1,"flex","flex-col","w-full","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","justify-between","m-8","mb-4","mr-6","sm:mt-10"],[1,"text-4xl","font-extrabold","leading-none","tracking-tight"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[3,"selectedIndexChange"],["label","Usuario",1,"p-6","md:p-8","max-w-screen-xl"],["matTabContent",""],["label","Negocio",1,"p-6","md:p-8","max-w-screen-xl"],["panelLinks",""],[1,"flex","flex-col","border-t","border-b","divide-y"],[1,"flex","flex-col"],[1,"flex-auto","px-6","pb-12","pt-9","md:p-8","md:pb-12","lg:p-12"],[1,"flex","items-center"],["mat-icon-button","",1,"-ml-2","lg:hidden",3,"click"],[1,"ml-2","text-3xl","font-bold","leading-none","tracking-tight","lg:ml-0"],[1,"mt-8"],["moduleSettings",""],[4,"ngTemplateOutlet"],[1,"flex","px-8","py-5","cursor-pointer",3,"ngClass","click"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"],["class","flex px-8 py-5 cursor-pointer",3,"ngClass"]],template:function(i,a){if(1&i){const o=t.RV6();t.j41(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),t.EFF(6,"Ajustes"),t.k0s(),t.j41(7,"div",6)(8,"button",7),t.bIt("click",function(){t.eBV(o);const p=t.sdS(3);return t.Njj(p.close())}),t.nrm(9,"mat-icon",8),t.k0s()()(),t.j41(10,"mat-tab-group",9),t.bIt("selectedIndexChange",function(p){return a.onTabChanged(p)}),t.j41(11,"mat-tab",10),t.DNE(12,ko,1,1,"ng-template",11),t.k0s(),t.j41(13,"mat-tab",12),t.DNE(14,yo,1,1,"ng-template",11),t.k0s()(),t.DNE(15,Ro,0,0,"ng-template",null,13,t.C5r),t.j41(17,"div",14),t.Z7z(18,Eo,7,14,"div",28,a.trackByFn),t.k0s()(),t.j41(20,"mat-drawer-content",15)(21,"div",16)(22,"div",17)(23,"button",18),t.bIt("click",function(){t.eBV(o);const p=t.sdS(3);return t.Njj(p.toggle())}),t.nrm(24,"mat-icon",8),t.k0s(),t.j41(25,"div",19),t.EFF(26),t.k0s()(),t.j41(27,"div",20),t.nrm(28,"app-module-settings",null,21),t.k0s()()()()()}2&i&&(t.R7$(2),t.Y8G("autoFocus",!1)("mode",a.drawerMode)("opened",a.drawerOpened),t.R7$(7),t.Y8G("svgIcon","mat_solid:close"),t.R7$(9),t.Dyx(a.panels),t.R7$(6),t.Y8G("svgIcon","mat_solid:menu"),t.R7$(2),t.SpI(" ",null==a.selectedPanel?null:a.selectedPanel.title," "))},dependencies:[xt.vg,xt.qe,xt.$C,xt.$l,y.m_,y.An,x.YU,Ma,fo,pe,ge,_o,x.T3],encapsulation:2,changeDetection:0})}return n})()},{path:"g-modules",component:gn,resolve:{modules:le.$t}},{path:"g-modules/:gModuleId",component:Pn,resolve:{permissions:Qn,gModule:le.Yn}},{path:"m-permissions",component:Zi,resolve:{mPermissions:zn}},{path:"navigations",component:Fi,resolve:{mPermissions:On,navigation:Un}},{path:"rates",component:zt,resolve:{currencies:Vn.p,rates:Wn.Q}},{path:"traces",component:Yn,resolve:{traces:(n,r)=>(0,t.WQX)(Kn).findTraces()}},{path:"merchant",loadChildren:()=>Promise.all([c.e(6124),c.e(558),c.e(2076),c.e(2819)]).then(c.bind(c,92819)),title:"Gesti\xf3n del negocio"},{path:"roles",loadChildren:()=>Promise.all([c.e(2076),c.e(2050)]).then(c.bind(c,2050)),title:"Gesti\xf3n Roles y Permisos"}]},67398:(Ft,K,c)=>{c.d(K,{A:()=>Jt});const x=function t(d,m){for(var g=-1,C=null==d?0:d.length,v=Array(C);++g<C;)v[g]=m(d[g],g,d);return v};var l=c(99531),b=c(43744),R=c(45281),u=c(42661);const I=function T(d){return"symbol"==typeof d||(0,u.A)(d)&&"[object Symbol]"==(0,R.A)(d)};var A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L=/^\w*$/;var Y=c(72291);function j(d,m){if("function"!=typeof d||null!=m&&"function"!=typeof m)throw new TypeError("Expected a function");var g=function(){var C=arguments,v=m?m.apply(this,C):C[0],F=g.cache;if(F.has(v))return F.get(v);var W=d.apply(this,C);return g.cache=F.set(v,W)||F,W};return g.cache=new(j.Cache||Y.A),g}j.Cache=Y.A;const O=j;var w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g;const V=function H(d){var m=O(d,function(C){return 500===g.size&&g.clear(),C}),g=m.cache;return m}(function(d){var m=[];return 46===d.charCodeAt(0)&&m.push(""),d.replace(w,function(g,C,v,F){m.push(v?F.replace(f,"$1"):C||g)}),m});var M=c(6944),P=M.A?M.A.prototype:void 0,ut=P?P.toString:void 0;const ht=function N(d){if("string"==typeof d)return d;if((0,b.A)(d))return x(d,N)+"";if(I(d))return ut?ut.call(d):"";var m=d+"";return"0"==m&&1/d==-1/0?"-0":m},tt=function z(d){return null==d?"":ht(d)},at=function Q(d,m){return(0,b.A)(d)?d:function X(d,m){if((0,b.A)(d))return!1;var g=typeof d;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=d&&!I(d))||L.test(d)||!A.test(d)||null!=m&&d in Object(m)}(d,m)?[d]:V(tt(d))},gt=function Mt(d){if("string"==typeof d||I(d))return d;var m=d+"";return"0"==m&&1/d==-1/0?"-0":m},Gt=function $t(d,m){return m.length<2?d:function Tt(d,m){for(var g=0,C=(m=at(m,d)).length;null!=d&&g<C;)d=d[gt(m[g++])];return g&&g==C?d:void 0}(d,function Dt(d,m,g){var C=-1,v=d.length;m<0&&(m=-m>v?0:v+m),(g=g>v?v:g)<0&&(g+=v),v=m>g?0:g-m>>>0,m>>>=0;for(var F=Array(v);++C<v;)F[C]=d[C+m];return F}(m,0,-1))},jt=function St(d,m){return m=at(m,d),null==(d=Gt(d,m))||delete d[gt(function yt(d){var m=null==d?0:d.length;return m?d[m-1]:void 0}(m))]};var wt=c(77517),Pt=c(74294);const At=function Bt(d){return(0,Pt.A)(d)?void 0:d};var Lt=c(70563),Xt=c(66513),_t=M.A?M.A.isConcatSpreadable:void 0;const Vt=function Yt(d){return(0,b.A)(d)||(0,Xt.A)(d)||!!(_t&&d&&d[_t])},zt=function bt(d,m,g,C,v){var F=-1,W=d.length;for(g||(g=Vt),v||(v=[]);++F<W;){var et=d[F];m>0&&g(et)?m>1?bt(et,m-1,g,C,v):(0,Lt.A)(v,et):C||(v[v.length]=et)}return v},U=function Ot(d){return null!=d&&d.length?zt(d,1):[]};var Qt=c(90178),Ut=c(45974);var Z=c(57372);const Jt=function ot(d){return(0,Ut.A)((0,Qt.A)(d,void 0,U),d+"")}(function(d,m){var g={};if(null==d)return g;var C=!1;m=x(m,function(F){return F=at(F,d),C||(C=F.length>1),F}),(0,wt.A)(d,(0,Z.A)(d),g),C&&(g=(0,l.A)(g,7,At));for(var v=m.length;v--;)jt(g,m[v]);return g})}}]);