"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5689],{34413:(O,A,l)=>{l.d(A,{MI:()=>r,wf:()=>C,zA:()=>F});var h=l(54438),$=l(18810),e=l(99437),g=l(62590),y=l(51188);let C=(()=>{class d{constructor(c,f){this._employeesService=c,this._router=f}resolve(c,f){return this._employeesService.findAllEmployees().pipe((0,e.W)(v=>this._router.navigateByUrl("/desktop")))}static#e=this.\u0275fac=function(f){return new(f||d)(h.KVO(g.r),h.KVO(y.Ix))};static#t=this.\u0275prov=h.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),F=(()=>{class d{constructor(c,f){this._employeesService=c,this._router=f}resolve(c,f){const v=c.params.employeeId;return"new"===v?null:this._employeesService.findEmployeeById(v).pipe((0,e.W)(R=>{const I=f.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(I),(0,$.$)(R)}))}static#e=this.\u0275fac=function(f){return new(f||d)(h.KVO(g.r),h.KVO(y.Ix))};static#t=this.\u0275prov=h.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const r=(d,E)=>(0,h.WQX)(g.r).findActiveEmployees()},55689:(O,A,l)=>{l.r(A),l.d(A,{default:()=>mn});var h=l(21413),$=l(10729),e=l(54438),g=l(59640);let y=(()=>{class o{constructor(t,n){this._changeDetectorRef=t,this.store=n,this._unsubscribeAll=new h.B}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(e.gRc),e.rXU(g.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["ath-hrm"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(n,i){1&n&&e.nrm(0,"ath-content-menu")},dependencies:[$.k],encapsulation:2,changeDetection:0})}return o})();var C=l(51188),F=l(60177),r=l(89417),d=l(88834),E=l(75351),c=l(32102),f=l(99213),v=l(59042),R=l(96695),I=l(9183),x=l(30450),T=l(95416),u=l(2042),_=l(7673),G=l(57786),m=l(56977),X=l(70152),M=l(99172),B=l(25558),D=l(96354);const ce=o=>o.charges,pe=((0,g.Mz)(ce,o=>o.charge),(0,g.Mz)(ce,o=>o.charges));var oe=l(87122),L=l(46601),k=l(94794),W=l(43791);class De{}var q=l(47413),z=l(82798),V=l(70819),S=l(55364);const de=o=>({"cursor-not-allowed":o});function Re(o,a){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Agregar cargo"),e.k0s())}function je(o,a){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Editar cargo"),e.k0s())}function $e(o,a){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Detalles del cargo "),e.k0s())}function Ie(o,a){if(1&o&&(e.j41(0,"div",4)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"h6",11),e.EFF(6,"Nombre"),e.k0s(),e.j41(7,"span",12),e.EFF(8),e.k0s()(),e.j41(9,"div",13)(10,"h6",11),e.EFF(11,"Descripci\xf3n"),e.k0s(),e.j41(12,"span",12),e.EFF(13),e.k0s()()()()()()),2&o){const t=e.XpG();e.R7$(8),e.JRh(t.data.charge.name||"Sin nombre"),e.R7$(5),e.JRh(t.data.charge.description||"Sin descripci\xf3n")}}function Ge(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del cargo es obligatorio. "),e.k0s())}function Se(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.k0s())}function Ae(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El salario debe ser mayor que 0. "),e.k0s())}function we(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El salario debe contener solo n\xfameros. "),e.k0s())}function Te(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.k0s())}function Me(o,a){if(1&o&&(e.j41(0,"div",5)(1,"div",7)(2,"form",14)(3,"mat-form-field",15)(4,"mat-label"),e.EFF(5,"Nombre"),e.k0s(),e.nrm(6,"input",16),e.DNE(7,Ge,2,0,"mat-error")(8,Se,2,0,"mat-error"),e.k0s(),e.j41(9,"mat-form-field",17)(10,"mat-label"),e.EFF(11,"Salario"),e.k0s(),e.nrm(12,"input",18),e.DNE(13,Ae,2,0,"mat-error")(14,we,2,0,"mat-error"),e.k0s(),e.j41(15,"mat-form-field",19)(16,"mat-label"),e.EFF(17,"Descripci\xf3n"),e.k0s(),e.nrm(18,"mat-icon",20)(19,"textarea",21),e.DNE(20,Te,2,0,"mat-error"),e.j41(21,"mat-hint",22),e.EFF(22),e.k0s()(),e.j41(23,"div",23)(24,"span",24),e.EFF(25,"Estado"),e.k0s(),e.j41(26,"mat-slide-toggle",25),e.EFF(27),e.k0s()()()()()),2&o){let t;const n=e.XpG();e.R7$(2),e.Y8G("formGroup",n.chargeForm)("autocomplete","off"),e.R7$(4),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.R7$(),e.vxM(7,n.chargeForm.get("name").hasError("required")?7:-1),e.R7$(),e.vxM(8,n.chargeForm.get("name").hasError("maxlength")||n.chargeForm.get("name").hasError("minlength")?8:-1),e.R7$(4),e.Y8G("formControlName","salary")("placeholder","Salario")("min",0)("max",99999),e.R7$(),e.vxM(13,n.chargeForm.get("salary").hasError("min")?13:-1),e.R7$(),e.vxM(14,n.chargeForm.get("salary").hasError("pattern")&&!n.chargeForm.get("salary").hasError("min")?14:-1),e.R7$(4),e.Y8G("svgIcon","mat_solid:subject"),e.R7$(),e.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.R7$(),e.vxM(20,n.chargeForm.get("description").hasError("minlength")?20:-1),e.R7$(2),e.SpI("",(null==(t=n.chargeForm.get("description").value)?null:t.length)||0,"/1000"),e.R7$(4),e.Y8G("formControlName","active")("color","primary"),e.R7$(),e.SpI(" ",!0===n.chargeForm.get("active").value?"Activo":"Inactivo"," ")}}function Le(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.updateCharge())}),e.EFF(1," Actualizar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.eq3(3,de,t.chargeForm.invalid))}}function Ne(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.createCharge())}),e.EFF(1," Agregar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.eq3(3,de,t.chargeForm.invalid))}}function Be(o,a){if(1&o&&(e.j41(0,"div",6),e.qex(1),e.j41(2,"button",26),e.EFF(3," Cancelar "),e.k0s(),e.bVm(),e.DNE(4,Le,2,5,"button",27)(5,Ne,2,5,"button",27),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.vxM(4,"edit"===t.data.dialogMode?4:-1),e.R7$(),e.vxM(5,"add"===t.data.dialogMode?5:-1)}}let Ye=(()=>{class o{constructor(t){this.data=t,this.dialogMode="view",this._unsubscribeAll=new h.B,this._dialogRef=(0,e.WQX)(E.CP),this._formBuilder=(0,e.WQX)(r.ok),this._fuseConfirmationService=(0,e.WQX)(L.G),this._chargesService=(0,e.WQX)(W.P),this._snackBar=(0,e.WQX)(T.UG),this.store=(0,e.WQX)(g.il)}ngOnInit(){this.store.select(V.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.chargeForm=this._formBuilder.group({id:[""],active:[!0,[r.k0.required]],merchantId:[this.currentMerchant.id,[r.k0.required]],name:["",[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255)]],description:["",[r.k0.minLength(5),r.k0.maxLength(1e3)]],salary:[0,[r.k0.min(0),r.k0.max(99999),S.t.onlyNumbersPattern()]]}),"edit"===this.data.dialogMode&&this.chargeForm.patchValue(this.data.charge)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){const t=this.chargeForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._chargesService.createCharge(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateCharge(){const t=this.chargeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._chargesService.updateCharge(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,n){return n.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(E.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["charges-detail"]],standalone:!0,features:[e.aNF],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex-auto"],[1,"w-full","overflow-hidden"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black/10"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"grid","w-full","gap-4","pt-4","mt-4","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"col-span-1","mt-"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"w-full"],["matInput","","type","number",3,"formControlName","placeholder","min","max"],[1,"flex-auto","w-full","sm:col-span-2","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"click","color","disabled","ngClass"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.qex(1),e.j41(2,"div",1),e.DNE(3,Re,2,0,"h2",2)(4,je,2,0,"h2",2)(5,$e,2,0,"h2",2),e.k0s(),e.bVm(),e.j41(6,"div",3),e.qex(7),e.DNE(8,Ie,14,2,"div",4),e.bVm(),e.qex(9),e.DNE(10,Me,28,26,"div",5),e.bVm(),e.k0s(),e.DNE(11,Be,6,3,"div",6),e.k0s()),2&n&&(e.R7$(3),e.vxM(3,"add"===i.data.dialogMode?3:-1),e.R7$(),e.vxM(4,i.data.charge.id&&"edit"===i.data.dialogMode?4:-1),e.R7$(),e.vxM(5,i.data.charge.id&&"view"===i.data.dialogMode?5:-1),e.R7$(3),e.vxM(8,"view"===i.data.dialogMode?8:-1),e.R7$(2),e.vxM(10,10),e.R7$(),e.vxM(11,"view"!==i.data.dialogMode?11:-1))},dependencies:[d.Hl,d.$z,E.hM,E.tx,c.RG,c.rl,c.nJ,c.MV,c.TL,c.JW,f.m_,f.An,v.fS,v.fg,z.Ve,x.mV,x.sG,F.YU,r.X1,r.qT,r.me,r.Q0,r.BC,r.cb,r.YS,r.xh,r.tU,r.VZ,r.zX,r.j4,r.JD],encapsulation:2,changeDetection:0})}return o})();const Xe=()=>[""],ze=o=>({"pointer-events-none":o}),Ve=()=>[10,25,50,100];function Ue(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",40),e.bIt("change",function(i){e.eBV(t);const s=e.XpG(),p=s.$implicit,b=s.$index,j=e.XpG(3);return e.Njj(j.updateChargeStatus(i,p,b))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function Pe(o,a){1&o&&e.nrm(0,"mat-spinner",36),2&o&&e.Y8G("diameter",20)("color","primary")}function Qe(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",31)(1,"div",32),e.EFF(2),e.k0s(),e.j41(3,"div",32),e.EFF(4),e.k0s(),e.j41(5,"div",33),e.EFF(6),e.nI1(7,"currency"),e.k0s(),e.j41(8,"div",34),e.DNE(9,Ue,1,2,"mat-slide-toggle",35)(10,Pe,1,2,"mat-spinner",36),e.k0s(),e.j41(11,"div",37)(12,"button",38),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.editCharge(i))}),e.nrm(13,"mat-icon",39),e.k0s(),e.j41(14,"button",38),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.deleteCharge(i.id))}),e.nrm(15,"mat-icon",39),e.k0s()()()}if(2&o){const t=a.$implicit,n=a.$index,i=e.XpG(3);e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",t.description," "),e.R7$(2),e.SpI(" ",e.i5U(7,7,t.salary,e.lJ4(10,Xe))," "),e.R7$(3),e.vxM(9,i.isLoading&&i.selectedSlide===n?-1:9),e.R7$(),e.vxM(10,i.isLoading&&i.selectedSlide===n?10:-1),e.R7$(3),e.Y8G("svgIcon","mat_solid:edit"),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function Oe(o,a){if(1&o&&(e.j41(0,"div",24)(1,"div",25)(2,"div",26),e.EFF(3," Nombre "),e.k0s(),e.j41(4,"div",27),e.EFF(5," Descripci\xf3n "),e.k0s(),e.j41(6,"div",28)(7,"span"),e.EFF(8,"Salario"),e.k0s()(),e.j41(9,"div",29)(10,"span"),e.EFF(11,"Activo"),e.k0s()(),e.j41(12,"div",30),e.EFF(13," Acciones "),e.k0s()(),e.Z7z(14,Qe,16,11,"div",31,e.BUC().trackByFn,!0),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(4),e.Y8G("mat-sort-header","salary"),e.R7$(3),e.Y8G("mat-sort-header","active"),e.R7$(5),e.Dyx(t)}}function We(o,a){if(1&o&&(e.j41(0,"div",41),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}function qe(o,a){1&o&&e.DNE(0,Oe,16,3,"div",24)(1,We,2,1),2&o&&e.vxM(0,a.length>0?0:1)}function He(o,a){if(1&o&&(e.j41(0,"div",41),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}function Je(o,a){if(1&o&&e.nrm(0,"mat-paginator",23),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,ze,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,Ve))("showFirstLastButtons",!0)}}let Ze=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.MJ(null),this._unsubscribeAll=new h.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._chargeService=(0,e.WQX)(W.P),this._dialog=(0,e.WQX)(E.bZ),this._fuseConfirmationService=(0,e.WQX)(L.G),this._snackBar=(0,e.WQX)(T.UG),this.store=(0,e.WQX)(g.il)}ngOnInit(){this.charges$=this.store.select(pe),this.store.select(V.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(q.Dz).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,X.B)(300),(0,M.Z)(null),(0,B.n)(t=>null!==t?(this.isLoading=!0,this._chargeService.findAllCharges(0,10,"name","desc",t)):(0,_.of)()),(0,D.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,G.h)(this._sort.sortChange,this._paginator.page).pipe((0,B.n)(()=>(this.isLoading=!0,this._chargeService.findAllCharges(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,D.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateChargeStatus(t,n,i){this.isLoading=!0,this.selectedSlide=i,this._chargeService.updateChargeStatus({id:n.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createCharge(){this._openDialog(new De,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargeService.removeCharge(t,this.pagination.page,this.pagination.size,"name","desc").pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}_openDialog(t,n){this._dialog.open(Ye,{data:{charge:t,dialogMode:n},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["charges"]],viewQuery:function(n,i){if(1&n&&(e.GBs(R.iy,5),e.GBs(u.B4,5)),2&n){let s;e.mGM(s=e.lsd())&&(i._paginator=s.first),e.mGM(s=e.lsd())&&(i._sort=s.first)}},standalone:!0,features:[e.aNF],decls:38,vars:14,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,""],[1,"flex","justify-end",3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"mr-4","text-right"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"change","checked","color"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(n,i){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Cargos"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Listado de Cargos "),e.k0s()()(),e.j41(24,"div",14)(25,"mat-form-field",15),e.nrm(26,"mat-icon",16)(27,"input",17),e.k0s(),e.j41(28,"button",18),e.bIt("click",function(){return i.createCharge()}),e.nrm(29,"mat-icon",19),e.j41(30,"span",20),e.EFF(31,"Nuevo"),e.k0s()()()(),e.j41(32,"div",21)(33,"div",22),e.DNE(34,qe,2,1),e.nI1(35,"async"),e.DNE(36,He,2,1)(37,Je,1,9,"mat-paginator",23),e.k0s()()()),2&n){let s;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(7),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",i.searchInputControl)("autocomplete","off")("placeholder","Buscar cargos"),e.R7$(2),e.Y8G("svgIcon","mat_solid:add"),e.R7$(5),e.vxM(34,(s=e.bMT(35,12,i.charges$))?34:36,s),e.R7$(3),e.vxM(37,i.pagination.length>0?37:-1)}},dependencies:[F.Jj,F.oe,d.Hl,d.$z,c.RG,c.rl,c.JW,f.m_,f.An,v.fS,v.fg,R.Ou,R.iy,I.D6,I.LG,x.mV,x.sG,u.NQ,u.B4,u.aE,F.YU,r.X1,r.me,r.BC,r.l_,C.Wk],encapsulation:2,data:{animation:oe.X},changeDetection:0})}return o})();const ue=o=>o.departments,he=((0,g.Mz)(ue,o=>o.department),(0,g.Mz)(ue,o=>o.departments));var H=l(82765),P=l(25084),w=l(88141),N=l(70172),fe=l(98216),Y=l(53473);const Ke=Y.J1`
    mutation CreateDepartment($createDepartmentInput: CreateDepartmentInput!) {
        createDepartment(createDepartmentInput: $createDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId
                name,
                description,
                active
            }
        }
    }
`,et=Y.J1`
    query FindAllDepartments($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllDepartments(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,tt=Y.J1`
    query FindAllActiveDepartments {
        findAllActiveDepartments {
            id,
            name
        }
    }
`,ot=Y.J1`
    query FindDepartmentById($departmentId: String!) {
        findDepartmentById(id: $departmentId ) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,it=Y.J1`
    mutation UpdateDepartment($updateDepartmentInput: UpdateDepartmentInput!) {
        updateDepartment(updateDepartmentInput: $updateDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,nt=Y.J1`
    mutation UpdateDepartmentStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateDepartmentStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,at=Y.J1`
    mutation RemoveDepartment($departmentId: String!) {
        removeDepartment(id: $departmentId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`;let J=(()=>{class o{constructor(t,n){this.apolloProvider=t,this.store=n,this._apollo=this.apolloProvider.use("BALANC")}createDepartment(t){return this._apollo.mutate({mutation:Ke,variables:{createDepartmentInput:t},errorPolicy:"all"}).pipe((0,D.T)(({data:n})=>n?n.createDepartment:null),(0,w.M)(n=>{n&&(this.store.dispatch((0,N.VL)({department:n.department})),this.store.dispatch((0,N.zn)({department:n.department})))}))}findAllDepartments(t=0,n=10,i="name",s="desc",p=null){return this._apollo.query({query:et,variables:{page:t,size:n,sort:i,order:s,search:p},errorPolicy:"all"}).pipe((0,D.T)(({data:b})=>b?b.findAllDepartments:null),(0,w.M)(b=>{b&&(this.store.dispatch((0,N.UG)({departments:b.departments})),this.store.dispatch((0,fe.Bp)({pagination:b.pagination})))}))}findAllActiveDepartments(){return this._apollo.query({query:tt,errorPolicy:"all"}).pipe((0,D.T)(({data:t})=>t?t.findAllActiveDepartments:null),(0,w.M)(t=>{t&&this.store.dispatch((0,N.UG)({departments:t}))}))}findDepartmentById(t){return this._apollo.query({query:ot,variables:{departmentId:t},errorPolicy:"all"}).pipe((0,D.T)(({data:n})=>n?n.findDepartmentById:null),(0,w.M)(n=>{n&&this.store.dispatch((0,N.zn)({department:n.department}))}))}updateDepartment(t){return this._apollo.mutate({mutation:it,variables:{updateDepartmentInput:t},errorPolicy:"all"}).pipe((0,D.T)(({data:n})=>n?n.updateDepartment:null),(0,w.M)(n=>{n&&(this.store.dispatch((0,N.cM)({department:n.department})),this.store.dispatch((0,N.zn)({department:n.department})))}))}updateDepartmentStatus(t){return this._apollo.mutate({mutation:nt,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,D.T)(({data:n})=>n?n.updateDepartmentStatus:null),(0,w.M)(n=>{n&&this.store.dispatch((0,N.Qh)(t))}))}removeDepartment(t,n=0,i=10,s="name",p="desc",b=null){return this._apollo.mutate({mutation:at,variables:{departmentId:t,page:n,size:i,sort:s,order:p,search:b},errorPolicy:"all"}).pipe((0,D.T)(({data:j})=>j?j.removeDepartment:null),(0,w.M)(j=>{j&&(this.store.dispatch((0,N.XI)({id:t})),this.store.dispatch((0,fe.Bp)({pagination:j.pagination})))}))}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(Y.Ic),e.KVO(g.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const _e=o=>({"cursor-not-allowed":o});function rt(o,a){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Agregar departamento"),e.k0s())}function st(o,a){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Editar departamento "),e.k0s())}function lt(o,a){1&o&&(e.j41(0,"h2",2),e.EFF(1,"Detalles del departamento"),e.k0s())}function mt(o,a){if(1&o&&(e.j41(0,"div",4)(1,"div",7)(2,"div",8)(3,"div",9),e.qex(4),e.j41(5,"div",10)(6,"mat-label",11),e.EFF(7,"Nombre"),e.k0s(),e.j41(8,"div",12),e.EFF(9),e.k0s()(),e.bVm(),e.qex(10),e.j41(11,"div",10)(12,"mat-label",11),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"div",12),e.EFF(15),e.k0s()(),e.bVm(),e.k0s()()()()),2&o){const t=e.XpG();e.R7$(9),e.JRh(t.data.department.name),e.R7$(6),e.JRh(t.data.department.description)}}function ct(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del departamento es obligatorio. "),e.k0s())}function pt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.k0s())}function dt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.k0s())}function ut(o,a){if(1&o&&(e.j41(0,"div",5)(1,"div",7)(2,"form",13)(3,"div",14)(4,"mat-form-field",15)(5,"mat-label"),e.EFF(6,"Nombre"),e.k0s(),e.nrm(7,"input",16),e.DNE(8,ct,2,0,"mat-error")(9,pt,2,0,"mat-error"),e.k0s()(),e.j41(10,"div",17)(11,"mat-form-field",18)(12,"mat-label"),e.EFF(13,"Descripci\xf3n del Departamento"),e.k0s(),e.nrm(14,"mat-icon",19)(15,"textarea",20),e.DNE(16,dt,2,0,"mat-error"),e.j41(17,"mat-hint",21),e.EFF(18),e.k0s()()(),e.j41(19,"div",22)(20,"span",23),e.EFF(21,"Estado"),e.k0s(),e.j41(22,"mat-slide-toggle",24),e.EFF(23),e.k0s()()()()()),2&o){let t;const n=e.XpG();e.R7$(2),e.Y8G("formGroup",n.departmentForm)("autocomplete","off"),e.R7$(5),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.R7$(),e.vxM(8,n.departmentForm.get("name").hasError("required")?8:-1),e.R7$(),e.vxM(9,n.departmentForm.get("name").hasError("maxlength")||n.departmentForm.get("name").hasError("minlength")?9:-1),e.R7$(5),e.Y8G("svgIcon","mat_solid:subject"),e.R7$(),e.Y8G("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.R7$(),e.vxM(16,n.departmentForm.get("description").hasError("minlength")?16:-1),e.R7$(2),e.SpI("",(null==(t=n.departmentForm.get("description").value)?null:t.length)||0,"/1000"),e.R7$(4),e.Y8G("formControlName","active")("color","primary"),e.R7$(),e.SpI(" ",!0===n.departmentForm.get("active").value?"Activo":"Inactivo"," ")}}function ht(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.updateDepartment())}),e.EFF(1," Actualizar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.eq3(3,_e,t.departmentForm.invalid))}}function ft(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.createDepartment())}),e.EFF(1," Agregar "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.eq3(3,_e,t.departmentForm.invalid))}}function _t(o,a){if(1&o&&(e.j41(0,"div",6),e.qex(1),e.j41(2,"button",25),e.EFF(3," Cancelar "),e.k0s(),e.bVm(),e.DNE(4,ht,2,5,"button",26)(5,ft,2,5,"button",26),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.vxM(4,"edit"===t.dialogMode?4:-1),e.R7$(),e.vxM(5,"add"===t.dialogMode?5:-1)}}let gt=(()=>{class o{constructor(t,n,i,s,p,b,j){this.data=t,this._dialogRef=n,this._formBuilder=i,this._fuseConfirmationService=s,this._departmentsService=p,this._snackBar=b,this.store=j,this.dialogMode="view",this._unsubscribeAll=new h.B,this.dialogMode=t.dialogMode}ngOnInit(){this.store.select(V.Xb).pipe((0,m.Q)(this._unsubscribeAll)).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.departmentForm=this._formBuilder.group({id:[""],active:[!0],merchantId:[this.currentMerchant.id,[r.k0.required]],name:["",[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255)]],description:["",[r.k0.minLength(5),r.k0.maxLength(1e3)]]}),"edit"===this.dialogMode&&this.departmentForm.patchValue(this.data.department)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){const t=this.departmentForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._departmentsService.createDepartment(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateDepartment(){const t=this.departmentForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._departmentsService.updateDepartment(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,n){return n.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(E.Vh),e.rXU(E.CP),e.rXU(r.ok),e.rXU(L.G),e.rXU(J),e.rXU(T.UG),e.rXU(g.il))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["department-detail"]],standalone:!0,features:[e.aNF],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex-auto"],[1,"w-full","overflow-hidden"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black/10"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"font-semibold","min-w-56"],[1,"leading-6"],[1,"flex","flex-col","w-full","pt-1","mt-4","border-t",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"click","color","disabled","ngClass"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.qex(1),e.j41(2,"div",1),e.DNE(3,rt,2,0,"h2",2)(4,st,2,0,"h2",2)(5,lt,2,0,"h2",2),e.k0s(),e.bVm(),e.j41(6,"div",3),e.qex(7),e.DNE(8,mt,16,2,"div",4),e.bVm(),e.qex(9),e.DNE(10,ut,24,20,"div",5),e.bVm(),e.k0s(),e.DNE(11,_t,6,3,"div",6),e.k0s()),2&n&&(e.R7$(3),e.vxM(3,"add"===i.dialogMode?3:-1),e.R7$(),e.vxM(4,i.data.department.id&&"edit"===i.dialogMode?4:-1),e.R7$(),e.vxM(5,i.data.department.id&&"view"===i.dialogMode?5:-1),e.R7$(3),e.vxM(8,"view"===i.dialogMode?8:-1),e.R7$(2),e.vxM(10,10),e.R7$(),e.vxM(11,"view"!==i.dialogMode?11:-1))},dependencies:[d.Hl,d.$z,H.g7,P.X6,E.hM,E.tx,c.RG,c.rl,c.nJ,c.MV,c.TL,c.JW,f.m_,f.An,v.fS,v.fg,z.Ve,x.mV,x.sG,F.YU,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.xh,r.tU,r.j4,r.JD],encapsulation:2,changeDetection:0})}return o})();class vt{}var Z=l(82341);const ge=()=>["Super Administrador"],bt=o=>({"pointer-events-none":o}),Ft=()=>[10,25,50,100];function Ct(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"mat-form-field",19),e.nrm(2,"mat-icon",20)(3,"input",21),e.k0s(),e.j41(4,"button",22),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createDepartment())}),e.nrm(5,"mat-icon",23),e.j41(6,"span",24),e.EFF(7,"Nuevo"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar departamentos"),e.R7$(2),e.Y8G("svgIcon","mat_solid:add")}}function yt(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",39),e.bIt("change",function(i){e.eBV(t);const s=e.XpG(),p=s.$implicit,b=s.$index,j=e.XpG(4);return e.Njj(j.updateDepartmentStatus(i,p,b))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function xt(o,a){1&o&&e.nrm(0,"mat-spinner",35),2&o&&e.Y8G("diameter",20)("color","primary")}function kt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",31)(1,"div",32),e.EFF(2),e.k0s(),e.j41(3,"div",32),e.EFF(4),e.k0s(),e.j41(5,"div",33),e.DNE(6,yt,1,2,"mat-slide-toggle",34)(7,xt,1,2,"mat-spinner",35),e.k0s(),e.j41(8,"div",36)(9,"button",37),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.editDepartment(i))}),e.nrm(10,"mat-icon",38),e.k0s(),e.j41(11,"button",37),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.deleteDepartment(i))}),e.nrm(12,"mat-icon",38),e.k0s()()()}if(2&o){const t=a.$implicit,n=a.$index,i=e.XpG(4);e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",t.description," "),e.R7$(2),e.vxM(6,i.isLoading&&i.selectedSlide===n?-1:6),e.R7$(),e.vxM(7,i.isLoading&&i.selectedSlide===n?7:-1),e.R7$(3),e.Y8G("svgIcon","mat_solid:edit"),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function Et(o,a){1&o&&e.Z7z(0,kt,13,6,"div",31,e.BUC().trackByFn,!0),2&o&&e.Dyx(a)}function Dt(o,a){if(1&o&&(e.j41(0,"div",25)(1,"div",26)(2,"div",27),e.EFF(3," Nombre "),e.k0s(),e.j41(4,"div",28),e.EFF(5," Descripci\xf3n "),e.k0s(),e.j41(6,"div",29)(7,"span"),e.EFF(8,"Activo"),e.k0s()(),e.j41(9,"div",30),e.EFF(10," Acciones "),e.k0s()(),e.DNE(11,Et,2,0),e.nI1(12,"async"),e.k0s()),2&o){let t;const n=e.XpG(2);e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(4),e.Y8G("mat-sort-header","active"),e.R7$(5),e.vxM(11,(t=e.bMT(12,3,n.departments$))?11:-1,t)}}function Rt(o,a){if(1&o&&(e.j41(0,"div",41),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado departamentos!":"\xa1No se ha creado ning\xfan departamento a\xfan!","")}}function jt(o,a){1&o&&e.DNE(0,Rt,2,1,"div",40),2&o&&e.Y8G("ngxPermissionsExcept",e.lJ4(1,ge))}function $t(o,a){1&o&&e.DNE(0,Dt,13,5,"div",25)(1,jt,1,2),2&o&&e.vxM(0,a.length>0?0:1)}function It(o,a){if(1&o&&e.nrm(0,"mat-paginator",17),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,bt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,Ft))("showFirstLastButtons",!0)}}let Gt=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.MJ(null),this._unsubscribeAll=new h.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._fuseConfirmationService=(0,e.WQX)(L.G),this._departmentService=(0,e.WQX)(J),this._snackBar=(0,e.WQX)(T.UG),this._dialog=(0,e.WQX)(E.bZ),this.store=(0,e.WQX)(g.il)}ngOnInit(){this.departments$=this.store.select(he),this.store.select(V.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(q.Dz).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,X.B)(300),(0,M.Z)(null),(0,B.n)(t=>null!==t?(this.isLoading=!0,this._departmentService.findAllDepartments(0,10,"name","desc",t)):(0,_.of)()),(0,D.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,G.h)(this._sort.sortChange,this._paginator.page).pipe((0,B.n)(()=>(this.isLoading=!0,this._departmentService.findAllDepartments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,D.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateDepartmentStatus(t,n,i){this.isLoading=!0,this.selectedSlide=i,this._departmentService.updateDepartmentStatus({id:n.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createDepartment(){this._openDialog(new vt,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._departmentService.removeDepartment(t.id,this.pagination.page,this.pagination.size,"active","desc").subscribe(s=>{this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}trackByFn(t,n){return n.id||t}_openDialog(t,n){this._dialog.open(gt,{data:{department:t,dialogMode:n},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["departments"]],viewQuery:function(n,i){if(1&n&&(e.GBs(R.iy,5),e.GBs(u.B4,5)),2&n){let s;e.mGM(s=e.lsd())&&(i._paginator=s.first),e.mGM(s=e.lsd())&&(i._sort=s.first)}},standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"change","checked","color"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16 ",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(n,i){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Departamentos"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Departamentos "),e.k0s()()(),e.DNE(24,Ct,8,6,"div",14),e.k0s(),e.j41(25,"div",15)(26,"div",16),e.DNE(27,$t,2,1),e.nI1(28,"async"),e.DNE(29,It,1,9,"mat-paginator",17),e.k0s()()()),2&n){let s;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(6),e.Y8G("ngxPermissionsExcept",e.lJ4(9,ge)),e.R7$(3),e.vxM(27,(s=e.bMT(28,7,i.departments$))?27:-1,s),e.R7$(2),e.vxM(29,i.pagination.length>0?29:-1)}},dependencies:[F.Jj,d.Hl,d.$z,c.RG,c.rl,c.JW,f.m_,f.An,v.fS,v.fg,R.Ou,R.iy,I.D6,I.LG,x.mV,x.sG,u.NQ,u.B4,u.aE,F.YU,C.Wk,r.X1,r.me,r.BC,r.l_,Z.Ov,Z.f6],encapsulation:2,data:{animation:oe.X},changeDetection:0})}return o})();var Q=l(9454),U=l(67376),St=l(91401),ie=l(29217),ne=l(11781),At=l(44383),ae=l(62590),re=l(84412),Tt=(l(45312),l(21626));let ve=(()=>{class o{constructor(t){this._httpClient=t,this._scholarship=new re.t(null),this._salaryFreqs=new re.t(null),this._salaryMethods=new re.t(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,D.T)(t=>t.sort((n,i)=>n.toLowerCase()<i.toLowerCase()?-1:n.toLowerCase()>i.toLowerCase()?1:void 0)),(0,w.M)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,D.T)(t=>t.sort((n,i)=>n.toLowerCase()<i.toLowerCase()?-1:n.toLowerCase()>i.toLowerCase()?1:void 0)),(0,w.M)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,D.T)(t=>t.sort((n,i)=>n.toLowerCase()<i.toLowerCase()?-1:n.toLowerCase()>i.toLowerCase()?1:void 0)),(0,w.M)(t=>{this._salaryMethods.next(t)}))}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(Tt.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Mt=l(98049),K=l(90118),be=l(65478),Fe=l(86600);const ee=o=>({"cursor-not-allowed":o}),Ce=o=>({"mt-6":o});function Lt(o,a){1&o&&(e.j41(0,"a",12),e.EFF(1,"Nuevo"),e.k0s())}function Nt(o,a){if(1&o&&(e.j41(0,"a",12),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.selectedEmployee.name)}}function Bt(o,a){1&o&&e.EFF(0," Nuevo ")}function Yt(o,a){if(1&o&&e.EFF(0),2&o){const t=e.XpG();e.SpI(" ",t.selectedEmployee.name," ")}}function Xt(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function zt(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.updateEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}function Vt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado es obligatorio. "),e.k0s())}function Ut(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function Pt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre del empleado no debe contener n\xfameros. "),e.k0s())}function Qt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado es obligatorio. "),e.k0s())}function Ot(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function Wt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El primer apellido del empleado no debe contener n\xfameros. "),e.k0s())}function qt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.k0s())}function Ht(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.k0s())}function Jt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe escoger el g\xe9nero "),e.k0s())}function Zt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.k0s())}function Kt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.k0s())}function eo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.k0s())}function to(o,a){if(1&o){const t=e.RV6();e.j41(0,"bank-account",87),e.bIt("remove",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.removeBankAccount(i))}),e.k0s()}if(2&o){const n=a.$index,i=a.$index,s=a.$count;e.Y8G("bankAccountForm",a.$implicit)("first",0===i)("last",i===s-1)("index",n)}}function oo(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Tel\xe9fonos"),e.k0s())}function io(o,a){if(1&o&&(e.j41(0,"mat-option",38)(1,"span",27),e.nrm(2,"span",92),e.j41(3,"span",93),e.EFF(4),e.k0s(),e.j41(5,"span",94),e.EFF(6),e.k0s()()()),2&o){const t=a.$implicit;e.Y8G("value",t.code),e.R7$(4),e.JRh(t.name),e.R7$(2),e.JRh(t.code)}}function no(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),e.k0s())}function ao(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.k0s())}function ro(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El c\xf3digo sebe ser obligatorio. "),e.k0s())}function so(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Etiqueta"),e.k0s())}function lo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.k0s())}function mo(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",52)(1,"mat-form-field",88),e.DNE(2,oo,2,0,"mat-label"),e.nrm(3,"input",89),e.j41(4,"mat-select",90)(5,"mat-select-trigger")(6,"span",27)(7,"span",91),e.EFF(8),e.k0s()()(),e.j41(9,"mat-option",38)(10,"span",27),e.nrm(11,"span",92),e.j41(12,"span",93),e.EFF(13),e.nI1(14,"titlecase"),e.k0s(),e.j41(15,"span",94),e.EFF(16),e.k0s()()(),e.Z7z(17,io,7,3,"mat-option",38,e.BUC().trackByFn,!0),e.k0s(),e.DNE(19,no,2,0,"mat-error")(20,ao,2,0,"mat-error")(21,ro,2,0,"mat-error"),e.k0s(),e.j41(22,"mat-form-field",95),e.DNE(23,so,2,0,"mat-label"),e.nrm(24,"mat-icon",39)(25,"input",96),e.DNE(26,lo,2,0,"mat-error"),e.k0s(),e.qex(27),e.j41(28,"div",97)(29,"button",98),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.removePhoneNumberField(i))}),e.nrm(30,"mat-icon",48),e.k0s()(),e.bVm(),e.k0s()}if(2&o){const t=a.$implicit,n=a.$index,i=a.$index,s=e.XpG();e.R7$(2),e.vxM(2,0===i?2:-1),e.R7$(),e.Y8G("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),e.R7$(),e.Y8G("formControl",t.get("stateCode")),e.R7$(4),e.JRh(s.employeeForm.get("phoneNumbers").value[n].stateCode),e.R7$(),e.Y8G("value","+535"),e.R7$(4),e.JRh(e.bMT(14,23,"celular")),e.R7$(3),e.JRh("+535"),e.R7$(),e.Dyx(s.statesCodes),e.R7$(2),e.vxM(19,t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")?19:-1),e.R7$(),e.vxM(20,t.get("phoneNumber").hasError("pattern")?20:-1),e.R7$(),e.vxM(21,t.get("stateCode").hasError("required")?21:-1),e.R7$(2),e.vxM(23,0===i?23:-1),e.R7$(),e.Y8G("svgIcon","heroicons_solid:tag"),e.R7$(),e.Y8G("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.R7$(),e.vxM(26,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?26:-1),e.R7$(2),e.Y8G("ngClass",e.eq3(25,Ce,0===i)),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function co(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Correos Electr\xf3nicos"),e.k0s())}function po(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.k0s())}function uo(o,a){1&o&&(e.j41(0,"mat-label"),e.EFF(1,"Etiqueta"),e.k0s())}function ho(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.k0s())}function fo(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",54)(1,"mat-form-field",88),e.DNE(2,co,2,0,"mat-label"),e.nrm(3,"mat-icon",39)(4,"input",99),e.DNE(5,po,2,0,"mat-error"),e.k0s(),e.j41(6,"mat-form-field",95),e.DNE(7,uo,2,0,"mat-label"),e.nrm(8,"mat-icon",39)(9,"input",96),e.DNE(10,ho,2,0,"mat-error"),e.k0s(),e.qex(11),e.j41(12,"div",97)(13,"button",100),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.removeEmailField(i))}),e.nrm(14,"mat-icon",48),e.k0s()(),e.bVm(),e.k0s()}if(2&o){const t=a.$implicit,n=a.$index;e.R7$(2),e.vxM(2,0===n?2:-1),e.R7$(),e.Y8G("svgIcon","mat_solid:email"),e.R7$(),e.Y8G("formControl",t.get("email"))("spellcheck",!1),e.R7$(),e.vxM(5,t.get("email").hasError("email")?5:-1),e.R7$(2),e.vxM(7,0===n?7:-1),e.R7$(),e.Y8G("svgIcon","heroicons_solid:tag"),e.R7$(),e.Y8G("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.R7$(),e.vxM(10,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?10:-1),e.R7$(2),e.Y8G("ngClass",e.eq3(14,Ce,0===n)),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function _o(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el pa\xeds. "),e.k0s())}function go(o,a){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function vo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar una provincia. "),e.k0s())}function bo(o,a){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.city),e.R7$(),e.SpI(" ",t.city," ")}}function Fo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un municipio. "),e.k0s())}function Co(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El c\xf3digo postal no presenta un formato v\xe1lido. "),e.k0s())}function yo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n es obligatoria. "),e.k0s())}function xo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.k0s())}function ko(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La fecha de contrataci\xf3n es obligatoria. "),e.k0s())}function Eo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un tipo de contrato. "),e.k0s())}function Do(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.k0s())}function Ro(o,a){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function jo(o,a){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function $o(o,a){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name,"")}}function Io(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el cargo "),e.k0s())}function Go(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el nivel de escolaridad. "),e.k0s())}function So(o,a){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI("",t," ")}}function Ao(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.k0s())}function wo(o,a){if(1&o&&(e.j41(0,"mat-option",38),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI("",t," ")}}function To(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un modo pago "),e.k0s())}function Mo(o,a){if(1&o&&e.nrm(0,"img",79),2&o){const t=e.XpG();e.Y8G("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.B4B)}}function Lo(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",101),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.removeImage())}),e.nrm(1,"mat-icon",102),e.k0s()}}function No(o,a){1&o&&(e.j41(0,"div",81),e.EFF(1," SIN IMAGEN "),e.k0s())}function Bo(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"input",103,2),e.bIt("change",function(){e.eBV(t);const i=e.sdS(2),s=e.XpG();return e.Njj(s.uploadImage(i.files))}),e.k0s(),e.j41(3,"label",104)(4,"div",105),e.nrm(5,"mat-icon",48),e.j41(6,"span",49),e.EFF(7," Agregar imagen "),e.k0s()()()()}2&o&&(e.R7$(),e.Y8G("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.R7$(4),e.Y8G("svgIcon","mat_solid:add_circle"))}function Yo(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function Xo(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",84),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.updateEmployee())}),e.nrm(1,"mat-icon",85),e.j41(2,"span",86),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.employeeForm.invalid)("ngClass",e.eq3(3,ee,t.employeeForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}let zo=(()=>{class o{constructor(){this.cities=[],this.currencies=[],this.states=[],this.statesCodes=[],this.stateSelected="",this.windowsMode="new",this._unsubscribeAll=new h.B,this._activatedRoute=(0,e.WQX)(C.nX),this._changeDetectorRef=(0,e.WQX)(e.gRc),this._formBuilder=(0,e.WQX)(r.ok),this._fuseConfirmationService=(0,e.WQX)(L.G),this._hrmService=(0,e.WQX)(ve),this._employeesService=(0,e.WQX)(ae.r),this._locationService=(0,e.WQX)(K.N),this._router=(0,e.WQX)(C.Ix),this._imagesService=(0,e.WQX)(Mt.M),this._snackBar=(0,e.WQX)(T.UG),this.store=(0,e.WQX)(g.il)}ngOnInit(){this.store.select(V.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this.currentMerchant=n}),this.store.select(ie.x2).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this.selectedEmployee=n}),this.store.select(St.y$).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this.currencies=n}),this.locations$=this.store.select(ne.BF),this.charges$=this.store.select(pe),this.departments$=this.store.select(he),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this._locationService.states$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this.states=n,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this.statesCodes=n,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({id:[null],active:[!0],name:[null,[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255),S.t.onlyAlphabetsWithAccentPattern()]],lastname1:[null,[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255),S.t.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[r.k0.minLength(3),r.k0.maxLength(255),S.t.onlyAlphabetsWithAccentPattern()]],gender:[null,[r.k0.required]],idNumber:[null,[r.k0.maxLength(11),r.k0.minLength(11),S.t.onlyNumbersPattern()]],bankAccounts:this._formBuilder.array([]),emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:[null,[r.k0.required,r.k0.minLength(3),r.k0.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[r.k0.required]],state:[null,[r.k0.required]],city:[null,[r.k0.required]],zip:[null,[r.k0.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],dateOfJoining:[null],typeOfContract:[null],contractEndDate:[null],contractTime:[0,[S.t.onlyNumbersPattern()]],departmentId:[null],chargeId:[null],scholarship:[null],locationId:[null],salaryFreq:[null],salaryMethod:[null],salaryLevel:[null],imageUrl:[null]}),this.employeeForm.get("state")?.valueChanges.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this._getCitiesByState(n),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({employeeId:n})=>{"new"!==n&&(this.windowsMode="edit"),this._fillEmployeeData()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addBankAccount(){const t=this._formBuilder.group({bankId:[null,[r.k0.required]],beneficiary:[null,[r.k0.maxLength(255),S.t.onlyAlphabetsWithAccentPattern()]],no:[null,[r.k0.required,r.k0.minLength(16),r.k0.maxLength(24)]],currencyId:[null,[r.k0.required]]});this.employeeForm.get("bankAccounts").push(t),this._changeDetectorRef.markForCheck()}removeBankAccount(t){this.employeeForm.get("bankAccounts").removeAt(t),this._changeDetectorRef.markForCheck()}addEmailField(){const t=this._formBuilder.group({email:["",[r.k0.email,r.k0.maxLength(255)]],label:["",[r.k0.minLength(3),r.k0.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["+535",[r.k0.required]],phoneNumber:["",[r.k0.minLength(7),r.k0.maxLength(7),S.t.onlyNumbersPattern()]],label:["",[r.k0.minLength(3),r.k0.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){let t=this.employeeForm.getRawValue();delete t.id,t=U(t).omitBy(U.isNull).omitBy(U.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._employeesService.createEmployee(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}updateEmployee(){let t=this.employeeForm.getRawValue();t=U(t).omitBy(U.isNull).value(),this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._employeesService.updateEmployee(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}trackByFn(t,n){return n.id||t}uploadImage(t){if(!t.length)return;const i=t[0];i.size/1024/1024>1?this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}}):["image/jpeg","image/jpg","image/webp","image/png"].includes(i.type)&&this._imagesService.uploadImage("HRM",i).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(s.imageUrl),"edit"===this.windowsMode?this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:s.imageUrl}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(p=>{p&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:p.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())}):this._changeDetectorRef.markForCheck()},s=>{console.warn(s)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen de este empleado?",icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._imagesService.removeImage(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(null),"edit"===this.windowsMode&&this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:null}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(p=>{p&&this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})})}_fillEmployeeData(){"new"!==this.windowsMode&&(this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this.employeeForm.get("bankAccounts").clear(),this._setEmployeeDataOnForm(this.selectedEmployee),this._changeDetectorRef.markForCheck())}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this.cities=n,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this._getCitiesByState(t.state);const n=[];t.emails.length>0&&t.emails.forEach(p=>{n.push(this._formBuilder.group({email:[p.email,[r.k0.email,r.k0.maxLength(255)]],label:[p.label,[r.k0.minLength(3),r.k0.maxLength(255)]]}))}),n.forEach(p=>{this.employeeForm.get("emails").push(p)});const i=[];t.phoneNumbers.length>0&&t.phoneNumbers.forEach(p=>{i.push(this._formBuilder.group({stateCode:[p.stateCode,[r.k0.required]],phoneNumber:[p.phoneNumber,[r.k0.minLength(7),r.k0.maxLength(7),S.t.onlyNumbersPattern()]],label:[p.label,[r.k0.minLength(3),r.k0.maxLength(255)]]}))}),i.forEach(p=>{this.employeeForm.get("phoneNumbers").push(p)});const s=[];t.bankAccounts.length>0&&(t.bankAccounts.forEach(p=>{s.push(this._formBuilder.group({bankId:[p.bankId,[r.k0.required]],beneficiary:[p.beneficiary,[S.t.onlyAlphabetsWithAccentPattern()]],no:[p.no,[r.k0.required,r.k0.minLength(16),r.k0.maxLength(24)]],currencyId:[p.currencyId,[r.k0.required]]}))}),s.forEach(p=>{this.employeeForm.get("bankAccounts").push(p)}))}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["employee-detail"]],standalone:!0,features:[e.aNF],decls:309,vars:119,consts:[["joinDatepicker",""],["birthdayDatepicker",""],["imageFileInput",""],["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-700"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","masculino"],["value","femenino"],[3,"value"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[1,"pt-8","pb-8","pl-4","pr-4","border-t-2"],[1,"flex","flex-col","space-y-6"],[3,"bankAccountForm","first","last","index"],[1,"inline-flex","items-center","px-4","py-2","mt-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"flex","flex-col","sm:flex-row"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",1,"mat-fuse-dense",3,"formControlName","max"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["matPrefix","",3,"for"],["matInput","",3,"matDatepicker","formControlName","placeholder"],[3,"formControlName"],["value","Determinado"],["value","Indeterminado"],["matInput","","type","number",3,"formControlName","min"],["matSuffix","",1,"ml-1"],["value","Primaria"],["value","Secundaria"],["value","TecnicoMedio"],["value","ObreroCalificado"],["value","MedioSuperior"],["value","Superior"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click","disabled","ngClass"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"remove","bankAccountForm","first","last","index"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100",3,"click"],["svgIcon","mat_solid:delete",1,"text-white","icon-size-5"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"change","multiple","accept"],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"]],template:function(n,i){if(1&n){const s=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div")(4,"div",6)(5,"div",7)(6,"a",8),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"mat-icon",9),e.j41(10,"a",10),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",7),e.nrm(13,"mat-icon",9),e.j41(14,"a",11),e.EFF(15,"Empleados"),e.k0s()(),e.j41(16,"div",7),e.nrm(17,"mat-icon",9),e.DNE(18,Lt,2,0,"a",12)(19,Nt,2,1,"a",12),e.j41(20,"a",13),e.EFF(21,"Nuevo"),e.k0s()()(),e.j41(22,"div",14)(23,"a",15),e.nrm(24,"mat-icon",9),e.j41(25,"span",16),e.EFF(26,"Regresar"),e.k0s()()()(),e.j41(27,"div",17)(28,"div",18),e.DNE(29,Bt,1,0)(30,Yt,1,1),e.k0s()()(),e.j41(31,"div",19),e.DNE(32,Xt,4,5,"button",20)(33,zt,4,5,"button",20),e.k0s()(),e.j41(34,"div",21)(35,"div",22)(36,"form",23)(37,"mat-accordion",24)(38,"mat-expansion-panel",25)(39,"mat-expansion-panel-header",26)(40,"mat-panel-title",27)(41,"div",28),e.EFF(42," Informaci\xf3n General "),e.k0s()()(),e.j41(43,"div",29)(44,"div",30)(45,"mat-form-field",31)(46,"mat-label"),e.EFF(47,"Nombre"),e.k0s(),e.nrm(48,"input",32),e.DNE(49,Vt,2,0,"mat-error")(50,Ut,2,0,"mat-error")(51,Pt,2,0,"mat-error"),e.k0s()(),e.j41(52,"div",30)(53,"mat-form-field",31)(54,"mat-label"),e.EFF(55,"Primer Apellido"),e.k0s(),e.nrm(56,"input",33),e.DNE(57,Qt,2,0,"mat-error")(58,Ot,2,0,"mat-error")(59,Wt,2,0,"mat-error"),e.k0s()(),e.j41(60,"div",30)(61,"mat-form-field",31)(62,"mat-label"),e.EFF(63,"Segundo Apellido"),e.k0s(),e.nrm(64,"input",34),e.DNE(65,qt,2,0,"mat-error")(66,Ht,2,0,"mat-error"),e.k0s()(),e.j41(67,"div",30)(68,"mat-form-field",31)(69,"mat-label"),e.EFF(70,"G\xe9nero"),e.k0s(),e.j41(71,"mat-select",35)(72,"mat-option",36),e.EFF(73,"Masculino"),e.k0s(),e.j41(74,"mat-option",37),e.EFF(75,"Femenino"),e.k0s(),e.j41(76,"mat-option",38),e.EFF(77,"Otro"),e.k0s()(),e.DNE(78,Jt,2,0,"mat-error"),e.k0s()(),e.j41(79,"div",30)(80,"mat-form-field",31)(81,"mat-label"),e.EFF(82,"N\xfamero de identidad"),e.k0s(),e.nrm(83,"mat-icon",39)(84,"input",40),e.DNE(85,Zt,2,0,"mat-error")(86,Kt,2,0,"mat-error")(87,eo,2,0,"mat-error"),e.k0s()(),e.j41(88,"div",41)(89,"span",42),e.EFF(90,"Estado"),e.k0s(),e.j41(91,"mat-slide-toggle",43),e.EFF(92," Activo "),e.k0s()()()(),e.j41(93,"mat-expansion-panel")(94,"mat-expansion-panel-header",26)(95,"mat-panel-title",27)(96,"div",28),e.EFF(97," Cuentas de banco "),e.k0s()()(),e.j41(98,"div",44)(99,"div",45),e.Z7z(100,to,1,4,"bank-account",46,i.trackByFn,!0),e.k0s(),e.j41(102,"div",47),e.bIt("click",function(){return e.eBV(s),e.Njj(i.addBankAccount())}),e.nrm(103,"mat-icon",48),e.j41(104,"span",49),e.EFF(105," Agregar Cuenta "),e.k0s()()()(),e.j41(106,"mat-expansion-panel")(107,"mat-expansion-panel-header",26)(108,"mat-panel-title",27)(109,"div",28),e.EFF(110," Informaci\xf3n de contacto "),e.k0s()()(),e.j41(111,"div",50)(112,"div",30)(113,"div",51),e.Z7z(114,mo,31,27,"div",52,i.trackByFn,!0),e.k0s(),e.j41(116,"div",53),e.bIt("click",function(){return e.eBV(s),e.Njj(i.addPhoneNumberField())}),e.nrm(117,"mat-icon",48),e.j41(118,"span",49),e.EFF(119,"Agregar tel\xe9fono"),e.k0s()()(),e.j41(120,"div",30)(121,"div",51),e.Z7z(122,fo,15,16,"div",54,i.trackByFn,!0),e.k0s(),e.j41(124,"div",53),e.bIt("click",function(){return e.eBV(s),e.Njj(i.addEmailField())}),e.nrm(125,"mat-icon",48),e.j41(126,"span",49),e.EFF(127,"Agregar correo electr\xf3nico"),e.k0s()()()()(),e.j41(128,"mat-expansion-panel",25)(129,"mat-expansion-panel-header",26)(130,"mat-panel-title",27)(131,"div",28),e.EFF(132," Domicilio "),e.k0s()()(),e.j41(133,"div",44)(134,"div",55)(135,"div",30)(136,"mat-form-field",31)(137,"mat-label"),e.EFF(138,"Pa\xeds"),e.k0s(),e.j41(139,"mat-select",35)(140,"mat-option",56),e.EFF(141,"Cuba"),e.k0s()(),e.nrm(142,"mat-icon",57),e.DNE(143,_o,2,0,"mat-error"),e.k0s()(),e.j41(144,"div",30)(145,"mat-form-field",31)(146,"mat-label"),e.EFF(147,"Provincia"),e.k0s(),e.j41(148,"mat-select",35),e.Z7z(149,go,2,2,"mat-option",38,i.trackByFn,!0),e.k0s(),e.nrm(151,"mat-icon",57),e.DNE(152,vo,2,0,"mat-error"),e.k0s()(),e.j41(153,"div",30)(154,"mat-form-field",31)(155,"mat-label"),e.EFF(156,"Municipio"),e.k0s(),e.j41(157,"mat-select",35),e.Z7z(158,bo,2,2,"mat-option",38,i.trackByFn,!0),e.k0s(),e.nrm(160,"mat-icon",57),e.DNE(161,Fo,2,0,"mat-error"),e.k0s()(),e.j41(162,"div",30)(163,"mat-form-field",58)(164,"mat-label"),e.EFF(165,"C\xf3digo Postal"),e.k0s(),e.nrm(166,"input",59),e.DNE(167,Co,2,0,"mat-error"),e.k0s()(),e.j41(168,"div",60)(169,"mat-form-field",61)(170,"mat-label"),e.EFF(171,"Direcci\xf3n"),e.k0s(),e.nrm(172,"mat-icon",39)(173,"textarea",62),e.DNE(174,yo,2,0,"mat-error")(175,xo,2,0,"mat-error"),e.k0s()()()()(),e.j41(176,"mat-expansion-panel")(177,"mat-expansion-panel-header",26)(178,"mat-panel-title",27)(179,"div",28),e.EFF(180," Datos de incorporaci\xf3n "),e.k0s()()(),e.j41(181,"div",29)(182,"div",30)(183,"mat-form-field",31)(184,"mat-label"),e.EFF(185,"Fecha de contrataci\xf3n"),e.k0s(),e.nrm(186,"mat-datepicker-toggle",63)(187,"mat-datepicker",null,0)(189,"input",64),e.DNE(190,ko,2,0,"mat-error"),e.k0s()(),e.j41(191,"div",30)(192,"mat-form-field",31)(193,"mat-label"),e.EFF(194,"Tipo de contrato"),e.k0s(),e.j41(195,"mat-select",65)(196,"mat-option",66),e.EFF(197,"Determinado"),e.k0s(),e.j41(198,"mat-option",67),e.EFF(199,"Indeterminado"),e.k0s()(),e.DNE(200,Eo,2,0,"mat-error"),e.k0s()(),e.j41(201,"div",30)(202,"mat-form-field",31)(203,"mat-label"),e.EFF(204,"Fecha de cierre del contrato"),e.k0s(),e.nrm(205,"mat-datepicker-toggle",63)(206,"mat-datepicker",null,1)(208,"input",64),e.k0s()(),e.j41(209,"div",30)(210,"mat-form-field",31)(211,"mat-label"),e.EFF(212,"Tiempo del contrato"),e.k0s(),e.nrm(213,"mat-icon",39)(214,"input",68),e.j41(215,"span",69),e.EFF(216,"D\xedas"),e.k0s(),e.DNE(217,Do,2,0,"mat-error"),e.k0s()()()(),e.j41(218,"mat-expansion-panel")(219,"mat-expansion-panel-header",26)(220,"mat-panel-title",27)(221,"div",28),e.EFF(222," Departamento, cargo y escolaridad "),e.k0s()()(),e.j41(223,"div",44)(224,"div",55)(225,"div",30)(226,"mat-form-field",31)(227,"mat-label"),e.EFF(228,"Unidad Comercial"),e.k0s(),e.j41(229,"mat-select",65),e.Z7z(230,Ro,2,2,"mat-option",38,e.fX1),e.nI1(232,"async"),e.k0s()()(),e.j41(233,"div",30)(234,"mat-form-field",31)(235,"mat-label"),e.EFF(236,"Departamento"),e.k0s(),e.j41(237,"mat-select",65),e.Z7z(238,jo,2,2,"mat-option",38,e.fX1),e.nI1(240,"async"),e.k0s()()(),e.j41(241,"div",30)(242,"mat-form-field",31)(243,"mat-label"),e.EFF(244,"Cargo"),e.k0s(),e.j41(245,"mat-select",65),e.Z7z(246,$o,2,2,"mat-option",38,e.fX1),e.nI1(248,"async"),e.k0s(),e.DNE(249,Io,2,0,"mat-error"),e.k0s()(),e.j41(250,"div",30)(251,"mat-form-field",31)(252,"mat-label"),e.EFF(253,"Escolaridad"),e.k0s(),e.j41(254,"mat-select",65)(255,"mat-option",70),e.EFF(256,"Primaria"),e.k0s(),e.j41(257,"mat-option",71),e.EFF(258,"Secundaria"),e.k0s(),e.j41(259,"mat-option",72),e.EFF(260,"T\xe9cnico Medio"),e.k0s(),e.j41(261,"mat-option",73),e.EFF(262,"Obrero Calificado"),e.k0s(),e.j41(263,"mat-option",74),e.EFF(264,"Medio Superior"),e.k0s(),e.j41(265,"mat-option",75),e.EFF(266,"Superior"),e.k0s()(),e.DNE(267,Go,2,0,"mat-error"),e.k0s()()()()(),e.j41(268,"mat-expansion-panel")(269,"mat-expansion-panel-header",26)(270,"mat-panel-title",27)(271,"div",28),e.EFF(272," Salario "),e.k0s()()(),e.j41(273,"div",29)(274,"div",30)(275,"mat-form-field",31)(276,"mat-label"),e.EFF(277,"Frecuencia"),e.k0s(),e.j41(278,"mat-select",65),e.Z7z(279,So,2,2,"mat-option",38,e.fX1),e.nI1(281,"async"),e.k0s(),e.DNE(282,Ao,2,0,"mat-error"),e.k0s()(),e.j41(283,"div",30)(284,"mat-form-field",31)(285,"mat-label"),e.EFF(286,"Modo de pago"),e.k0s(),e.j41(287,"mat-select",65),e.Z7z(288,wo,2,2,"mat-option",38,e.fX1),e.nI1(290,"async"),e.k0s(),e.DNE(291,To,2,0,"mat-error"),e.k0s()()()(),e.j41(292,"mat-expansion-panel")(293,"mat-expansion-panel-header",26)(294,"mat-panel-title",27)(295,"div",28),e.EFF(296," Imagen "),e.k0s()()(),e.j41(297,"div",29)(298,"div",76)(299,"div",77)(300,"div",78),e.DNE(301,Mo,1,2,"img",79)(302,Lo,2,0,"button",80)(303,No,2,0,"div",81),e.k0s()(),e.DNE(304,Bo,8,3,"div"),e.k0s()()()()()()(),e.j41(305,"div",82)(306,"div",83),e.DNE(307,Yo,4,5,"button",20)(308,Xo,4,5,"button",20),e.k0s()()()}if(2&n){const s=e.sdS(188),p=e.sdS(207);e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(),e.vxM(18,"new"===i.windowsMode?18:-1),e.R7$(),e.vxM(19,"new"!==i.windowsMode?19:-1),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(5),e.vxM(29,"new"===i.windowsMode?29:-1),e.R7$(),e.vxM(30,"new"!==i.windowsMode?30:-1),e.R7$(2),e.vxM(32,"new"===i.windowsMode?32:-1),e.R7$(),e.vxM(33,"new"!==i.windowsMode?33:-1),e.R7$(3),e.Y8G("formGroup",i.employeeForm)("autocomplete","off"),e.R7$(2),e.Y8G("expanded",!0),e.R7$(),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.R7$(),e.vxM(49,i.employeeForm.get("name").hasError("required")?49:-1),e.R7$(),e.vxM(50,i.employeeForm.get("name").hasError("maxlength")||i.employeeForm.get("name").hasError("minlength")?50:-1),e.R7$(),e.vxM(51,i.employeeForm.get("name").hasError("pattern")?51:-1),e.R7$(5),e.Y8G("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.R7$(),e.vxM(57,i.employeeForm.get("lastname1").hasError("required")?57:-1),e.R7$(),e.vxM(58,i.employeeForm.get("lastname1").hasError("maxlength")||i.employeeForm.get("lastname2").hasError("minlength")?58:-1),e.R7$(),e.vxM(59,i.employeeForm.get("lastname1").hasError("pattern")?59:-1),e.R7$(5),e.Y8G("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.R7$(),e.vxM(65,i.employeeForm.get("lastname2").hasError("maxlength")||i.employeeForm.get("lastname2").hasError("minlength")?65:-1),e.R7$(),e.vxM(66,i.employeeForm.get("lastname2").hasError("pattern")?66:-1),e.R7$(5),e.Y8G("formControlName","gender"),e.R7$(5),e.Y8G("value","otro"),e.R7$(2),e.vxM(78,i.employeeForm.get("gender").hasError("required")?78:-1),e.R7$(5),e.Y8G("svgIcon","mat_solid:badge"),e.R7$(),e.Y8G("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.R7$(),e.vxM(85,i.employeeForm.get("idNumber").hasError("required")?85:-1),e.R7$(),e.vxM(86,i.employeeForm.get("idNumber").hasError("maxlength")||i.employeeForm.get("idNumber").hasError("minlength")?86:-1),e.R7$(),e.vxM(87,i.employeeForm.get("idNumber").hasError("pattern")?87:-1),e.R7$(4),e.Y8G("color","primary")("formControlName","active"),e.R7$(3),e.Y8G("collapsedHeight","56px"),e.R7$(6),e.Dyx(i.employeeForm.get("bankAccounts").controls),e.R7$(3),e.Y8G("svgIcon","mat_solid:add_circle"),e.R7$(4),e.Y8G("collapsedHeight","56px"),e.R7$(7),e.Dyx(i.employeeForm.get("phoneNumbers").controls),e.R7$(3),e.Y8G("svgIcon","mat_solid:add_circle"),e.R7$(5),e.Dyx(i.employeeForm.get("emails").controls),e.R7$(3),e.Y8G("svgIcon","mat_solid:add_circle"),e.R7$(3),e.Y8G("expanded",!0),e.R7$(),e.Y8G("collapsedHeight","56px"),e.R7$(10),e.Y8G("formControlName","country"),e.R7$(3),e.Y8G("svgIcon","mat_solid:public"),e.R7$(),e.vxM(143,i.employeeForm.get("country").hasError("required")?143:-1),e.R7$(5),e.Y8G("formControlName","state"),e.R7$(),e.Dyx(i.states),e.R7$(2),e.Y8G("svgIcon","mat_solid:map"),e.R7$(),e.vxM(152,i.employeeForm.get("state").hasError("required")?152:-1),e.R7$(5),e.Y8G("formControlName","city"),e.R7$(),e.Dyx(i.cities),e.R7$(2),e.Y8G("svgIcon","mat_solid:location_on"),e.R7$(),e.vxM(161,i.employeeForm.get("city").hasError("required")?161:-1),e.R7$(5),e.Y8G("formControlName","zip")("max",99999),e.R7$(),e.vxM(167,i.employeeForm.get("zip").hasError("pattern")?167:-1),e.R7$(5),e.Y8G("svgIcon","mat_solid:home"),e.R7$(),e.Y8G("formControlName","address")("minLength",3)("maxlength",255),e.R7$(),e.vxM(174,i.employeeForm.get("address").hasError("required")?174:-1),e.R7$(),e.vxM(175,i.employeeForm.get("address").hasError("maxlength")||i.employeeForm.get("address").hasError("minlength")?175:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("for",s),e.R7$(3),e.Y8G("matDatepicker",s)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.R7$(),e.vxM(190,i.employeeForm.get("dateOfJoining").hasError("required")?190:-1),e.R7$(5),e.Y8G("formControlName","typeOfContract"),e.R7$(5),e.vxM(200,i.employeeForm.get("typeOfContract").hasError("required")?200:-1),e.R7$(5),e.Y8G("for",p),e.R7$(3),e.Y8G("matDatepicker",p)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.R7$(5),e.Y8G("svgIcon","mat_solid:schedule"),e.R7$(),e.Y8G("formControlName","contractTime")("min",0),e.R7$(3),e.vxM(217,i.employeeForm.get("contractTime").hasError("pattern")?217:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(10),e.Y8G("formControlName","locationId"),e.R7$(),e.Dyx(e.bMT(232,109,i.locations$)),e.R7$(7),e.Y8G("formControlName","departmentId"),e.R7$(),e.Dyx(e.bMT(240,111,i.departments$)),e.R7$(7),e.Y8G("formControlName","chargeId"),e.R7$(),e.Dyx(e.bMT(248,113,i.charges$)),e.R7$(3),e.vxM(249,i.employeeForm.get("chargeId").hasError("required")?249:-1),e.R7$(5),e.Y8G("formControlName","scholarship"),e.R7$(13),e.vxM(267,i.employeeForm.get("scholarship").hasError("required")?267:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(9),e.Y8G("formControlName","salaryFreq"),e.R7$(),e.Dyx(e.bMT(281,115,i.salaryFreqs$)),e.R7$(3),e.vxM(282,i.employeeForm.get("salaryFreq").hasError("required")?282:-1),e.R7$(5),e.Y8G("formControlName","salaryMethod"),e.R7$(),e.Dyx(e.bMT(290,117,i.salaryMethods$)),e.R7$(3),e.vxM(291,i.employeeForm.get("salaryMethod").hasError("required")?291:-1),e.R7$(2),e.Y8G("collapsedHeight","56px"),e.R7$(8),e.vxM(301,i.employeeForm.get("imageUrl").value?301:-1),e.R7$(),e.vxM(302,i.employeeForm.get("imageUrl").value?302:-1),e.R7$(),e.vxM(303,i.employeeForm.get("imageUrl").value?-1:303),e.R7$(),e.vxM(304,i.employeeForm.get("imageUrl").value?-1:304),e.R7$(3),e.vxM(307,"new"===i.windowsMode?307:-1),e.R7$(),e.vxM(308,"new"!==i.windowsMode?308:-1)}},dependencies:[F.Jj,At.n,d.Hl,d.$z,d.iY,d.$0,H.g7,P.X6,be.uv,P.Vh,P.bZ,P.bU,E.hM,Q.MY,Q.BS,Q.GK,Q.Z2,Q.WN,c.RG,c.rl,c.nJ,c.TL,c.JW,c.yw,f.m_,f.An,v.fS,v.fg,z.Ve,z.VO,z.$2,Fe.wT,x.mV,x.sG,F.YU,r.X1,r.qT,r.me,r.Q0,r.BC,r.cb,r.YS,r.xh,r.tU,r.VZ,r.l_,r.j4,r.JD,C.Wk,F.PV],encapsulation:2,changeDetection:0})}return o})();var Vo=l(44312),Uo=l(87932);const Po=o=>({"cursor-not-allowed":o});function Qo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correo electr\xf3nico es obligatorio. "),e.k0s())}function Oo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El correo no posee un formato v\xe1lido. "),e.k0s())}function Wo(o,a){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility")}function qo(o,a){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility_off")}function Ho(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La contrase\xf1a es obligatoria. "),e.k0s())}function Jo(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1,' La contrase\xf1a deber\xe1 tener entre 8 y 100 caracteres e incluir may\xfasculas, min\xfasculas n\xfameros y s\xedmbolos como: ! " ? $ % ^ &. '),e.k0s())}function Zo(o,a){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility")}function Ko(o,a){1&o&&e.nrm(0,"mat-icon",12),2&o&&e.Y8G("svgIcon","mat_solid:visibility-off")}function ei(o,a){1&o&&(e.j41(0,"mat-error",14),e.EFF(1," La contrase\xf1a es obligatoria "),e.k0s())}function ti(o,a){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.employeeUserForm.get("pwd2").getError("mustMatch")," ")}}function oi(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",25),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,s=e.XpG();return e.Njj(s.markRole(i.id,!i.checked))}),e.j41(1,"div",26),e.EFF(2),e.k0s()()}if(2&o){const t=e.XpG().$implicit;e.R7$(2),e.SpI(" ",t.description," ")}}function ii(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"mat-checkbox",22),e.bIt("change",function(i){const s=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.markRole(s.id,i.checked))}),e.j41(2,"span",23),e.EFF(3),e.k0s()(),e.DNE(4,oi,3,1,"div",24),e.k0s()}if(2&o){const t=a.$implicit;e.R7$(),e.Y8G("color","primary")("color","primary")("checked",t.checked),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(),e.vxM(4,t.description?4:-1)}}let ni=(()=>{class o{constructor(t){this.data=t,this.roles=[],this._changeDetectorRef=(0,e.WQX)(e.gRc),this._dialogRef=(0,e.WQX)(E.CP),this._formBuilder=(0,e.WQX)(r.ok),this._fuseConfirmationService=(0,e.WQX)(L.G),this._snackBar=(0,e.WQX)(T.UG),this._unsubscribeAll=new h.B,this._usersService=(0,e.WQX)(Uo.g),this._rolesService=(0,e.WQX)(Vo.W),this.store=(0,e.WQX)(g.il)}ngOnInit(){this._rolesService.findAllActiveRoles().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.roles=structuredClone(t),this._changeDetectorRef.markForCheck()}),this.employeeUserForm=this._formBuilder.group({employeeId:[this.data.employee.id,[r.k0.required]],email:[null,[r.k0.email,r.k0.required]],pwd:["",[r.k0.minLength(8),r.k0.maxLength(100),S.t.strongPasWordPattern()]],pwd2:[""],roleId:[null,[r.k0.required]]},{validators:S.t.mustMatch("pwd","pwd2")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createUser(){const t=this.employeeUserForm.getRawValue();delete t.pwd2,this._fuseConfirmationService.open({title:"Crear usuario",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._usersService.createUserFromEmployee(t).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.createUserFromEmployee.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})}),this._changeDetectorRef.markForCheck()}markRole(t,n){for(const i of this.roles)i.id===t&&n?(i.checked=!0,this.employeeUserForm.get("roleId").setValue(i.id)):i.checked=!1;this.roles.some(i=>i.checked)||this.employeeUserForm.get("roleId").setValue(null),this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(E.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-employee-user-dialog"]],standalone:!0,features:[e.aNF],decls:43,vars:25,consts:[["passwordField1",""],["passwordField2",""],[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"w-full","px-8","pb-6","overflow-hidden","sm:flex-row","sm:items-start","sm:pb-8"],[1,"grid","w-full","grid-cols-1","gap-3","pt-6","mt-3","overflow-auto","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full","sm:col-span-2"],["matInput","","required","",3,"type","formControlName","placeholder"],[1,"w-full","col-span-1"],["type","password","placeholder","Contrase\xf1a","matInput","","required","",3,"formControlName","minlength","maxlength"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],["type","password","placeholder","Repita la contrase\xf1a","matInput","","required","",3,"formControlName"],[1,"pb-5"],[1,"col-span-1","sm:col-span-2","h-50"],[1,"font-semibold"],[1,"grid","w-full","grid-cols-2","gap-4","mt-3","overflow-auto"],[1,"relative","p-3","overflow-hidden","border","border-dashed","rounded-sm","cursor-pointer","border-primary-700","max-h-30"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black/10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"click","color","disabled","ngClass"],[1,"absolute","top-2.5","left-3",3,"change","color","checked"],[1,"font-medium","truncate"],[1,"h-full","mt-8"],[1,"h-full","mt-8",3,"click"],[1,"whitespace-pre-line","text-md","text-hint","line-clamp-3"]],template:function(n,i){if(1&n){const s=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"h2",4),e.EFF(3,"Crear Usuario"),e.k0s()(),e.j41(4,"div",5)(5,"form",6)(6,"mat-form-field",7)(7,"mat-label"),e.EFF(8,"Correo electr\xf3nico"),e.k0s(),e.nrm(9,"input",8),e.DNE(10,Qo,2,0,"mat-error")(11,Oo,2,0,"mat-error"),e.k0s(),e.j41(12,"mat-form-field",9)(13,"mat-label"),e.EFF(14,"Contrase\xf1a"),e.k0s(),e.nrm(15,"input",10,0),e.j41(17,"button",11),e.bIt("click",function(){e.eBV(s);const b=e.sdS(16);return e.Njj(b.type="password"===b.type?"text":"password")}),e.DNE(18,Wo,1,1,"mat-icon",12)(19,qo,1,1,"mat-icon",12),e.k0s(),e.DNE(20,Ho,2,0,"mat-error")(21,Jo,2,0,"mat-error"),e.k0s(),e.j41(22,"mat-form-field",9)(23,"mat-label"),e.EFF(24,"Confirmar contrase\xf1a"),e.k0s(),e.nrm(25,"input",13,1),e.j41(27,"button",11),e.bIt("click",function(){e.eBV(s);const b=e.sdS(26);return e.Njj(b.type="password"===b.type?"text":"password")}),e.DNE(28,Zo,1,1,"mat-icon",12)(29,Ko,1,1,"mat-icon",12),e.k0s(),e.DNE(30,ei,2,0,"mat-error",14)(31,ti,2,1,"mat-error"),e.k0s(),e.j41(32,"div",15)(33,"span",16),e.EFF(34,"Roles"),e.k0s(),e.j41(35,"div",17),e.Z7z(36,ii,5,5,"div",18,e.fX1),e.k0s()()()(),e.j41(38,"div",19)(39,"button",20),e.EFF(40," Cancelar "),e.k0s(),e.j41(41,"button",21),e.bIt("click",function(){return e.eBV(s),e.Njj(i.createUser())}),e.EFF(42," Aceptar "),e.k0s()()()}if(2&n){const s=e.sdS(16),p=e.sdS(26);e.R7$(5),e.Y8G("formGroup",i.employeeUserForm)("autocomplete","off"),e.R7$(4),e.Y8G("type","email")("formControlName","email")("placeholder","Correo electr\xf3nico"),e.R7$(),e.vxM(10,i.employeeUserForm.get("email").hasError("required")?10:-1),e.R7$(),e.vxM(11,i.employeeUserForm.get("email").hasError("email")?11:-1),e.R7$(4),e.Y8G("formControlName","pwd")("minlength",8)("maxlength",100),e.R7$(3),e.vxM(18,"password"===s.type?18:-1),e.R7$(),e.vxM(19,"text"===s.type?19:-1),e.R7$(),e.vxM(20,i.employeeUserForm.get("pwd").hasError("required")?20:-1),e.R7$(),e.vxM(21,i.employeeUserForm.get("pwd").hasError("pattern")||i.employeeUserForm.get("pwd").hasError("minlength")?21:-1),e.R7$(4),e.Y8G("formControlName","pwd2"),e.R7$(3),e.vxM(28,"password"===p.type?28:-1),e.R7$(),e.vxM(29,"text"===p.type?29:-1),e.R7$(),e.vxM(30,i.employeeUserForm.get("pwd2").hasError("required")?30:-1),e.R7$(),e.vxM(31,i.employeeUserForm.get("pwd2").hasError("mustMatch")?31:-1),e.R7$(5),e.Dyx(i.roles),e.R7$(3),e.Y8G("matDialogClose","cancelled"),e.R7$(2),e.Y8G("color","primary")("disabled",i.employeeUserForm.invalid)("ngClass",e.eq3(23,Po,i.employeeUserForm.invalid))}},dependencies:[c.RG,c.rl,c.nJ,c.TL,c.yw,f.m_,f.An,v.fS,v.fg,d.Hl,d.$z,d.iY,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.xh,r.tU,r.j4,r.JD,H.g7,H.So,E.hM,E.tx,F.YU],encapsulation:2})}return o})();const ye=()=>["Super Administrador"],ai=()=>["new"],ri=o=>[o],si=o=>({"pointer-events-none":o}),li=()=>[10,25,50,100];function mi(o,a){if(1&o&&(e.j41(0,"div",18)(1,"mat-form-field",19),e.nrm(2,"mat-icon",20)(3,"input",21),e.k0s(),e.j41(4,"button",22),e.nrm(5,"mat-icon",23),e.j41(6,"span",24),e.EFF(7,"Nuevo"),e.k0s()()()),2&o){const t=e.XpG();e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar empleados"),e.R7$(),e.Y8G("routerLink",e.lJ4(7,ai)),e.R7$(),e.Y8G("svgIcon","mat_solid:add")}}function ci(o,a){if(1&o&&e.nrm(0,"img",34),2&o){const t=e.XpG().$implicit;e.Y8G("alt","Foto")("src",t.imageUrl,e.B4B)}}function pi(o,a){1&o&&(e.j41(0,"div",35),e.EFF(1," SIN FOTO "),e.k0s())}function di(o,a){if(1&o&&(e.j41(0,"div",37),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.department.name," ")}}function ui(o,a){1&o&&(e.j41(0,"div",38),e.EFF(1," No tiene asignado "),e.k0s())}function hi(o,a){if(1&o&&(e.j41(0,"div",32),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.charge.name," ")}}function fi(o,a){1&o&&(e.j41(0,"div",38),e.EFF(1," No tiene asignado "),e.k0s())}function _i(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",47),e.bIt("change",function(i){e.eBV(t);const s=e.XpG(),p=s.$implicit,b=s.$index,j=e.XpG(4);return e.Njj(j.updateEmployeeStatus(i,p,b))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function gi(o,a){1&o&&e.nrm(0,"mat-spinner",41),2&o&&e.Y8G("diameter",20)("color","primary")}function vi(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",31)(1,"div",32)(2,"div",33),e.DNE(3,ci,1,2,"img",34)(4,pi,2,0,"div",35),e.k0s()(),e.j41(5,"div",36),e.EFF(6),e.k0s(),e.j41(7,"div",36),e.EFF(8),e.k0s(),e.DNE(9,di,2,1,"div",37)(10,ui,2,0,"div",38)(11,hi,2,1,"div",32)(12,fi,2,0,"div",38),e.j41(13,"div",39),e.DNE(14,_i,1,2,"mat-slide-toggle",40)(15,gi,1,2,"mat-spinner",41),e.k0s(),e.j41(16,"div",42)(17,"button",43),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.createUser(i))}),e.nrm(18,"mat-icon",44),e.k0s(),e.j41(19,"button",45),e.nrm(20,"mat-icon",44),e.k0s(),e.j41(21,"button",46),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.deleteEmployee(i.id))}),e.nrm(22,"mat-icon",44),e.k0s()()()}if(2&o){const t=a.$implicit,n=a.$index,i=e.XpG(4);e.R7$(3),e.vxM(3,t.imageUrl?3:-1),e.R7$(),e.vxM(4,t.imageUrl?-1:4),e.R7$(2),e.SpI(" ",t.code," "),e.R7$(2),e.E5c(" ",t.name," ",t.lastname1," ",t.lastname2?t.lastname2:""," "),e.R7$(),e.vxM(9,t.department?9:-1),e.R7$(),e.vxM(10,t.department?-1:10),e.R7$(),e.vxM(11,t.charge?11:-1),e.R7$(),e.vxM(12,t.charge?-1:12),e.R7$(2),e.vxM(14,i.isLoading&&i.selectedSlide===n?-1:14),e.R7$(),e.vxM(15,i.isLoading&&i.selectedSlide===n?15:-1),e.R7$(3),e.Y8G("svgIcon","mat_solid:person_add"),e.R7$(),e.Y8G("routerLink",e.eq3(16,ri,t.id)),e.R7$(),e.Y8G("svgIcon","mat_solid:edit"),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function bi(o,a){1&o&&e.Z7z(0,vi,23,18,"div",31,e.BUC().trackByFn,!0),2&o&&e.Dyx(a)}function Fi(o,a){if(1&o&&(e.j41(0,"div",25)(1,"div",26)(2,"div",27),e.EFF(3," Foto "),e.k0s(),e.j41(4,"div",28),e.EFF(5," C\xf3digo "),e.k0s(),e.j41(6,"div",28)(7,"span"),e.EFF(8," Nombre y Apellidos "),e.k0s()(),e.j41(9,"div"),e.EFF(10," Departamento "),e.k0s(),e.j41(11,"div"),e.EFF(12," Cargo "),e.k0s(),e.j41(13,"div",29)(14,"span"),e.EFF(15,"Activo"),e.k0s()(),e.j41(16,"div",30),e.EFF(17," Acciones "),e.k0s()(),e.DNE(18,bi,2,0),e.nI1(19,"async"),e.k0s()),2&o){let t;const n=e.XpG(2);e.R7$(4),e.Y8G("mat-sort-header","code"),e.R7$(2),e.Y8G("mat-sort-header","name"),e.R7$(7),e.Y8G("mat-sort-header","active"),e.R7$(5),e.vxM(18,(t=e.bMT(19,4,n.employees$))?18:-1,t)}}function Ci(o,a){if(1&o&&(e.j41(0,"div",49),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!","")}}function yi(o,a){1&o&&e.DNE(0,Ci,2,1,"div",48),2&o&&e.Y8G("ngxPermissionsExcept",e.lJ4(1,ye))}function xi(o,a){1&o&&e.DNE(0,Fi,20,6,"div",25)(1,yi,1,2),2&o&&e.vxM(0,a.length>0?0:1)}function ki(o,a){if(1&o&&e.nrm(0,"mat-paginator",17),2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(6,si,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.lJ4(8,li))("showFirstLastButtons",!0)}}let Ei=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.MJ(null),this._unsubscribeAll=new h.B,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._employeeService=(0,e.WQX)(ae.r),this._fuseConfirmationService=(0,e.WQX)(L.G),this._snackBar=(0,e.WQX)(T.UG),this._dialog=(0,e.WQX)(E.bZ),this.store=(0,e.WQX)(g.il)}ngOnInit(){this.employees$=this.store.select(ie.OB),this.store.select(V.Xb).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(q.Dz).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,X.B)(300),(0,M.Z)(null),(0,B.n)(t=>null!==t?(this.isLoading=!0,this._employeeService.findAllEmployees(0,10,"name","desc",t)):(0,_.of)()),(0,D.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,G.h)(this._sort.sortChange,this._paginator.page).pipe((0,B.n)(()=>(this.isLoading=!0,this._employeeService.findAllEmployees(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,D.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateEmployeeStatus(t,n,i){this.isLoading=!0,this.selectedSlide=i,this._employeeService.updateEmployeeStatus({id:n.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._employeeService.removeEmployee(t,this.pagination.page,this.pagination.size,"name","desc").pipe((0,m.Q)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())})})}createUser(t){this._dialog.open(ni,{data:{employee:t},disableClose:!0,panelClass:"ath-dialog-panel"})}trackByFn(t,n){return n.id||t}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["employees"]],viewQuery:function(n,i){if(1&n&&(e.GBs(R.iy,5),e.GBs(u.B4,5)),2&n){let s;e.mGM(s=e.lsd())&&(i._paginator=s.first),e.mGM(s=e.lsd())&&(i._sort=s.first)}},standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black/5","employees-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-10","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],[1,"w-full","m-0.5",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"truncate"],[1,""],[1,"text-red-700"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","","matTooltip","Crear Usuario",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[3,"change","checked","color"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(n,i){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",4),e.nrm(9,"mat-icon",6),e.j41(10,"a",7),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",4),e.nrm(13,"mat-icon",6),e.j41(14,"a",8),e.EFF(15,"Empleados"),e.k0s()()(),e.j41(16,"div",9)(17,"a",10),e.nrm(18,"mat-icon",6),e.j41(19,"span",11),e.EFF(20,"Regresar"),e.k0s()()()(),e.j41(21,"div",12)(22,"div",13),e.EFF(23," Empleados "),e.k0s()()(),e.DNE(24,mi,8,8,"div",14),e.k0s(),e.j41(25,"div",15)(26,"div",16),e.DNE(27,xi,2,1),e.nI1(28,"async"),e.DNE(29,ki,1,9,"mat-paginator",17),e.k0s()()()),2&n){let s;e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("routerLink","./.."),e.R7$(),e.Y8G("svgIcon","mat_solid:chevron_left"),e.R7$(6),e.Y8G("ngxPermissionsExcept",e.lJ4(9,ye)),e.R7$(3),e.vxM(27,(s=e.bMT(28,7,i.employees$))?27:-1,s),e.R7$(2),e.vxM(29,i.pagination&&i.pagination.length>0?29:-1)}},dependencies:[f.m_,f.An,d.Hl,d.$z,R.Ou,R.iy,u.NQ,u.B4,u.aE,v.fS,v.fg,c.rl,c.JW,C.Wk,x.mV,x.sG,I.D6,I.LG,c.RG,F.Jj,F.YU,r.X1,r.me,r.BC,r.l_,Z.Ov,Z.f6],encapsulation:2,data:{animation:oe.X},changeDetection:0})}return o})();var Di=l(70980),xe=l(49098);class ke{}const Ri=()=>["new"],ji=o=>({"pointer-events-none":o}),$i=()=>[10,25,100],Ii=o=>[o];function Gi(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",35),e.bIt("change",function(i){e.eBV(t);const s=e.XpG(),p=s.$implicit,b=s.$index,j=e.XpG(4);return e.Njj(j.updateLocationStatus(i,p,b))}),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.Y8G("checked",t.active)("color","primary")}}function Si(o,a){1&o&&e.nrm(0,"mat-spinner",30),2&o&&e.Y8G("diameter",20)("color","primary")}function Ai(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",26)(1,"div",21),e.EFF(2),e.k0s(),e.j41(3,"div",27),e.EFF(4),e.k0s(),e.j41(5,"div",27),e.EFF(6),e.k0s(),e.j41(7,"div",24),e.EFF(8),e.k0s(),e.j41(9,"div",24),e.EFF(10),e.k0s(),e.j41(11,"div",24),e.EFF(12),e.k0s(),e.j41(13,"div",28),e.DNE(14,Gi,1,2,"mat-slide-toggle",29)(15,Si,1,2,"mat-spinner",30),e.k0s(),e.j41(16,"div",31)(17,"button",32),e.nrm(18,"mat-icon",33),e.k0s(),e.j41(19,"button",34),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.deleteLocation(i))}),e.nrm(20,"mat-icon",33),e.k0s()()()}if(2&o){const t=a.$implicit,n=a.$index,i=e.XpG(4);e.R7$(2),e.SpI(" ",n+1," "),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",null==t.manager?null:t.manager.fullname," "),e.R7$(2),e.SpI(" ",t.address," "),e.R7$(2),e.SpI(" ",t.state," "),e.R7$(2),e.SpI(" ",t.city," "),e.R7$(2),e.vxM(14,i.isLoading&&i.selectedSlide===n?-1:14),e.R7$(),e.vxM(15,i.isLoading&&i.selectedSlide===n?15:-1),e.R7$(2),e.Y8G("routerLink",e.eq3(11,Ii,t.id)),e.R7$(),e.Y8G("svgIcon","mat_solid:edit"),e.R7$(2),e.Y8G("svgIcon","mat_solid:delete")}}function wi(o,a){1&o&&e.Z7z(0,Ai,21,13,"div",26,e.BUC().trackByFn,!0),2&o&&e.Dyx(a)}function Ti(o,a){if(1&o&&(e.j41(0,"div",19)(1,"div",20),e.nrm(2,"div",21),e.j41(3,"div",22),e.EFF(4," Nombre "),e.k0s(),e.j41(5,"div",23),e.EFF(6," Responsable "),e.k0s(),e.j41(7,"div",24),e.EFF(8," Direcci\xf3n "),e.k0s(),e.j41(9,"div",24),e.EFF(10," Provincia "),e.k0s(),e.j41(11,"div",24),e.EFF(12," Municipio "),e.k0s(),e.j41(13,"div",24),e.EFF(14," Acciones "),e.k0s(),e.j41(15,"div",24),e.EFF(16," Estado "),e.k0s()(),e.DNE(17,wi,2,0),e.nI1(18,"async"),e.nrm(19,"mat-paginator",25),e.k0s()),2&o){let t;const n=e.XpG(2);e.R7$(3),e.Y8G("mat-sort-header","name"),e.R7$(14),e.vxM(17,(t=e.bMT(18,8,n.locations$))?17:-1,t),e.R7$(2),e.Y8G("ngClass",e.eq3(10,ji,n.isLoading))("length",n.pagination.length)("pageIndex",n.pagination.page)("pageSize",n.pagination.size)("pageSizeOptions",e.lJ4(12,$i))("showFirstLastButtons",!0)}}function Mi(o,a){1&o&&(e.j41(0,"div",36),e.EFF(1," \xa1No hay ubicaciones registradas!"),e.k0s())}function Li(o,a){1&o&&e.DNE(0,Ti,20,13,"div",19)(1,Mi,2,0),2&o&&e.vxM(0,a.length>0?0:1)}let Ni=(()=>{class o{constructor(){this.location=new ke,this.locations$=(0,_.of)([]),this.isLoading=!1,this.searchInputControl=new r.MJ(null),this.selectedSlide=null,this._unsubscribeAll=new h.B,this._locationsService=(0,e.WQX)(xe.O),this._changeDetectorRef=(0,e.WQX)(e.gRc),this._fuseConfirmationService=(0,e.WQX)(L.G),this._snackBar=(0,e.WQX)(T.UG),this.store=(0,e.WQX)(g.il)}ngOnInit(){this.locations$=this.store.select(ne.BF),this.store.select(q.Dz).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.Q)(this._unsubscribeAll),(0,X.B)(300),(0,M.Z)(null),(0,B.n)(t=>null!==t?(this.isLoading=!0,this._locationsService.getLocations(0,10,"name","desc",t)):(0,_.of)()),(0,D.T)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"code",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,G.h)(this._sort.sortChange,this._paginator.page).pipe((0,B.n)(()=>(this.isLoading=!0,this._locationsService.getLocations(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,D.T)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteLocation(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la taller: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.Q)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._locationsService.removeLocation(t.id).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({data:s})=>{this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.removeLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateLocationStatus(t,n,i){this.isLoading=!0,this.selectedSlide=i,this._locationsService.updateLocationStatus({id:n.id,active:t.checked}).pipe((0,m.Q)(this._unsubscribeAll),(0,Di.j)(()=>{this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})).subscribe(({data:s})=>{this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateLocationStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})})}trackByFn(t,n){return n.id||t}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-locations"]],viewQuery:function(n,i){if(1&n&&(e.GBs(R.iy,5),e.GBs(u.B4,5)),2&n){let s;e.mGM(s=e.lsd())&&(i._paginator=s.first),e.mGM(s=e.lsd())&&(i._sort=s.first)}},standalone:!0,features:[e.aNF],decls:30,vars:13,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/desktop",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],["cdkScrollable","",1,"flex","flex-col","flex-auto","overflow-auto","sm:mb-18"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","locations-grid","md:px-8","text-md","text-primary-200","bg-gray-50","dark:bg-black/5"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,""],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","locations-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","items-center","justify-center","gap-1"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[3,"change","checked","color"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(n,i){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e.EFF(6,"Inicio"),e.k0s()(),e.j41(7,"div",5),e.nrm(8,"mat-icon",6),e.j41(9,"a",7),e.EFF(10,"Recursos Humanos"),e.k0s()(),e.j41(11,"div",5),e.nrm(12,"mat-icon",6),e.j41(13,"a",7),e.EFF(14,"Unidades Comerciales"),e.k0s()()(),e.j41(15,"div",8)(16,"h2",9),e.EFF(17," Unidades Comerciales "),e.k0s()()(),e.j41(18,"div",10)(19,"mat-form-field",11),e.nrm(20,"mat-icon",12)(21,"input",13),e.k0s(),e.j41(22,"button",14),e.nrm(23,"mat-icon",15),e.j41(24,"span",16),e.EFF(25,"Agregar"),e.k0s()()()(),e.j41(26,"div",17)(27,"div",18),e.DNE(28,Li,2,1),e.nI1(29,"async"),e.k0s()()()),2&n){let s;e.R7$(8),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(7),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",i.searchInputControl)("autocomplete","off")("placeholder","Escriba para buscar..."),e.R7$(),e.Y8G("routerLink",e.lJ4(12,Ri)),e.R7$(),e.Y8G("svgIcon","mat_solid:add"),e.R7$(5),e.vxM(28,(s=e.bMT(29,10,i.locations$))?28:-1,s)}},dependencies:[f.m_,f.An,r.X1,r.me,r.BC,r.l_,d.Hl,d.$z,R.Ou,R.iy,u.NQ,u.B4,u.aE,v.fS,v.fg,c.rl,c.JW,C.Wk,c.RG,F.Jj,F.YU,x.mV,x.sG,I.D6,I.LG],encapsulation:2,changeDetection:0})}return o})();var Bi=l(31397),se=l(60850);const Ee=o=>({"cursor-not-allowed":o});function Yi(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createLocation())}),e.nrm(1,"mat-icon",35),e.j41(2,"span",36),e.EFF(3,"Guardar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.locationForm.invalid)("ngClass",e.eq3(3,Ee,t.locationForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:save")}}function Xi(o,a){if(1&o){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.updateLocation())}),e.nrm(1,"mat-icon",35),e.j41(2,"span",36),e.EFF(3,"Actualizar"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.locationForm.invalid)("ngClass",e.eq3(3,Ee,t.locationForm.invalid)),e.R7$(),e.Y8G("svgIcon","mat_solid:refresh")}}function zi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de la ubicaci\xf3n es obligatorio. "),e.k0s())}function Vi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de la ubicaci\xf3n debe tener 250 caracteres. "),e.k0s())}function Ui(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-option",37),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.selectEmployee(i))}),e.EFF(1),e.k0s()}if(2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.fullname," ")}}function Pi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar el pa\xeds. "),e.k0s())}function Qi(o,a){if(1&o&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function Oi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar una provincia. "),e.k0s())}function Wi(o,a){if(1&o&&(e.j41(0,"mat-option",27),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.city),e.R7$(),e.SpI(" ",t.city," ")}}function qi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Debe seleccionar un municipio. "),e.k0s())}function Hi(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n es obligatoria. "),e.k0s())}function Ji(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.k0s())}let Zi=(()=>{class o{constructor(){this.cities=[],this.editMode=!1,this.employees$=(0,_.of)([]),this.isLoading=!1,this.isLoadingData=!0,this.locations$=(0,_.of)([]),this.searchEmployeeControl=new r.MJ(null),this.selectedLocation=new ke,this.states=[],this.employees=[],this.statesCodes=[],this.stateSelected="",this.selectedEmployeeName="",this._unsubscribeAll=new h.B,this._activatedRoute=(0,e.WQX)(C.nX),this._changeDetectorRef=(0,e.WQX)(e.gRc),this._formBuilder=(0,e.WQX)(r.ok),this._fuseConfirmationService=(0,e.WQX)(L.G),this._locationsService=(0,e.WQX)(xe.O),this._locationService=(0,e.WQX)(K.N),this._snackBar=(0,e.WQX)(T.UG),this._router=(0,e.WQX)(C.Ix),this.store=(0,e.WQX)(g.il),this._employeesService=(0,e.WQX)(ae.r)}ngOnInit(){this.employees$=this.store.select(ie.OB),this.employees$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.employees=t,this._changeDetectorRef.markForCheck()}),this.employeesFiltered$=this.searchEmployeeControl.valueChanges.pipe((0,X.B)(200),(0,M.Z)(null),(0,Bi.Z)(t=>null!==t&&"string"==typeof t&&t!==this.selectedEmployeeName?this._employeesService.findActiveEmployees(t.trim()):this.employees$)),this._locationService.states$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.states=t,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this.statesCodes=t,this._changeDetectorRef.markForCheck()}),this.locationForm=this._formBuilder.group({id:new r.MJ(null),managerId:new r.MJ(null,[r.k0.pattern(/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i),r.k0.maxLength(255)]),name:new r.MJ(null,[r.k0.required,r.k0.maxLength(250)]),address:new r.MJ(null,[r.k0.maxLength(250)]),city:new r.MJ(null,[r.k0.maxLength(250)]),state:new r.MJ(null,[r.k0.maxLength(250)]),country:new r.MJ("Cuba",[r.k0.maxLength(50)])}),this._activatedRoute.params.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({locationId:t})=>{"new"!==t&&(this.editMode=!0,this.store.select(ne.UA).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(n=>{this.selectedLocation=n,this.isLoadingData=!1,this.locationForm.patchValue(n);const i=this.employees.find(s=>s.id===n.managerId);i&&this.searchEmployeeControl.setValue(i),null!==n.state&&this._getCitiesByState(n.state),this.isLoadingData=!1,this._changeDetectorRef.markForCheck()}))}),this.locationForm.get("state")?.valueChanges.pipe((0,m.Q)(this._unsubscribeAll)).subscribe(t=>{this._getCitiesByState(t),this.locationForm.get("city").enable(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createLocation(){const t=this.locationForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._locationsService.createLocation(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.createLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck(),this._router.navigateByUrl("/modules/hrm/locations"))}),this._changeDetectorRef.markForCheck()})}updateLocation(){let t=this.locationForm.getRawValue();t=(0,U.omit)(t,["code"]),this._fuseConfirmationService.open({title:"Actualizar ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._locationsService.updateLocation(t).pipe((0,m.Q)(this._unsubscribeAll)).subscribe(({data:s})=>{this._snackBar.openFromComponent(k.p,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/modules/hrm/locations")}),this._changeDetectorRef.markForCheck()})}selectEmployee(t){this.locationForm.get("managerId").setValue(t.id),this.selectedEmployeeName=t.name}displayFn(t){return t&&t.fullname?t.fullname:""}trackByFn(t,n){return n.id||t}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(n=>{this.cities=n,this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["hrm-location-details"]],standalone:!0,features:[e.aNF],decls:83,vars:40,consts:[["employeeAutocomplete","matAutocomplete"],["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto"],[1,"z-20","flex","flex-col","p-6","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],["routerLink","/desktop",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],["routerLink","/modules/hmr/locations",1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","lg:mt-0","lg:ml-4"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"disabled","ngClass"],[1,"flex","flex-auto"],[1,"flex","flex-col","w-full","divide-y","divide-dashed",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","p-10"],[1,"flex","flex-col"],[1,"text-xl","font-semibold"],[1,"flex","flex-col","p-6","mt-5","border","shadow-md","sm:flex-row","bg-card","rounded-2xl"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-5","w-full"],[1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matInput","","type","text","maxlength","250","required","",3,"formControlName"],["appearance","fill",1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matPrefix","",3,"svgIcon"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder","required"],[3,"displayWith"],[3,"value"],["required","",3,"formControlName"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-textarea","sm:col-span-3"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click","disabled","ngClass"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[3,"click","value"]],template:function(n,i){if(1&n&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"div",4)(5,"div")(6,"a",5),e.EFF(7,"Inicio"),e.k0s()(),e.j41(8,"div",6),e.nrm(9,"mat-icon",7),e.j41(10,"a",8),e.EFF(11,"Recursos Humanos"),e.k0s()(),e.j41(12,"div",6),e.nrm(13,"mat-icon",7),e.j41(14,"a",9),e.EFF(15,"Ubicaciones"),e.k0s()(),e.j41(16,"div",6),e.nrm(17,"mat-icon",7),e.j41(18,"a",8),e.EFF(19),e.k0s()()()(),e.j41(20,"div",10)(21,"h2",11),e.EFF(22),e.k0s()()(),e.j41(23,"div",12),e.DNE(24,Yi,4,5,"button",13)(25,Xi,4,5,"button",13),e.k0s()(),e.j41(26,"div",14)(27,"form",15)(28,"div",16)(29,"div",17)(30,"span",18),e.EFF(31,"Generales"),e.k0s(),e.j41(32,"span"),e.EFF(33,"Ingrese la informaci\xf3n necesaria para identificar la ubicaci\xf3n"),e.k0s()(),e.j41(34,"div",19)(35,"div",20)(36,"mat-form-field",21)(37,"mat-label"),e.EFF(38,"Nombre del establecimiento"),e.k0s(),e.nrm(39,"input",22),e.DNE(40,zi,2,0,"mat-error")(41,Vi,2,0,"mat-error"),e.k0s(),e.j41(42,"mat-form-field",23)(43,"mat-label"),e.EFF(44,"Responsable"),e.k0s(),e.nrm(45,"mat-icon",24)(46,"input",25),e.j41(47,"mat-autocomplete",26,0),e.Z7z(49,Ui,2,2,"mat-option",27,e.fX1),e.nI1(51,"async"),e.k0s()(),e.j41(52,"mat-form-field",21)(53,"mat-label"),e.EFF(54,"Pa\xeds"),e.k0s(),e.j41(55,"mat-select",28)(56,"mat-option",29),e.EFF(57,"Cuba"),e.k0s()(),e.nrm(58,"mat-icon",30),e.DNE(59,Pi,2,0,"mat-error"),e.k0s(),e.j41(60,"mat-form-field",21)(61,"mat-label"),e.EFF(62,"Provincia"),e.k0s(),e.j41(63,"mat-select",28),e.Z7z(64,Qi,2,2,"mat-option",27,i.trackByFn,!0),e.k0s(),e.nrm(66,"mat-icon",30),e.DNE(67,Oi,2,0,"mat-error"),e.k0s(),e.j41(68,"mat-form-field",21)(69,"mat-label"),e.EFF(70,"Municipio"),e.k0s(),e.j41(71,"mat-select",28),e.Z7z(72,Wi,2,2,"mat-option",27,i.trackByFn,!0),e.k0s(),e.nrm(74,"mat-icon",30),e.DNE(75,qi,2,0,"mat-error"),e.k0s(),e.j41(76,"mat-form-field",31)(77,"mat-label"),e.EFF(78,"Direcci\xf3n"),e.k0s(),e.nrm(79,"mat-icon",32)(80,"textarea",33),e.DNE(81,Hi,2,0,"mat-error")(82,Ji,2,0,"mat-error"),e.k0s()()()()()()()),2&n){const s=e.sdS(48);e.R7$(9),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(4),e.Y8G("svgIcon","mat_solid:chevron_right"),e.R7$(2),e.SpI(" ",i.editMode?i.selectedLocation.name:"Nuevo"," "),e.R7$(3),e.SpI(" ",i.editMode?i.selectedLocation.name:"Nuevo"," "),e.R7$(2),e.vxM(24,i.editMode?-1:24),e.R7$(),e.vxM(25,i.editMode?25:-1),e.R7$(2),e.Y8G("formGroup",i.locationForm)("autocomplete","off"),e.R7$(9),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","name"),e.R7$(),e.vxM(40,i.locationForm.get("name").hasError("required")?40:-1),e.R7$(),e.vxM(41,i.locationForm.get("name").hasError("minlength")?41:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("svgIcon","mat_solid:search"),e.R7$(),e.Y8G("formControl",i.searchEmployeeControl)("matAutocomplete",s)("placeholder","Buscar empleado")("required",!1),e.R7$(),e.Y8G("displayWith",i.displayFn),e.R7$(2),e.Dyx(e.bMT(51,38,i.employeesFiltered$)),e.R7$(3),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","country"),e.R7$(3),e.Y8G("svgIcon","mat_solid:public"),e.R7$(),e.vxM(59,i.locationForm.get("country").hasError("required")?59:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","state"),e.R7$(),e.Dyx(i.states),e.R7$(2),e.Y8G("svgIcon","mat_solid:map"),e.R7$(),e.vxM(67,i.locationForm.get("state").hasError("required")?67:-1),e.R7$(),e.Y8G("subscriptSizing","dynamic"),e.R7$(3),e.Y8G("formControlName","city"),e.R7$(),e.Dyx(i.cities),e.R7$(2),e.Y8G("svgIcon","mat_solid:location_on"),e.R7$(),e.vxM(75,i.locationForm.get("city").hasError("required")?75:-1),e.R7$(4),e.Y8G("svgIcon","mat_solid:home"),e.R7$(),e.Y8G("formControlName","address")("minLength",3)("maxlength",255),e.R7$(),e.vxM(81,i.locationForm.get("address").hasError("required")?81:-1),e.R7$(),e.vxM(82,i.locationForm.get("address").hasError("maxlength")||i.locationForm.get("address").hasError("minlength")?82:-1)}},dependencies:[F.Jj,d.Hl,d.$z,c.RG,c.rl,c.nJ,c.TL,c.JW,f.m_,f.An,v.fS,v.fg,z.Ve,be.uv,z.VO,Fe.wT,x.mV,F.YU,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.tU,r.l_,r.j4,r.JD,C.Wk,se.jL,se.$3,se.pN],encapsulation:2,changeDetection:0})}return o})();var te=l(99437);let Ki=(()=>{class o{constructor(t,n){this._chargesService=t,this._router=n}resolve(t,n){return this._chargesService.findAllCharges().pipe((0,te.W)(i=>this._router.navigateByUrl("/desktop")))}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(W.P),e.KVO(C.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),en=(()=>{class o{constructor(t,n){this._chargesService=t,this._router=n}resolve(t,n){return this._chargesService.findAllActiveCharges().pipe((0,te.W)(i=>this._router.navigateByUrl("/desktop")))}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(W.P),e.KVO(C.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),tn=(()=>{class o{constructor(t,n){this._departmentsService=t,this._router=n}resolve(t,n){return this._departmentsService.findAllDepartments().pipe((0,te.W)(i=>this._router.navigateByUrl("/desktop")))}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(J),e.KVO(C.Ix))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),on=(()=>{class o{constructor(t,n,i){this._departmentsService=t,this._router=n,this.store=i,this.store.select(V.Xb).subscribe(s=>{this.merchant=s})}resolve(t,n){return this.merchant?this._departmentsService.findAllActiveDepartments().pipe((0,te.W)(i=>this._router.navigateByUrl("/desktop"))):null}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(J),e.KVO(C.Ix),e.KVO(g.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var le=l(34413),nn=l(23301),me=l(24121),an=l(27468);let rn=(()=>{class o{constructor(t,n){this._hrmService=t,this._locationService=n}resolve(t,n){return(0,an.p)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(ve),e.KVO(K.N))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),sn=(()=>{class o{constructor(t){this._locationService=t}resolve(t,n){return this._locationService.getStates()}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(K.N))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ln=l(90377);const mn=[{path:"",component:y},{path:"charges",component:Ze,resolve:{charges:Ki}},{path:"departments",component:Gt,resolve:{departments:tn}},{path:"employees",component:Ei,resolve:{employees:le.wf}},{path:"employees/:employeeId",component:zo,resolve:{currencies:nn.I,hrm:rn,employee:le.zA,charges:en,departments:on,locations:me.FH,bank:ln._}},{path:"locations",component:Ni,resolve:{locations:me.$f}},{path:"locations/:locationId",component:Zi,resolve:{employees:le.MI,locations:me.y6,states:sn}}]},24121:(O,A,l)=>{l.d(A,{$f:()=>g,FH:()=>y,y6:()=>e});var h=l(54438),$=l(49098);const e=(C,F)=>{const r=C.params.locationId;return r&&"new"!==r?(0,h.WQX)($.O).getLocationById(r):{}},g=(C,F)=>(0,h.WQX)($.O).getLocations(),y=(C,F)=>(0,h.WQX)($.O).findActiveLocations()},11781:(O,A,l)=>{l.d(A,{BF:()=>g,UA:()=>e});var h=l(59640);const $=y=>y.locations,e=(0,h.Mz)($,y=>y.location),g=(0,h.Mz)($,y=>y.locations)},49098:(O,A,l)=>{l.d(A,{O:()=>I});var h=l(88141),$=l(96354),e=l(24984),g=l(98216),y=l(53473);const C=y.J1`
    mutation CreateLocation($createLocationInput: CreateLocationInput!) {
        createLocation(createLocationInput: $createLocationInput) {

            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }

        }
    }
`,F=y.J1`
    mutation UpdateLocation($updateLocationInput: UpdateLocationInput!) {
        updateLocation(updateLocationInput: $updateLocationInput) {
            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`,r=y.J1`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateLocationStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }

    }
`,d=y.J1`
    mutation RemoveLocation($removeLocationId: String!) {
        removeLocation(id: $removeLocationId) {
            ok
            message
        }
    }
`,E=y.J1`
    query FindAllLocations($page: Int, $size: Int, $sort: String, $order: Order, $search: String) {
        findAllLocations(page: $page, size: $size, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            locations {
                id
                active
                managerId
                manager {
                    id
                    name
                    lastname1
                    lastname2
                    fullname
                }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`,c=y.J1`
    query findActiveLocations($search: String!, $size: Int!) {
        findActiveLocations(search: $search, size: $size) {
            id
            active
            managerId
            name
            slug
            phone
            address
            country
            state
            city
            zip
        }
    }
`,f=y.J1`
    query FindLocationById($findLocationByIdId: String!) {
        findLocationById(id: $findLocationByIdId) {
            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`;var v=l(54438),R=l(59640);let I=(()=>{class x{constructor(u,_){this.apolloProvider=u,this.store=_,this._apollo=this.apolloProvider.use("BALANC")}createLocation(u){return this._apollo.mutate({mutation:C,variables:{createLocationInput:u},errorPolicy:"all"}).pipe((0,h.M)(({data:_})=>{_&&(this.store.dispatch((0,e.yJ)({location:_.createLocation.location})),this.store.dispatch((0,e.Og)({location:_.createLocation.location})))}))}getLocations(u=0,_=25,G="name",m="asc",X=""){return this._apollo.query({query:E,errorPolicy:"all",variables:{page:u,size:_,sort:G,order:m,search:X}}).pipe((0,h.M)(({data:M})=>{M&&(this.store.dispatch((0,g.Bp)({pagination:M.findAllLocations.pagination})),this.store.dispatch((0,e.xu)({locations:M.findAllLocations.locations})))}))}findActiveLocations(u="",_=25){return this._apollo.query({query:c,variables:{search:u,size:_},errorPolicy:"all"}).pipe((0,$.T)(({data:G})=>G?G.findActiveLocations:[]),(0,h.M)(G=>{G&&this.store.dispatch((0,e.xu)({locations:G}))}))}getLocationById(u){return this._apollo.query({query:f,variables:{findLocationByIdId:u},errorPolicy:"all"}).pipe((0,h.M)(({data:_})=>{_&&this.store.dispatch((0,e.Og)({location:_.findLocationById.location}))}))}updateLocation(u){return this._apollo.mutate({mutation:F,variables:{updateLocationInput:u},errorPolicy:"all"}).pipe((0,h.M)(({data:_})=>{_&&(this.store.dispatch((0,e.Nt)({location:_.updateLocation.location})),this.store.dispatch((0,e.Og)({location:_.updateLocation.location})))}))}updateLocationStatus(u){return this._apollo.mutate({mutation:r,variables:{updateEntityStatusInput:u},errorPolicy:"all"}).pipe((0,h.M)(({data:_})=>{_&&this.store.dispatch((0,e.jr)({id:u.id,active:u.active}))}))}removeLocation(u){return this._apollo.mutate({mutation:d,variables:{removeLocationId:u},errorPolicy:"all"}).pipe((0,h.M)(({data:_})=>{_&&this.store.dispatch((0,e.q$)({id:u}))}))}static#e=this.\u0275fac=function(_){return new(_||x)(v.KVO(y.Ic),v.KVO(R.il))};static#t=this.\u0275prov=v.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()}}]);