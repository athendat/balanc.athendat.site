"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6700],{76700:(Te,j,m)=>{m.r(j),m.d(j,{default:()=>fn});var k=m(78645),Q=m(84154),e=m(19212),g=m(84221);let oe=(()=>{class o{constructor(t,i){this._changeDetectorRef=t,this.store=i,this._unsubscribeAll=new k.x}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ath-hrm"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(i,n){1&i&&e._UZ(0,"ath-content-menu")},dependencies:[Q.p],encapsulation:2,changeDetection:0})}return o})();var x=m(64190),v=m(96814),s=m(56223),f=m(32296),d=m(64170),b=m(30617),y=m(24516),q=m(21476),D=m(55940),A=m(82599),C=m(13566),M=m(22096),_=m(63019),l=m(59773),E=m(83620),N=m(27921),I=m(94664),u=m(37398);const z=o=>o.charges,me=((0,g.P1)(z,o=>o.charge),(0,g.P1)(z,o=>o.charges));var ie=m(94748),Z=m(42090);class Fe{}var G=m(83604),F=m(17700),P=m(98525),$=m(29643),w=m(88458),S=m(56278),T=m(99397),L=m(9567),O=m(97214),U=m(50967);const Ue=U.Ps`
    mutation CreateCharge($createChargeInput: CreateChargeInput!) {
        createCharge(createChargeInput: $createChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active,
            }
        }
    }
`,ke=U.Ps`
    query FindAllCharges($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllCharges(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,qe=U.Ps`
    query FindAllActiveCharges {
        findAllActiveCharges {
            id,
            name
        }
    }
`,Ie=U.Ps`
    query FindChargeById($chargeId: String!) {
        findChargeById(id: $chargeId ) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,we=U.Ps`
    mutation UpdateCharge($updateChargeInput: UpdateChargeInput!) {
        updateCharge(updateChargeInput: $updateChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,De=U.Ps`
    mutation UpdateChargeStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateChargeStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,Ee=U.Ps`
    mutation RemoveCharge($chargeId: String!) {
        removeCharge(id: $chargeId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`;let K=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createCharge(t){return this._apollo.mutate({mutation:Ue,variables:{createChargeInput:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.createCharge:null),(0,T.b)(i=>{i&&(this.store.dispatch((0,L.TI)({charge:i.charge})),this.store.dispatch((0,L.LF)({charge:i.charge})))}))}findAllCharges(t=0,i=10,n="name",r="desc",c=null){return this._apollo.query({query:ke,variables:{page:t,size:i,sort:n,order:r,search:c},errorPolicy:"all"}).pipe((0,u.U)(({data:p})=>p?p.findAllCharges:null),(0,T.b)(p=>{p&&(this.store.dispatch((0,L.dH)({charges:p.charges})),this.store.dispatch((0,O.Jr)({pagination:p.pagination})))}))}findAllActiveCharges(){return this._apollo.query({query:qe,errorPolicy:"all"}).pipe((0,u.U)(({data:t})=>t?t.findAllActiveCharges:null),(0,T.b)(t=>{t&&this.store.dispatch((0,L.dH)({charges:t}))}))}findChargeById(t){return this._apollo.query({query:Ie,variables:{chargeId:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.findChargeById:null),(0,T.b)(i=>{i&&this.store.dispatch((0,L.LF)({charge:i.charge}))}))}updateCharge(t){return this._apollo.mutate({mutation:we,variables:{updateChargeInput:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.updateCharge:null),(0,T.b)(i=>{i&&(this.store.dispatch((0,L.uE)({charge:i.charge})),this.store.dispatch((0,L.LF)({charge:i.charge})))}))}updateChargeStatus(t){return this._apollo.mutate({mutation:De,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.updateChargeStatus:null),(0,T.b)(i=>{i&&this.store.dispatch((0,L.Ut)(t))}))}removeCharge(t,i=0,n=10,r="name",c="desc",p=null){return this._apollo.mutate({mutation:Ee,variables:{chargeId:t,page:i,size:n,sort:r,order:c,search:p},errorPolicy:"all"}).pipe((0,u.U)(({data:h})=>h?h.removeCharge:null),(0,T.b)(h=>{h&&(this.store.dispatch((0,L.ek)({id:t})),this.store.dispatch((0,O.Jr)({pagination:h.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(U._M),e.LFG(g.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var J=m(22939);function Ne(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar cargo"),e.qZA())}function Se(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar cargo"),e.qZA())}function Le(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del cargo "),e.qZA())}function Je(o,a){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()(),e.TgZ(9,"div",15)(10,"h6",13),e._uU(11,"Descripci\xf3n"),e.qZA(),e.TgZ(12,"span",14),e._uU(13),e.qZA()()()()()()),2&o){const t=e.oxw();e.xp6(8),e.Oqu(t.data.charge.name||"Sin nombre"),e.xp6(5),e.Oqu(t.data.charge.description||"Sin descripci\xf3n")}}function Re(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo es obligatorio. "),e.qZA())}function Qe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.qZA())}function Me(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe ser mayor que 0. "),e.qZA())}function Pe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe contener solo n\xfameros. "),e.qZA())}function $e(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function ze(o,a){if(1&o&&(e.TgZ(0,"div",16)(1,"div",9)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e._UZ(6,"input",19),e.YNc(7,Re,2,0,"mat-error")(8,Qe,2,0,"mat-error"),e.qZA(),e.TgZ(9,"mat-form-field",20)(10,"mat-label"),e._uU(11,"Salario"),e.qZA(),e._UZ(12,"input",21),e.YNc(13,Me,2,0,"mat-error")(14,Pe,2,0,"mat-error"),e.qZA(),e.TgZ(15,"mat-form-field",22)(16,"mat-label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e._UZ(18,"mat-icon",23)(19,"textarea",24),e.YNc(20,$e,2,0,"mat-error"),e.TgZ(21,"mat-hint",25),e._uU(22),e.qZA()(),e.TgZ(23,"div",26)(24,"span",27),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-slide-toggle",28),e._uU(27),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.chargeForm)("autocomplete","off"),e.xp6(4),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.xp6(),e.um2(7,t.chargeForm.get("name").hasError("required")?7:-1),e.xp6(),e.um2(8,t.chargeForm.get("name").hasError("maxlength")||t.chargeForm.get("name").hasError("minlength")?8:-1),e.xp6(4),e.Q6J("formControlName","salary")("placeholder","Salario")("min",0)("max",99999),e.xp6(),e.um2(13,t.chargeForm.get("salary").hasError("min")?13:-1),e.xp6(),e.um2(14,t.chargeForm.get("salary").hasError("pattern")&&!t.chargeForm.get("salary").hasError("min")?14:-1),e.xp6(4),e.Q6J("svgIcon","mat_solid:subject"),e.xp6(),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.xp6(),e.um2(20,t.chargeForm.get("description").hasError("minlength")?20:-1),e.xp6(2),e.hij("",(null==t.chargeForm.get("description").value?null:t.chargeForm.get("description").value.length)||0,"/1000"),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(),e.hij(" ",!0===t.chargeForm.get("active").value?"Activo":"Inactivo"," ")}}const pe=o=>({"cursor-not-allowed":o});function Ye(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateCharge())}),e._uU(1," Actualizar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(3,pe,t.chargeForm.invalid))}}function Be(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createCharge())}),e._uU(1," Agregar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(3,pe,t.chargeForm.invalid))}}function He(o,a){if(1&o&&(e.TgZ(0,"div",29),e.ynx(1),e.TgZ(2,"button",30),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,Ye,2,5,"button",31)(5,Be,2,5,"button",31),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let je=(()=>{class o{constructor(t,i,n,r,c,p,h){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=r,this._chargesService=c,this._snackBar=p,this.store=h,this.dialogMode="view",this._unsubscribeAll=new k.x}ngOnInit(){this.store.select($.Qs).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.chargeForm=this._formBuilder.group({id:[""],active:[!0,[s.kI.required]],merchantId:[this.currentMerchant.id,[s.kI.required]],name:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(255)]],description:["",[s.kI.minLength(5),s.kI.maxLength(1e3)]],salary:[0,[s.kI.min(0),s.kI.max(99999),w.L.onlyNumbersPattern()]]}),"edit"===this.data.dialogMode&&this.chargeForm.patchValue(this.data.charge)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){const t=this.chargeForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.createCharge(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateCharge(){const t=this.chargeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.updateCharge(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(F.WI),e.Y36(F.so),e.Y36(s.qu),e.Y36(S.R),e.Y36(K),e.Y36(J.ux),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["charges-detail"]],standalone:!0,features:[e.jDz],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"grid","w-full","gap-4","pt-4","mt-4","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"col-span-1","mt-"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"w-full"],["matInput","","type","number",3,"formControlName","placeholder","min","max"],[1,"flex-auto","w-full","sm:col-span-2","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Ne,2,0,"h2",2)(4,Se,2,0,"h2",2)(5,Le,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,Je,14,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,ze,28,26,"div",5),e.BQk(),e.qZA(),e.YNc(11,He,6,3,"div",6),e.qZA()),2&i&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,n.data.charge.id&&"edit"===n.data.dialogMode?4:-1),e.xp6(),e.um2(5,n.data.charge.id&&"view"===n.data.dialogMode?5:-1),e.xp6(3),e.um2(8,"view"===n.data.dialogMode?8:-1),e.xp6(2),e.um2(10,10),e.xp6(),e.um2(11,"view"!==n.data.dialogMode?11:-1))},dependencies:[f.ot,f.lW,F.Is,F.ZT,d.lN,d.KE,d.hX,d.bx,d.TO,d.qo,b.Ps,b.Hw,y.c,y.Nt,P.LD,A.rP,A.Rr,v.mk,s.UX,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.qQ,s.Fd,s.sg,s.u],encapsulation:2,changeDetection:0})}return o})();function Ge(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-form-field",19),e._UZ(2,"mat-icon",20)(3,"input",21),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createCharge())}),e._UZ(5,"mat-icon",23),e.TgZ(6,"span",24),e._uU(7,"Nuevo"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar cargos"),e.xp6(2),e.Q6J("svgIcon","mat_solid:add")}}function Oe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",42),e.NdJ("change",function(n){e.CHM(t);const r=e.oxw(),c=r.$implicit,p=r.$index,h=e.oxw(3);return e.KtG(h.updateChargeStatus(n,c,p))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Ke(o,a){1&o&&e._UZ(0,"mat-spinner",38),2&o&&e.Q6J("diameter",20)("color","primary")}const Ve=()=>[""];function Xe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34),e._uU(2),e.qZA(),e.TgZ(3,"div",34),e._uU(4),e.qZA(),e.TgZ(5,"div",35),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"div",36),e.YNc(9,Oe,1,2,"mat-slide-toggle",37)(10,Ke,1,2,"mat-spinner",38),e.qZA(),e.TgZ(11,"div",39)(12,"button",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.editCharge(r))}),e._UZ(13,"mat-icon",41),e.qZA(),e.TgZ(14,"button",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.deleteCharge(r.id))}),e._UZ(15,"mat-icon",41),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(3);e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",e.xi3(7,7,t.salary,e.DdM(10,Ve))," "),e.xp6(3),e.um2(9,n.isLoading&&n.selectedSlide===i?-1:9),e.xp6(),e.um2(10,n.isLoading&&n.selectedSlide===i?10:-1),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function We(o,a){if(1&o&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._uU(3," Nombre "),e.qZA(),e.TgZ(4,"div",29),e._uU(5," Descripci\xf3n "),e.qZA(),e.TgZ(6,"div",30)(7,"span"),e._uU(8,"Salario"),e.qZA()(),e.TgZ(9,"div",31)(10,"span"),e._uU(11,"Activo"),e.qZA()(),e.TgZ(12,"div",32),e._uU(13," Acciones "),e.qZA()(),e.SjG(14,Xe,16,11,"div",43,e.QCX().trackByFn),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","salary"),e.xp6(3),e.Q6J("mat-sort-header","active"),e.xp6(5),e.wJu(t)}}function et(o,a){if(1&o&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}function tt(o,a){1&o&&e.YNc(0,We,16,3,"div",25)(1,et,2,1),2&o&&e.um2(0,a.length>0?0:1)}function ot(o,a){if(1&o&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}const it=o=>({"pointer-events-none":o}),nt=()=>[10,25,50,100];function at(o,a){if(1&o&&e._UZ(0,"mat-paginator",45),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,it,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,nt))("showFirstLastButtons",!0)}}const rt=()=>["Super Administrador"];let st=(()=>{class o{constructor(t,i,n,r,c,p){this._changeDetectorRef=t,this._chargeService=i,this._dialog=n,this._fuseConfirmationService=r,this._snackBar=c,this.store=p,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new s.NI(null),this._unsubscribeAll=new k.x}ngOnInit(){this.charges$=this.store.select(me),this.store.select($.Qs).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(G.B).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,l.R)(this._unsubscribeAll),(0,E.b)(300),(0,N.O)(null),(0,I.w)(t=>null!==t?(this.isLoading=!0,this._chargeService.findAllCharges(0,10,"name","desc",t)):(0,M.of)()),(0,u.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,l.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,_.T)(this._sort.sortChange,this._paginator.page).pipe((0,I.w)(()=>(this.isLoading=!0,this._chargeService.findAllCharges(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,u.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateChargeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._chargeService.updateChargeStatus({id:i.id,active:t.checked}).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createCharge(){this._openDialog(new Fe,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._chargeService.removeCharge(t,this.pagination.page,this.pagination.size,"active","desc").pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})}trackByFn(t,i){return i.id||t}_openDialog(t,i){this._dialog.open(je,{data:{charge:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36(K),e.Y36(F.uw),e.Y36(S.R),e.Y36(J.ux),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["charges"]],viewQuery:function(i,n){if(1&i&&(e.Gf(q.NW,5),e.Gf(C.YE,5)),2&i){let r;e.iGM(r=e.CRH())&&(n._paginator=r.first),e.iGM(r=e.CRH())&&(n._sort=r.first)}},standalone:!0,features:[e.jDz],decls:31,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,""],[1,"flex","justify-end",3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"mr-4","text-right"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b md:px-8 charges-table"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Cargos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Listado de Cargos "),e.qZA()()(),e.YNc(24,Ge,8,5,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,tt,2,1),e.ALo(28,"async"),e.YNc(29,ot,2,1)(30,at,1,9,"mat-paginator",17),e.qZA()()()),2&i){let r;e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(9,rt)),e.xp6(3),e.um2(27,(r=e.lcZ(28,7,n.charges$))?27:29,r),e.xp6(3),e.um2(30,n.pagination.length>0?30:-1)}},dependencies:[v.Ov,v.H9,f.ot,f.lW,d.lN,d.KE,d.qo,b.Ps,b.Hw,y.c,y.Nt,q.TU,q.NW,D.Cq,D.Ou,A.rP,A.Rr,C.JX,C.YE,C.nU,v.mk,x.rH],encapsulation:2,data:{animation:ie.L},changeDetection:0})}return o})();const de=o=>o.departments,ue=((0,g.P1)(de,o=>o.department),(0,g.P1)(de,o=>o.departments));var V=m(75986),B=m(38034),R=m(61537);const lt=U.Ps`
    mutation CreateDepartment($createDepartmentInput: CreateDepartmentInput!) {
        createDepartment(createDepartmentInput: $createDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId
                name,
                description,
                active
            }
        }
    }
`,ct=U.Ps`
    query FindAllDepartments($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllDepartments(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,mt=U.Ps`
    query FindAllActiveDepartments {
        findAllActiveDepartments {
            id,
            name
        }
    }
`,pt=U.Ps`
    query FindDepartmentById($departmentId: String!) {
        findDepartmentById(id: $departmentId ) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,dt=U.Ps`
    mutation UpdateDepartment($updateDepartmentInput: UpdateDepartmentInput!) {
        updateDepartment(updateDepartmentInput: $updateDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,ut=U.Ps`
    mutation UpdateDepartmentStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateDepartmentStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,gt=U.Ps`
    mutation RemoveDepartment($departmentId: String!) {
        removeDepartment(id: $departmentId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`;let X=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createDepartment(t){return this._apollo.mutate({mutation:lt,variables:{createDepartmentInput:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.createDepartment:null),(0,T.b)(i=>{i&&(this.store.dispatch((0,R.v$)({department:i.department})),this.store.dispatch((0,R.fH)({department:i.department})))}))}findAllDepartments(t=0,i=10,n="name",r="desc",c=null){return this._apollo.query({query:ct,variables:{page:t,size:i,sort:n,order:r,search:c},errorPolicy:"all"}).pipe((0,u.U)(({data:p})=>p?p.findAllDepartments:null),(0,T.b)(p=>{p&&(this.store.dispatch((0,R.xt)({departments:p.departments})),this.store.dispatch((0,O.Jr)({pagination:p.pagination})))}))}findAllActiveDepartments(){return this._apollo.query({query:mt,errorPolicy:"all"}).pipe((0,u.U)(({data:t})=>t?t.findAllActiveDepartments:null),(0,T.b)(t=>{t&&this.store.dispatch((0,R.xt)({departments:t}))}))}findDepartmentById(t){return this._apollo.query({query:pt,variables:{departmentId:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.findDepartmentById:null),(0,T.b)(i=>{i&&this.store.dispatch((0,R.fH)({department:i.department}))}))}updateDepartment(t){return this._apollo.mutate({mutation:dt,variables:{updateDepartmentInput:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.updateDepartment:null),(0,T.b)(i=>{i&&(this.store.dispatch((0,R.j4)({department:i.department})),this.store.dispatch((0,R.fH)({department:i.department})))}))}updateDepartmentStatus(t){return this._apollo.mutate({mutation:ut,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,u.U)(({data:i})=>i?i.updateDepartmentStatus:null),(0,T.b)(i=>{i&&this.store.dispatch((0,R.nt)(t))}))}removeDepartment(t,i=0,n=10,r="name",c="desc",p=null){return this._apollo.mutate({mutation:gt,variables:{departmentId:t,page:i,size:n,sort:r,order:c,search:p},errorPolicy:"all"}).pipe((0,u.U)(({data:h})=>h?h.removeDepartment:null),(0,T.b)(h=>{h&&(this.store.dispatch((0,R.$m)({id:t})),this.store.dispatch((0,O.Jr)({pagination:h.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(U._M),e.LFG(g.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ht(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar departamento"),e.qZA())}function _t(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar departamento "),e.qZA())}function ft(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del departamento"),e.qZA())}function xt(o,a){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),e.ynx(4),e.TgZ(5,"div",12)(6,"mat-label",13),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",14),e._uU(9),e.qZA()(),e.BQk(),e.ynx(10),e.TgZ(11,"div",12)(12,"mat-label",13),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"div",14),e._uU(15),e.qZA()(),e.BQk(),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(t.data.department.name),e.xp6(6),e.Oqu(t.data.department.description)}}function Ct(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento es obligatorio. "),e.qZA())}function vt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.qZA())}function bt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function yt(o,a){if(1&o&&(e.TgZ(0,"div",15)(1,"div",9)(2,"form",16)(3,"div",17)(4,"mat-form-field",18)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",19),e.YNc(8,Ct,2,0,"mat-error")(9,vt,2,0,"mat-error"),e.qZA()(),e.TgZ(10,"div",20)(11,"mat-form-field",21)(12,"mat-label"),e._uU(13,"Descripci\xf3n del Departamento"),e.qZA(),e._UZ(14,"mat-icon",22)(15,"textarea",23),e.YNc(16,bt,2,0,"mat-error"),e.TgZ(17,"mat-hint",24),e._uU(18),e.qZA()()(),e.TgZ(19,"div",25)(20,"span",26),e._uU(21,"Estado"),e.qZA(),e.TgZ(22,"mat-slide-toggle",27),e._uU(23),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.departmentForm)("autocomplete","off"),e.xp6(5),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.xp6(),e.um2(8,t.departmentForm.get("name").hasError("required")?8:-1),e.xp6(),e.um2(9,t.departmentForm.get("name").hasError("maxlength")||t.departmentForm.get("name").hasError("minlength")?9:-1),e.xp6(5),e.Q6J("svgIcon","mat_solid:subject"),e.xp6(),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.xp6(),e.um2(16,t.departmentForm.get("description").hasError("minlength")?16:-1),e.xp6(2),e.hij("",(null==t.departmentForm.get("description").value?null:t.departmentForm.get("description").value.length)||0,"/1000"),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(),e.hij(" ",!0===t.departmentForm.get("active").value?"Activo":"Inactivo"," ")}}const ge=o=>({"cursor-not-allowed":o});function Zt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateDepartment())}),e._uU(1," Actualizar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(3,ge,t.departmentForm.invalid))}}function At(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createDepartment())}),e._uU(1," Agregar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(3,ge,t.departmentForm.invalid))}}function Tt(o,a){if(1&o&&(e.TgZ(0,"div",28),e.ynx(1),e.TgZ(2,"button",29),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,Zt,2,5,"button",30)(5,At,2,5,"button",30),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.dialogMode?5:-1)}}let Ft=(()=>{class o{constructor(t,i,n,r,c,p,h){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=r,this._departmentsService=c,this._snackBar=p,this.store=h,this.dialogMode="view",this._unsubscribeAll=new k.x,this.dialogMode=t.dialogMode}ngOnInit(){this.store.select($.Qs).pipe((0,l.R)(this._unsubscribeAll)).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.departmentForm=this._formBuilder.group({id:[""],active:[!0],merchantId:[this.currentMerchant.id,[s.kI.required]],name:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(255)]],description:["",[s.kI.minLength(5),s.kI.maxLength(1e3)]]}),"edit"===this.dialogMode&&this.departmentForm.patchValue(this.data.department)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){const t=this.departmentForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.createDepartment(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateDepartment(){const t=this.departmentForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.updateDepartment(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(F.WI),e.Y36(F.so),e.Y36(s.qu),e.Y36(S.R),e.Y36(X),e.Y36(J.ux),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["department-detail"]],standalone:!0,features:[e.jDz],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"font-semibold","min-w-56"],[1,"leading-6"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","pt-1","mt-4","border-t",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,ht,2,0,"h2",2)(4,_t,2,0,"h2",2)(5,ft,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,xt,16,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,yt,24,20,"div",5),e.BQk(),e.qZA(),e.YNc(11,Tt,6,3,"div",6),e.qZA()),2&i&&(e.xp6(3),e.um2(3,"add"===n.dialogMode?3:-1),e.xp6(),e.um2(4,n.data.department.id&&"edit"===n.dialogMode?4:-1),e.xp6(),e.um2(5,n.data.department.id&&"view"===n.dialogMode?5:-1),e.xp6(3),e.um2(8,"view"===n.dialogMode?8:-1),e.xp6(2),e.um2(10,10),e.xp6(),e.um2(11,"view"!==n.dialogMode?11:-1))},dependencies:[f.ot,f.lW,V.p9,B.FA,F.Is,F.ZT,d.lN,d.KE,d.hX,d.bx,d.TO,d.qo,b.Ps,b.Hw,y.c,y.Nt,P.LD,A.rP,A.Rr,v.mk,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u],encapsulation:2,changeDetection:0})}return o})();class Ut{}function kt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-form-field",19),e._UZ(2,"mat-icon",20)(3,"input",21),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createDepartment())}),e._UZ(5,"mat-icon",23),e.TgZ(6,"span",24),e._uU(7,"Nuevo"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar departamentos"),e.xp6(2),e.Q6J("svgIcon","mat_solid:add")}}function qt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",40),e.NdJ("change",function(n){e.CHM(t);const r=e.oxw(),c=r.$implicit,p=r.$index,h=e.oxw(4);return e.KtG(h.updateDepartmentStatus(n,c,p))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function It(o,a){1&o&&e._UZ(0,"mat-spinner",36),2&o&&e.Q6J("diameter",20)("color","primary")}function wt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e._uU(2),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.qZA(),e.TgZ(5,"div",34),e.YNc(6,qt,1,2,"mat-slide-toggle",35)(7,It,1,2,"mat-spinner",36),e.qZA(),e.TgZ(8,"div",37)(9,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.editDepartment(r))}),e._UZ(10,"mat-icon",39),e.qZA(),e.TgZ(11,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteDepartment(r))}),e._UZ(12,"mat-icon",39),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.um2(6,n.isLoading&&n.selectedSlide===i?-1:6),e.xp6(),e.um2(7,n.isLoading&&n.selectedSlide===i?7:-1),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Dt(o,a){1&o&&e.SjG(0,wt,13,6,"div",41,e.QCX().trackByFn),2&o&&e.wJu(a)}function Et(o,a){if(1&o&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._uU(3," Nombre "),e.qZA(),e.TgZ(4,"div",29),e._uU(5," Descripci\xf3n "),e.qZA(),e.TgZ(6,"div",30)(7,"span"),e._uU(8,"Activo"),e.qZA()(),e.TgZ(9,"div",31),e._uU(10," Acciones "),e.qZA()(),e.YNc(11,Dt,2,0),e.ALo(12,"async"),e.qZA()),2&o){const t=e.oxw(2);let i;e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","active"),e.xp6(5),e.um2(11,(i=e.lcZ(12,3,t.departments$))?11:-1,i)}}function Nt(o,a){if(1&o&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado departamentos!":"\xa1No se ha creado ning\xfan departamento a\xfan!","")}}const he=()=>["Super Administrador"];function St(o,a){1&o&&e.YNc(0,Nt,2,1,"div",42),2&o&&e.Q6J("ngxPermissionsExcept",e.DdM(1,he))}function Lt(o,a){1&o&&e.YNc(0,Et,13,5,"div",25)(1,St,1,2),2&o&&e.um2(0,a.length>0?0:1)}const Jt=o=>({"pointer-events-none":o}),Rt=()=>[10,25,50,100];function Qt(o,a){if(1&o&&e._UZ(0,"mat-paginator",44),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,Jt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,Rt))("showFirstLastButtons",!0)}}let Mt=(()=>{class o{constructor(t,i,n,r,c,p){this._changeDetectorRef=t,this._fuseConfirmationService=i,this._departmentService=n,this._snackBar=r,this.dialog=c,this.store=p,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new s.NI(null),this._unsubscribeAll=new k.x}ngOnInit(){this.departments$=this.store.select(ue),this.store.select($.Qs).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(G.B).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,l.R)(this._unsubscribeAll),(0,E.b)(300),(0,N.O)(null),(0,I.w)(t=>null!==t?(this.isLoading=!0,this._departmentService.findAllDepartments(0,10,"name","desc",t)):(0,M.of)()),(0,u.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,l.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,_.T)(this._sort.sortChange,this._paginator.page).pipe((0,I.w)(()=>(this.isLoading=!0,this._departmentService.findAllDepartments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,u.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateDepartmentStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._departmentService.updateDepartmentStatus({id:i.id,active:t.checked}).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createDepartment(){this._openDialog(new Ut,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._departmentService.removeDepartment(t.id,this.pagination.page,this.pagination.size,"active","desc").subscribe(r=>{this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}trackByFn(t,i){return i.id||t}_openDialog(t,i){this.dialog.open(Ft,{data:{department:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36(S.R),e.Y36(X),e.Y36(J.ux),e.Y36(F.uw),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["departments"]],viewQuery:function(i,n){if(1&i&&(e.Gf(q.NW,5),e.Gf(C.YE,5)),2&i){let r;e.iGM(r=e.CRH())&&(n._paginator=r.first),e.iGM(r=e.CRH())&&(n._sort=r.first)}},standalone:!0,features:[e.jDz],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b departments-table md:px-8"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16 ",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Departamentos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Departamentos "),e.qZA()()(),e.YNc(24,kt,8,5,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,Lt,2,1),e.ALo(28,"async"),e.YNc(29,Qt,1,9,"mat-paginator",17),e.qZA()()()),2&i){let r;e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(9,he)),e.xp6(3),e.um2(27,(r=e.lcZ(28,7,n.departments$))?27:-1,r),e.xp6(2),e.um2(29,n.pagination.length>0?29:-1)}},dependencies:[v.Ov,f.ot,f.lW,d.lN,d.KE,d.qo,b.Ps,b.Hw,y.c,y.Nt,q.TU,q.NW,D.Cq,D.Ou,A.rP,A.Rr,C.JX,C.YE,C.nU,v.mk,x.rH],encapsulation:2,data:{animation:ie.L},changeDetection:0})}return o})();var Y=m(6990),ne=m(57482),Pt=m(21510),H=m(3305),$t=m(83788),ae=m(84384),re=m(65619),Yt=(m(20553),m(69862));let _e=(()=>{class o{constructor(t){this._httpClient=t,this._scholarship=new re.X(null),this._salaryFreqs=new re.X(null),this._salaryMethods=new re.X(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,u.U)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,T.b)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,u.U)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,T.b)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,u.U)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,T.b)(t=>{this._salaryMethods.next(t)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(Yt.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var se=m(62637),W=m(93217),Bt=m(59298),fe=m(95407),xe=m(23680);function Ht(o,a){1&o&&(e.TgZ(0,"a",80),e._uU(1,"Nuevo"),e.qZA())}function jt(o,a){if(1&o&&(e.TgZ(0,"a",80),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.Oqu(t.selectedEmployee.name)}}function Gt(o,a){1&o&&e._uU(0," Nuevo ")}function Ot(o,a){if(1&o&&e._uU(0),2&o){const t=e.oxw();e.hij(" ",t.selectedEmployee.name," ")}}const ee=o=>({"cursor-not-allowed":o});function Kt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,ee,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:save")}}function Vt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,ee,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:refresh")}}function Xt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado es obligatorio. "),e.qZA())}function Wt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function eo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado no debe contener n\xfameros. "),e.qZA())}function to(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado es obligatorio. "),e.qZA())}function oo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function io(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado no debe contener n\xfameros. "),e.qZA())}function no(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function ao(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.qZA())}function ro(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe escoger el g\xe9nero "),e.qZA())}function so(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.qZA())}function lo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.qZA())}function co(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.qZA())}function mo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"bank-account",84),e.NdJ("remove",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.removeBankAccount(n))}),e.qZA()}if(2&o){const t=a.$implicit,i=a.$index,n=a.$count,r=e.oxw();e.Q6J("bankAccountForm",t)("first",0===i)("last",i===n-1)("index",i)("currencies",r.currencies)}}function po(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Tel\xe9fonos"),e.qZA())}function uo(o,a){if(1&o&&(e.TgZ(0,"mat-option",35)(1,"span",24),e._UZ(2,"span",90),e.TgZ(3,"span",91),e._uU(4),e.qZA(),e.TgZ(5,"span",92),e._uU(6),e.qZA()()()),2&o){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.code)}}function go(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),e.qZA())}function ho(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.qZA())}function _o(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo sebe ser obligatorio. "),e.qZA())}function fo(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function xo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}const Ce=o=>({"mt-6":o});function Co(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",85)(1,"mat-form-field",86),e.YNc(2,po,2,0,"mat-label"),e._UZ(3,"input",87),e.TgZ(4,"mat-select",88)(5,"mat-select-trigger")(6,"span",24)(7,"span",89),e._uU(8),e.qZA()()(),e.TgZ(9,"mat-option",35)(10,"span",24),e._UZ(11,"span",90),e.TgZ(12,"span",91),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"span",92),e._uU(16),e.qZA()()(),e.SjG(17,uo,7,3,"mat-option",35,e.QCX().trackByFn),e.qZA(),e.YNc(19,go,2,0,"mat-error")(20,ho,2,0,"mat-error")(21,_o,2,0,"mat-error"),e.qZA(),e.TgZ(22,"mat-form-field",93),e.YNc(23,fo,2,0,"mat-label"),e._UZ(24,"mat-icon",36)(25,"input",94),e.YNc(26,xo,2,0,"mat-error"),e.qZA(),e.ynx(27),e.TgZ(28,"div",95)(29,"button",96),e.NdJ("click",function(){const r=e.CHM(t).$index,c=e.oxw();return e.KtG(c.removePhoneNumberField(r))}),e._UZ(30,"mat-icon",44),e.qZA()(),e.BQk(),e.qZA()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw();e.xp6(2),e.um2(2,0===i?2:-1),e.xp6(),e.Q6J("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),e.xp6(),e.Q6J("formControl",t.get("stateCode")),e.xp6(4),e.Oqu(n.employeeForm.get("phoneNumbers").value[i].stateCode),e.xp6(),e.Q6J("value","+535"),e.xp6(4),e.Oqu(e.lcZ(14,23,"celular")),e.xp6(3),e.Oqu("+535"),e.xp6(),e.wJu(n.statesCodes),e.xp6(2),e.um2(19,t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")?19:-1),e.xp6(),e.um2(20,t.get("phoneNumber").hasError("pattern")?20:-1),e.xp6(),e.um2(21,t.get("stateCode").hasError("required")?21:-1),e.xp6(2),e.um2(23,0===i?23:-1),e.xp6(),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(),e.um2(26,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?26:-1),e.xp6(2),e.Q6J("ngClass",e.VKq(25,Ce,0===i)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function vo(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Correos Electr\xf3nicos"),e.qZA())}function bo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.qZA())}function yo(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function Zo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}function Ao(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",97)(1,"mat-form-field",86),e.YNc(2,vo,2,0,"mat-label"),e._UZ(3,"mat-icon",36)(4,"input",98),e.YNc(5,bo,2,0,"mat-error"),e.qZA(),e.TgZ(6,"mat-form-field",93),e.YNc(7,yo,2,0,"mat-label"),e._UZ(8,"mat-icon",36)(9,"input",94),e.YNc(10,Zo,2,0,"mat-error"),e.qZA(),e.ynx(11),e.TgZ(12,"div",95)(13,"button",99),e.NdJ("click",function(){const r=e.CHM(t).$index,c=e.oxw();return e.KtG(c.removeEmailField(r))}),e._UZ(14,"mat-icon",44),e.qZA()(),e.BQk(),e.qZA()}if(2&o){const t=a.$implicit,i=a.$index;e.xp6(2),e.um2(2,0===i?2:-1),e.xp6(),e.Q6J("svgIcon","mat_solid:email"),e.xp6(),e.Q6J("formControl",t.get("email"))("spellcheck",!1),e.xp6(),e.um2(5,t.get("email").hasError("email")?5:-1),e.xp6(2),e.um2(7,0===i?7:-1),e.xp6(),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(),e.um2(10,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?10:-1),e.xp6(2),e.Q6J("ngClass",e.VKq(14,Ce,0===i)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function To(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function Fo(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t," ")}}function Uo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function ko(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.city),e.xp6(),e.hij(" ",t.city," ")}}function qo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function Io(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo postal no presenta un formato v\xe1lido. "),e.qZA())}function wo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n es obligatoria. "),e.qZA())}function Do(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.qZA())}function Eo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La fecha de contrataci\xf3n es obligatoria. "),e.qZA())}function No(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un tipo de contrato. "),e.qZA())}function So(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.qZA())}function Lo(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij("",t.name," ")}}function Jo(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij("",t.name," ")}}function Ro(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij(" ",t.name,"")}}function Qo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el cargo "),e.qZA())}function Mo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el nivel de escolaridad. "),e.qZA())}function Po(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij("",t," ")}}function $o(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.qZA())}function zo(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij("",t," ")}}function Yo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un modo pago "),e.qZA())}function Bo(o,a){if(1&o&&e._UZ(0,"img",75),2&o){const t=e.oxw();e.Q6J("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.LSH)}}function Ho(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",100),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.removeImage())}),e._UZ(1,"mat-icon",101),e.qZA()}}function jo(o,a){1&o&&(e.TgZ(0,"div",102),e._uU(1," SIN IMAGEN "),e.qZA())}function Go(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"input",103,104),e.NdJ("change",function(){e.CHM(t);const n=e.MAs(2),r=e.oxw();return e.KtG(r.uploadImage(n.files))}),e.qZA(),e.TgZ(3,"label",105)(4,"div",106),e._UZ(5,"mat-icon",44),e.TgZ(6,"span",45),e._uU(7," Agregar imagen "),e.qZA()()()()}2&o&&(e.xp6(),e.Q6J("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus-circle"))}function Oo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,ee,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:save")}}function Ko(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,ee,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:refresh")}}let Vo=(()=>{class o{constructor(t,i,n,r,c,p,h,xn,Cn,vn,bn){this._activatedRoute=t,this._changeDetectorRef=i,this._formBuilder=n,this._fuseConfirmationService=r,this._hrmService=c,this._employeesService=p,this._locationService=h,this._router=xn,this._imagesService=Cn,this._snackBar=vn,this.store=bn,this.cities=[],this.currencies=[],this.states=[],this.statesCodes=[],this.stateSelected="",this.windowsMode="new",this._unsubscribeAll=new k.x}ngOnInit(){this.store.select($.Qs).pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this.currentMerchant=i}),this.store.select(ne.hf).pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this.selectedEmployee=i}),this.store.select(Pt.zd).pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this.currencies=i}),this.locations$=this.store.select(ae.Yu),this.charges$=this.store.select(me),this.departments$=this.store.select(ue),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this._locationService.states$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this.states=i,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this.statesCodes=i,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({id:[null],merchantId:[this.currentMerchant.id,[s.kI.required]],active:[!0],name:[null,[s.kI.required,s.kI.minLength(3),s.kI.maxLength(255),w.L.onlyAlphabetsWithAccentPattern()]],lastname1:[null,[s.kI.required,s.kI.minLength(3),s.kI.maxLength(255),w.L.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[s.kI.minLength(3),s.kI.maxLength(255),w.L.onlyAlphabetsWithAccentPattern()]],gender:[null,[s.kI.required]],idNumber:[null,[s.kI.maxLength(11),s.kI.minLength(11),w.L.onlyNumbersPattern()]],bankAccounts:this._formBuilder.array([]),emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:[null,[s.kI.required,s.kI.minLength(3),s.kI.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[s.kI.required]],state:[null,[s.kI.required]],city:[null,[s.kI.required]],zip:[null,[s.kI.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],dateOfJoining:[null],typeOfContract:[null],contractEndDate:[null],contractTime:[0,[w.L.onlyNumbersPattern()]],departmentId:[null],chargeId:[null],scholarship:[null],locationId:[null],salaryFreq:[null],salaryMethod:[null],salaryLevel:[null],imageUrl:[null]}),this.employeeForm.get("state")?.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this._getCitiesByState(i),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,l.R)(this._unsubscribeAll)).subscribe(({employeeId:i})=>{"new"!==i&&(this.windowsMode="edit"),this._fillEmployeeData()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addBankAccount(){const t=this._formBuilder.group({bank:[null,[s.kI.maxLength(255)]],beneficiary:[null,[s.kI.maxLength(255),w.L.onlyAlphabetsWithAccentPattern()]],no:[null,[s.kI.required,s.kI.minLength(16),s.kI.maxLength(24)]],currency:[null],cardType:[""]});this.employeeForm.get("bankAccounts").push(t),this._changeDetectorRef.markForCheck()}removeBankAccount(t){this.employeeForm.get("bankAccounts").removeAt(t),this._changeDetectorRef.markForCheck()}addEmailField(){const t=this._formBuilder.group({email:["",[s.kI.email,s.kI.maxLength(255)]],label:["",[s.kI.minLength(3),s.kI.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["+535",[s.kI.required]],phoneNumber:["",[s.kI.minLength(7),s.kI.maxLength(7),w.L.onlyNumbersPattern()]],label:["",[s.kI.minLength(3),s.kI.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){let t=this.employeeForm.getRawValue();delete t.id,t=Y(t).omitBy(Y.isNull).omitBy(Y.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.createEmployee(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}updateEmployee(){let t=this.employeeForm.getRawValue();t=Y(t).omitBy(Y.isNull).value(),this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.updateEmployee(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}trackByFn(t,i){return i.id||t}uploadImage(t){if(!t.length)return;const n=t[0];n.size/1024/1024>1?this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}}):["image/jpeg","image/jpg","image/webp","image/png"].includes(n.type)&&this._imagesService.uploadImage("HRM",n).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{this.employeeForm.get("imageUrl").setValue(r.imageUrl),"edit"===this.windowsMode?this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:r.imageUrl}).pipe((0,l.R)(this._unsubscribeAll)).subscribe(c=>{c&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:c.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())}):this._changeDetectorRef.markForCheck()},r=>{console.warn(r)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen de este empleado?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._imagesService.removeImage(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{this.employeeForm.get("imageUrl").setValue(null),"edit"===this.windowsMode&&this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:null}).pipe((0,l.R)(this._unsubscribeAll)).subscribe(c=>{c&&this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})})}_fillEmployeeData(){"new"!==this.windowsMode&&(this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this.employeeForm.get("bankAccounts").clear(),this._setEmployeeDataOnForm(this.selectedEmployee),this._changeDetectorRef.markForCheck())}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this._getCitiesByState(t.state);const i=[];t.emails.length>0&&t.emails.forEach(c=>{i.push(this._formBuilder.group({email:[c.email,[s.kI.email,s.kI.maxLength(255)]],label:[c.label,[s.kI.minLength(3),s.kI.maxLength(255)]]}))}),i.forEach(c=>{this.employeeForm.get("emails").push(c)});const n=[];t.phoneNumbers.length>0&&t.phoneNumbers.forEach(c=>{n.push(this._formBuilder.group({stateCode:[c.stateCode,[s.kI.required]],phoneNumber:[c.phoneNumber,[s.kI.minLength(7),s.kI.maxLength(7),w.L.onlyNumbersPattern()]],label:[c.label,[s.kI.minLength(3),s.kI.maxLength(255)]]}))}),n.forEach(c=>{this.employeeForm.get("phoneNumbers").push(c)});const r=[];t.bankAccounts.length>0&&(t.bankAccounts.forEach(c=>{r.push(this._formBuilder.group({bank:[c.bank,[s.kI.maxLength(255)]],beneficiary:[c.beneficiary,[w.L.onlyAlphabetsWithAccentPattern()]],no:[c.no,[s.kI.required,s.kI.minLength(16),s.kI.maxLength(24)]],currency:[c.currency],cardType:[c.cardType]}))}),r.forEach(c=>{this.employeeForm.get("bankAccounts").push(c)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(x.gz),e.Y36(e.sBO),e.Y36(s.qu),e.Y36(S.R),e.Y36(_e),e.Y36(se.M),e.Y36(W.a),e.Y36(x.F0),e.Y36(Bt.C),e.Y36(J.ux),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["employee-detail"]],standalone:!0,features:[e.jDz],decls:309,vars:119,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],["class","ml-1 text-primary-700"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","masculino"],["value","femenino"],[3,"value"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[1,"pt-8","pb-8","pl-4","pr-4","border-t-2"],[1,"flex","flex-col","space-y-6"],[1,"inline-flex","items-center","px-4","py-2","mt-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",1,"mat-fuse-dense",3,"formControlName","max"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["matPrefix","",3,"for"],["joinDatepicker",""],["matInput","",3,"matDatepicker","formControlName","placeholder"],[3,"formControlName"],["value","Determinado"],["value","Indeterminado"],["birthdayDatepicker",""],["matInput","","type","number",3,"formControlName","min"],["matSuffix","",1,"ml-1"],["value","Primaria"],["value","Secundaria"],["value","TecnicoMedio"],["value","ObreroCalificado"],["value","MedioSuperior"],["value","Superior"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src"],["mat-mini-fab","","class","absolute p-5 transition-opacity ease-linear delay-200 rounded-full opacity-50 bg-primary-500 hover:opacity-100"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],[1,"ml-1","text-primary-700"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"bankAccountForm","first","last","index","currencies","remove"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white","icon-size-5"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"],[3,"bankAccountForm","first","last","index","currencies"],["class","relative flex flex-col sm:flex-row"],["class","flex flex-col sm:flex-row"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()(),e.TgZ(16,"div",4),e._UZ(17,"mat-icon",6),e.YNc(18,Ht,2,0,"a",9)(19,jt,2,1,"a",9),e.TgZ(20,"a",10),e._uU(21,"Nuevo"),e.qZA()()(),e.TgZ(22,"div",11)(23,"a",12),e._UZ(24,"mat-icon",6),e.TgZ(25,"span",13),e._uU(26,"Regresar"),e.qZA()()()(),e.TgZ(27,"div",14)(28,"div",15),e.YNc(29,Gt,1,0)(30,Ot,1,1),e.qZA()()(),e.TgZ(31,"div",16),e.YNc(32,Kt,4,5,"button",17)(33,Vt,4,5,"button",17),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"form",20)(37,"mat-accordion",21)(38,"mat-expansion-panel",22)(39,"mat-expansion-panel-header",23)(40,"mat-panel-title",24)(41,"div",25),e._uU(42," Informaci\xf3n General "),e.qZA()()(),e.TgZ(43,"div",26)(44,"div",27)(45,"mat-form-field",28)(46,"mat-label"),e._uU(47,"Nombre"),e.qZA(),e._UZ(48,"input",29),e.YNc(49,Xt,2,0,"mat-error")(50,Wt,2,0,"mat-error")(51,eo,2,0,"mat-error"),e.qZA()(),e.TgZ(52,"div",27)(53,"mat-form-field",28)(54,"mat-label"),e._uU(55,"Primer Apellido"),e.qZA(),e._UZ(56,"input",30),e.YNc(57,to,2,0,"mat-error")(58,oo,2,0,"mat-error")(59,io,2,0,"mat-error"),e.qZA()(),e.TgZ(60,"div",27)(61,"mat-form-field",28)(62,"mat-label"),e._uU(63,"Segundo Apellido"),e.qZA(),e._UZ(64,"input",31),e.YNc(65,no,2,0,"mat-error")(66,ao,2,0,"mat-error"),e.qZA()(),e.TgZ(67,"div",27)(68,"mat-form-field",28)(69,"mat-label"),e._uU(70,"G\xe9nero"),e.qZA(),e.TgZ(71,"mat-select",32)(72,"mat-option",33),e._uU(73,"Masculino"),e.qZA(),e.TgZ(74,"mat-option",34),e._uU(75,"Femenino"),e.qZA(),e.TgZ(76,"mat-option",35),e._uU(77,"Otro"),e.qZA()(),e.YNc(78,ro,2,0,"mat-error"),e.qZA()(),e.TgZ(79,"div",27)(80,"mat-form-field",28)(81,"mat-label"),e._uU(82,"N\xfamero de identidad"),e.qZA(),e._UZ(83,"mat-icon",36)(84,"input",37),e.YNc(85,so,2,0,"mat-error")(86,lo,2,0,"mat-error")(87,co,2,0,"mat-error"),e.qZA()(),e.TgZ(88,"div",38)(89,"span",39),e._uU(90,"Estado"),e.qZA(),e.TgZ(91,"mat-slide-toggle",40),e._uU(92," Activo "),e.qZA()()()(),e.TgZ(93,"mat-expansion-panel")(94,"mat-expansion-panel-header",23)(95,"mat-panel-title",24)(96,"div",25),e._uU(97," Cuentas de banco "),e.qZA()()(),e.TgZ(98,"div",41)(99,"div",42),e.SjG(100,mo,1,5,"bank-account",107,n.trackByFn),e.qZA(),e.TgZ(102,"div",43),e.NdJ("click",function(){return n.addBankAccount()}),e._UZ(103,"mat-icon",44),e.TgZ(104,"span",45),e._uU(105," Agregar Cuenta "),e.qZA()()()(),e.TgZ(106,"mat-expansion-panel")(107,"mat-expansion-panel-header",23)(108,"mat-panel-title",24)(109,"div",25),e._uU(110," Informaci\xf3n de contacto "),e.qZA()()(),e.TgZ(111,"div",46)(112,"div",27)(113,"div",47),e.SjG(114,Co,31,27,"div",108,n.trackByFn),e.qZA(),e.TgZ(116,"div",48),e.NdJ("click",function(){return n.addPhoneNumberField()}),e._UZ(117,"mat-icon",44),e.TgZ(118,"span",45),e._uU(119,"Agregar tel\xe9fono"),e.qZA()()(),e.TgZ(120,"div",27)(121,"div",47),e.SjG(122,Ao,15,16,"div",109,n.trackByFn),e.qZA(),e.TgZ(124,"div",48),e.NdJ("click",function(){return n.addEmailField()}),e._UZ(125,"mat-icon",44),e.TgZ(126,"span",45),e._uU(127,"Agregar correo electr\xf3nico"),e.qZA()()()()(),e.TgZ(128,"mat-expansion-panel",22)(129,"mat-expansion-panel-header",23)(130,"mat-panel-title",24)(131,"div",25),e._uU(132," Domicilio "),e.qZA()()(),e.TgZ(133,"div",41)(134,"div",49)(135,"div",27)(136,"mat-form-field",28)(137,"mat-label"),e._uU(138,"Pa\xeds"),e.qZA(),e.TgZ(139,"mat-select",32)(140,"mat-option",50),e._uU(141,"Cuba"),e.qZA()(),e._UZ(142,"mat-icon",51),e.YNc(143,To,2,0,"mat-error"),e.qZA()(),e.TgZ(144,"div",27)(145,"mat-form-field",28)(146,"mat-label"),e._uU(147,"Provincia"),e.qZA(),e.TgZ(148,"mat-select",32),e.SjG(149,Fo,2,2,"mat-option",35,n.trackByFn),e.qZA(),e._UZ(151,"mat-icon",51),e.YNc(152,Uo,2,0,"mat-error"),e.qZA()(),e.TgZ(153,"div",27)(154,"mat-form-field",28)(155,"mat-label"),e._uU(156,"Municipio"),e.qZA(),e.TgZ(157,"mat-select",32),e.SjG(158,ko,2,2,"mat-option",35,n.trackByFn),e.qZA(),e._UZ(160,"mat-icon",51),e.YNc(161,qo,2,0,"mat-error"),e.qZA()(),e.TgZ(162,"div",27)(163,"mat-form-field",52)(164,"mat-label"),e._uU(165,"C\xf3digo Postal"),e.qZA(),e._UZ(166,"input",53),e.YNc(167,Io,2,0,"mat-error"),e.qZA()(),e.TgZ(168,"div",54)(169,"mat-form-field",55)(170,"mat-label"),e._uU(171,"Direcci\xf3n"),e.qZA(),e._UZ(172,"mat-icon",36)(173,"textarea",56),e.YNc(174,wo,2,0,"mat-error")(175,Do,2,0,"mat-error"),e.qZA()()()()(),e.TgZ(176,"mat-expansion-panel")(177,"mat-expansion-panel-header",23)(178,"mat-panel-title",24)(179,"div",25),e._uU(180," Datos de incorporaci\xf3n "),e.qZA()()(),e.TgZ(181,"div",26)(182,"div",27)(183,"mat-form-field",28)(184,"mat-label"),e._uU(185,"Fecha de contrataci\xf3n"),e.qZA(),e._UZ(186,"mat-datepicker-toggle",57)(187,"mat-datepicker",null,58)(189,"input",59),e.YNc(190,Eo,2,0,"mat-error"),e.qZA()(),e.TgZ(191,"div",27)(192,"mat-form-field",28)(193,"mat-label"),e._uU(194,"Tipo de contrato"),e.qZA(),e.TgZ(195,"mat-select",60)(196,"mat-option",61),e._uU(197,"Determinado"),e.qZA(),e.TgZ(198,"mat-option",62),e._uU(199,"Indeterminado"),e.qZA()(),e.YNc(200,No,2,0,"mat-error"),e.qZA()(),e.TgZ(201,"div",27)(202,"mat-form-field",28)(203,"mat-label"),e._uU(204,"Fecha de cierre del contrato"),e.qZA(),e._UZ(205,"mat-datepicker-toggle",57)(206,"mat-datepicker",null,63)(208,"input",59),e.qZA()(),e.TgZ(209,"div",27)(210,"mat-form-field",28)(211,"mat-label"),e._uU(212,"Tiempo del contrato"),e.qZA(),e._UZ(213,"mat-icon",36)(214,"input",64),e.TgZ(215,"span",65),e._uU(216,"D\xedas"),e.qZA(),e.YNc(217,So,2,0,"mat-error"),e.qZA()()()(),e.TgZ(218,"mat-expansion-panel")(219,"mat-expansion-panel-header",23)(220,"mat-panel-title",24)(221,"div",25),e._uU(222," Departamento, cargo y escolaridad "),e.qZA()()(),e.TgZ(223,"div",41)(224,"div",49)(225,"div",27)(226,"mat-form-field",28)(227,"mat-label"),e._uU(228,"Unidad Comercial"),e.qZA(),e.TgZ(229,"mat-select",60),e.SjG(230,Lo,2,2,"mat-option",35,e.x6l),e.ALo(232,"async"),e.qZA()()(),e.TgZ(233,"div",27)(234,"mat-form-field",28)(235,"mat-label"),e._uU(236,"Departamento"),e.qZA(),e.TgZ(237,"mat-select",60),e.SjG(238,Jo,2,2,"mat-option",35,e.x6l),e.ALo(240,"async"),e.qZA()()(),e.TgZ(241,"div",27)(242,"mat-form-field",28)(243,"mat-label"),e._uU(244,"Cargo"),e.qZA(),e.TgZ(245,"mat-select",60),e.SjG(246,Ro,2,2,"mat-option",35,e.x6l),e.ALo(248,"async"),e.qZA(),e.YNc(249,Qo,2,0,"mat-error"),e.qZA()(),e.TgZ(250,"div",27)(251,"mat-form-field",28)(252,"mat-label"),e._uU(253,"Escolaridad"),e.qZA(),e.TgZ(254,"mat-select",60)(255,"mat-option",66),e._uU(256,"Primaria"),e.qZA(),e.TgZ(257,"mat-option",67),e._uU(258,"Secundaria"),e.qZA(),e.TgZ(259,"mat-option",68),e._uU(260,"T\xe9cnico Medio"),e.qZA(),e.TgZ(261,"mat-option",69),e._uU(262,"Obrero Calificado"),e.qZA(),e.TgZ(263,"mat-option",70),e._uU(264,"Medio Superior"),e.qZA(),e.TgZ(265,"mat-option",71),e._uU(266,"Superior"),e.qZA()(),e.YNc(267,Mo,2,0,"mat-error"),e.qZA()()()()(),e.TgZ(268,"mat-expansion-panel")(269,"mat-expansion-panel-header",23)(270,"mat-panel-title",24)(271,"div",25),e._uU(272," Salario "),e.qZA()()(),e.TgZ(273,"div",26)(274,"div",27)(275,"mat-form-field",28)(276,"mat-label"),e._uU(277,"Frecuencia"),e.qZA(),e.TgZ(278,"mat-select",60),e.SjG(279,Po,2,2,"mat-option",35,e.x6l),e.ALo(281,"async"),e.qZA(),e.YNc(282,$o,2,0,"mat-error"),e.qZA()(),e.TgZ(283,"div",27)(284,"mat-form-field",28)(285,"mat-label"),e._uU(286,"Modo de pago"),e.qZA(),e.TgZ(287,"mat-select",60),e.SjG(288,zo,2,2,"mat-option",35,e.x6l),e.ALo(290,"async"),e.qZA(),e.YNc(291,Yo,2,0,"mat-error"),e.qZA()()()(),e.TgZ(292,"mat-expansion-panel")(293,"mat-expansion-panel-header",23)(294,"mat-panel-title",24)(295,"div",25),e._uU(296," Imagen "),e.qZA()()(),e.TgZ(297,"div",26)(298,"div",72)(299,"div",73)(300,"div",74),e.YNc(301,Bo,1,2,"img",75)(302,Ho,2,0,"button",76)(303,jo,2,0,"div",77),e.qZA()(),e.YNc(304,Go,8,3,"div"),e.qZA()()()()()()(),e.TgZ(305,"div",78)(306,"div",79),e.YNc(307,Oo,4,5,"button",17)(308,Ko,4,5,"button",17),e.qZA()()()),2&i){const r=e.MAs(188),c=e.MAs(207);e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(),e.um2(18,"new"===n.windowsMode?18:-1),e.xp6(),e.um2(19,"new"!==n.windowsMode?19:-1),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(5),e.um2(29,"new"===n.windowsMode?29:-1),e.xp6(),e.um2(30,"new"!==n.windowsMode?30:-1),e.xp6(2),e.um2(32,"new"===n.windowsMode?32:-1),e.xp6(),e.um2(33,"new"!==n.windowsMode?33:-1),e.xp6(3),e.Q6J("formGroup",n.employeeForm)("autocomplete","off"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.xp6(),e.um2(49,n.employeeForm.get("name").hasError("required")?49:-1),e.xp6(),e.um2(50,n.employeeForm.get("name").hasError("maxlength")||n.employeeForm.get("name").hasError("minlength")?50:-1),e.xp6(),e.um2(51,n.employeeForm.get("name").hasError("pattern")?51:-1),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.xp6(),e.um2(57,n.employeeForm.get("lastname1").hasError("required")?57:-1),e.xp6(),e.um2(58,n.employeeForm.get("lastname1").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?58:-1),e.xp6(),e.um2(59,n.employeeForm.get("lastname1").hasError("pattern")?59:-1),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.xp6(),e.um2(65,n.employeeForm.get("lastname2").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?65:-1),e.xp6(),e.um2(66,n.employeeForm.get("lastname2").hasError("pattern")?66:-1),e.xp6(5),e.Q6J("formControlName","gender"),e.xp6(5),e.Q6J("value","otro"),e.xp6(2),e.um2(78,n.employeeForm.get("gender").hasError("required")?78:-1),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:identification"),e.xp6(),e.Q6J("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.xp6(),e.um2(85,n.employeeForm.get("idNumber").hasError("required")?85:-1),e.xp6(),e.um2(86,n.employeeForm.get("idNumber").hasError("maxlength")||n.employeeForm.get("idNumber").hasError("minlength")?86:-1),e.xp6(),e.um2(87,n.employeeForm.get("idNumber").hasError("pattern")?87:-1),e.xp6(4),e.Q6J("color","primary")("formControlName","active"),e.xp6(3),e.Q6J("collapsedHeight","56px"),e.xp6(6),e.wJu(n.employeeForm.get("bankAccounts").controls),e.xp6(3),e.Q6J("svgIcon","mat_solid:add_circle"),e.xp6(4),e.Q6J("collapsedHeight","56px"),e.xp6(7),e.wJu(n.employeeForm.get("phoneNumbers").controls),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.wJu(n.employeeForm.get("emails").controls),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(3),e.Q6J("expanded",!0),e.xp6(),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","mat_solid:public"),e.xp6(),e.um2(143,n.employeeForm.get("country").hasError("required")?143:-1),e.xp6(5),e.Q6J("formControlName","state"),e.xp6(),e.wJu(n.states),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(),e.um2(152,n.employeeForm.get("state").hasError("required")?152:-1),e.xp6(5),e.Q6J("formControlName","city"),e.xp6(),e.wJu(n.cities),e.xp6(2),e.Q6J("svgIcon","mat_solid:location_on"),e.xp6(),e.um2(161,n.employeeForm.get("city").hasError("required")?161:-1),e.xp6(5),e.Q6J("formControlName","zip")("max",99999),e.xp6(),e.um2(167,n.employeeForm.get("zip").hasError("pattern")?167:-1),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(),e.Q6J("formControlName","address")("minLength",3)("maxlength",255),e.xp6(),e.um2(174,n.employeeForm.get("address").hasError("required")?174:-1),e.xp6(),e.um2(175,n.employeeForm.get("address").hasError("maxlength")||n.employeeForm.get("address").hasError("minlength")?175:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("for",r),e.xp6(3),e.Q6J("matDatepicker",r)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.xp6(),e.um2(190,n.employeeForm.get("dateOfJoining").hasError("required")?190:-1),e.xp6(5),e.Q6J("formControlName","typeOfContract"),e.xp6(5),e.um2(200,n.employeeForm.get("typeOfContract").hasError("required")?200:-1),e.xp6(5),e.Q6J("for",c),e.xp6(3),e.Q6J("matDatepicker",c)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:clock"),e.xp6(),e.Q6J("formControlName","contractTime")("min",0),e.xp6(3),e.um2(217,n.employeeForm.get("contractTime").hasError("pattern")?217:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","locationId"),e.xp6(),e.wJu(e.lcZ(232,109,n.locations$)),e.xp6(7),e.Q6J("formControlName","departmentId"),e.xp6(),e.wJu(e.lcZ(240,111,n.departments$)),e.xp6(7),e.Q6J("formControlName","chargeId"),e.xp6(),e.wJu(e.lcZ(248,113,n.charges$)),e.xp6(3),e.um2(249,n.employeeForm.get("chargeId").hasError("required")?249:-1),e.xp6(5),e.Q6J("formControlName","scholarship"),e.xp6(13),e.um2(267,n.employeeForm.get("scholarship").hasError("required")?267:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("formControlName","salaryFreq"),e.xp6(),e.wJu(e.lcZ(281,115,n.salaryFreqs$)),e.xp6(3),e.um2(282,n.employeeForm.get("salaryFreq").hasError("required")?282:-1),e.xp6(5),e.Q6J("formControlName","salaryMethod"),e.xp6(),e.wJu(e.lcZ(290,117,n.salaryMethods$)),e.xp6(3),e.um2(291,n.employeeForm.get("salaryMethod").hasError("required")?291:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(8),e.um2(301,n.employeeForm.get("imageUrl").value?301:-1),e.xp6(),e.um2(302,n.employeeForm.get("imageUrl").value?302:-1),e.xp6(),e.um2(303,n.employeeForm.get("imageUrl").value?-1:303),e.xp6(),e.um2(304,n.employeeForm.get("imageUrl").value?-1:304),e.xp6(3),e.um2(307,"new"===n.windowsMode?307:-1),e.xp6(),e.um2(308,"new"!==n.windowsMode?308:-1)}},dependencies:[v.Ov,$t.w,f.ot,f.lW,f.RK,f.nh,V.p9,B.FA,fe.PQ,B.Mq,B.hl,B.nW,F.Is,H.To,H.pp,H.ib,H.yz,H.yK,d.lN,d.KE,d.hX,d.TO,d.qo,d.R9,b.Ps,b.Hw,y.c,y.Nt,P.LD,P.gD,P.$L,xe.ey,A.rP,A.Rr,v.mk,s.UX,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.qQ,s.oH,s.sg,s.u,x.rH,v.rS],encapsulation:2,changeDetection:0})}return o})();var Xo=m(48851),Wo=m(18240);function ei(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico es obligatorio. "),e.qZA())}function ti(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo no posee un formato v\xe1lido. "),e.qZA())}function oi(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility")}function ii(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility-off")}function ni(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La contrase\xf1a es obligatoria. "),e.qZA())}function ai(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,' La contrase\xf1a deber\xe1 tener entre 8 y 100 caracteres e incluir may\xfasculas, min\xfasculas n\xfameros y s\xedmbolos como: ! " ? $ % ^ &. '),e.qZA())}function ri(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility")}function si(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility-off")}function li(o,a){1&o&&(e.TgZ(0,"mat-error",22),e._uU(1," La contrase\xf1a es obligatoria "),e.qZA())}function ci(o,a){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.hij(" ",t.employeeUserForm.get("pwd2").getError("mustMatch")," ")}}function mi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.markRole(n.id,!n.checked))}),e.TgZ(1,"div",28),e._uU(2),e.qZA()()}if(2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.description," ")}}function pi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",23)(1,"mat-checkbox",24),e.NdJ("change",function(n){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.markRole(c.id,n.checked))}),e.TgZ(2,"span",25),e._uU(3),e.qZA()(),e.YNc(4,mi,3,1,"div",26),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(),e.Q6J("color","primary")("color","primary")("checked",t.checked),e.xp6(2),e.hij(" ",t.name," "),e.xp6(),e.um2(4,t.description?4:-1)}}const di=o=>({"cursor-not-allowed":o});let ui=(()=>{class o{constructor(t){this.data=t,this.roles=[],this._changeDetectorRef=(0,e.f3M)(e.sBO),this._dialogRef=(0,e.f3M)(F.so),this._formBuilder=(0,e.f3M)(s.qu),this._fuseConfirmationService=(0,e.f3M)(S.R),this._snackBar=(0,e.f3M)(J.ux),this._unsubscribeAll=new k.x,this._usersService=(0,e.f3M)(Wo.f),this._rolesService=(0,e.f3M)(Xo.N),this.store=(0,e.f3M)(g.yh)}ngOnInit(){this._rolesService.findAllActiveRoles().pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.roles=structuredClone(t),this._changeDetectorRef.markForCheck()}),this.employeeUserForm=this._formBuilder.group({employeeId:[this.data.employee.id,[s.kI.required]],email:[null,[s.kI.email,s.kI.required]],pwd:["",[s.kI.minLength(8),s.kI.maxLength(100),w.L.strongPasWordPattern()]],pwd2:[""],roleId:[null,[s.kI.required]]},{validators:w.L.mustMatch("pwd","pwd2")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createUser(){const t=this.employeeUserForm.getRawValue();delete t.pwd2,this._fuseConfirmationService.open({title:"Crear usuario",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._usersService.createUserFromEmployee(t).subscribe(({data:r})=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.createUserFromEmployee.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})}),this._changeDetectorRef.markForCheck()}markRole(t,i){for(const n of this.roles)n.id===t&&i?(n.checked=!0,this.employeeUserForm.get("roleId").setValue(n.id)):n.checked=!1;this.roles.some(n=>n.checked)||this.employeeUserForm.get("roleId").setValue(null),this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(F.WI))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-employee-user-dialog"]],standalone:!0,features:[e.jDz],decls:43,vars:25,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"w-full","px-8","pb-6","overflow-hidden","sm:flex-row","sm:items-start","sm:pb-8"],[1,"grid","w-full","grid-cols-1","gap-3","pt-6","mt-3","overflow-auto","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full","sm:col-span-2"],["matInput","","required","",3,"type","formControlName","placeholder"],[1,"w-full","col-span-1"],["type","password","placeholder","Contrase\xf1a","matInput","","required","",3,"formControlName","minlength","maxlength"],["passwordField1",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon"],["type","password","placeholder","Repita la contrase\xf1a","matInput","","required","",3,"formControlName"],["passwordField2",""],["class","pb-5"],[1,"col-span-1","sm:col-span-2","h-50"],[1,"font-semibold"],[1,"grid","w-full","grid-cols-2","gap-4","mt-3","overflow-auto"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass","click"],[1,"icon-size-5",3,"svgIcon"],[1,"pb-5"],[1,"relative","p-3","overflow-hidden","border","border-dashed","rounded-sm","cursor-pointer","border-primary-700","max-h-30"],[1,"absolute","top-2.5","left-3",3,"color","checked","change"],[1,"font-medium","truncate"],["class","h-full mt-8"],[1,"h-full","mt-8",3,"click"],[1,"whitespace-pre-line","text-md","text-hint","line-clamp-3"],["class","relative p-3 overflow-hidden border border-dashed rounded-sm cursor-pointer border-primary-700 max-h-30 "]],template:function(i,n){if(1&i){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Crear Usuario"),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Correo electr\xf3nico"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,ei,2,0,"mat-error")(11,ti,2,0,"mat-error"),e.qZA(),e.TgZ(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Contrase\xf1a"),e.qZA(),e._UZ(15,"input",8,9),e.TgZ(17,"button",10),e.NdJ("click",function(){e.CHM(r);const p=e.MAs(16);return e.KtG(p.type="password"===p.type?"text":"password")}),e.YNc(18,oi,1,1,"mat-icon",11)(19,ii,1,1,"mat-icon",11),e.qZA(),e.YNc(20,ni,2,0,"mat-error")(21,ai,2,0,"mat-error"),e.qZA(),e.TgZ(22,"mat-form-field",7)(23,"mat-label"),e._uU(24,"Confirmar contrase\xf1a"),e.qZA(),e._UZ(25,"input",12,13),e.TgZ(27,"button",10),e.NdJ("click",function(){e.CHM(r);const p=e.MAs(26);return e.KtG(p.type="password"===p.type?"text":"password")}),e.YNc(28,ri,1,1,"mat-icon",11)(29,si,1,1,"mat-icon",11),e.qZA(),e.YNc(30,li,2,0,"mat-error",14)(31,ci,2,1,"mat-error"),e.qZA(),e.TgZ(32,"div",15)(33,"span",16),e._uU(34,"Roles"),e.qZA(),e.TgZ(35,"div",17),e.SjG(36,pi,5,5,"div",29,e.x6l),e.qZA()()()(),e.TgZ(38,"div",18)(39,"button",19),e._uU(40," Cancelar "),e.qZA(),e.TgZ(41,"button",20),e.NdJ("click",function(){return n.createUser()}),e._uU(42," Aceptar "),e.qZA()()()}if(2&i){const r=e.MAs(16),c=e.MAs(26);e.xp6(5),e.Q6J("formGroup",n.employeeUserForm)("autocomplete","off"),e.xp6(4),e.Q6J("type","email")("formControlName","email")("placeholder","Correo electr\xf3nico"),e.xp6(),e.um2(10,n.employeeUserForm.get("email").hasError("required")?10:-1),e.xp6(),e.um2(11,n.employeeUserForm.get("email").hasError("email")?11:-1),e.xp6(4),e.Q6J("formControlName","pwd")("minlength",8)("maxlength",100),e.xp6(3),e.um2(18,"password"===r.type?18:-1),e.xp6(),e.um2(19,"text"===r.type?19:-1),e.xp6(),e.um2(20,n.employeeUserForm.get("pwd").hasError("required")?20:-1),e.xp6(),e.um2(21,n.employeeUserForm.get("pwd").hasError("pattern")||n.employeeUserForm.get("pwd").hasError("minlength")?21:-1),e.xp6(4),e.Q6J("formControlName","pwd2"),e.xp6(3),e.um2(28,"password"===c.type?28:-1),e.xp6(),e.um2(29,"text"===c.type?29:-1),e.xp6(),e.um2(30,n.employeeUserForm.get("pwd2").hasError("required")?30:-1),e.xp6(),e.um2(31,n.employeeUserForm.get("pwd2").hasError("mustMatch")?31:-1),e.xp6(5),e.wJu(n.roles),e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("color","primary")("disabled",n.employeeUserForm.invalid)("ngClass",e.VKq(23,di,n.employeeUserForm.invalid))}},dependencies:[d.lN,d.KE,d.hX,d.TO,d.R9,b.Ps,b.Hw,y.c,y.Nt,f.ot,f.lW,f.RK,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,V.p9,V.oG,F.Is,F.ZT,v.mk],encapsulation:2})}return o})();const gi=()=>["new"];function hi(o,a){if(1&o&&(e.TgZ(0,"div",18)(1,"mat-form-field",19),e._UZ(2,"mat-icon",20)(3,"input",21),e.qZA(),e.TgZ(4,"button",22),e._UZ(5,"mat-icon",23),e.TgZ(6,"span",24),e._uU(7,"Nuevo"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar empleados"),e.xp6(),e.Q6J("routerLink",e.DdM(6,gi)),e.xp6(),e.Q6J("svgIcon","mat_solid:add")}}function _i(o,a){if(1&o&&e._UZ(0,"img",49),2&o){const t=e.oxw().$implicit;e.Q6J("alt","Foto")("src",t.imageUrl,e.LSH)}}function fi(o,a){1&o&&(e.TgZ(0,"div",50),e._uU(1," SIN FOTO "),e.qZA())}function xi(o,a){if(1&o&&(e.TgZ(0,"div",51),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.hij(" ",t.department.name," ")}}function Ci(o,a){1&o&&(e.TgZ(0,"div",52),e._uU(1," No tiene asignado "),e.qZA())}function vi(o,a){if(1&o&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.hij(" ",t.charge.name," ")}}function bi(o,a){1&o&&(e.TgZ(0,"div",52),e._uU(1," No tiene asignado "),e.qZA())}function yi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("change",function(n){e.CHM(t);const r=e.oxw(),c=r.$implicit,p=r.$index,h=e.oxw(4);return e.KtG(h.updateEmployeeStatus(n,c,p))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Zi(o,a){1&o&&e._UZ(0,"mat-spinner",43),2&o&&e.Q6J("diameter",20)("color","primary")}const Ai=o=>[o];function Ti(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"div",34),e.YNc(3,_i,1,2,"img",35)(4,fi,2,0,"div",36),e.qZA()(),e.TgZ(5,"div",37),e._uU(6),e.qZA(),e.TgZ(7,"div",37),e._uU(8),e.qZA(),e.YNc(9,xi,2,1,"div",38)(10,Ci,2,0,"div",39)(11,vi,2,1,"div",40)(12,bi,2,0,"div",39),e.TgZ(13,"div",41),e.YNc(14,yi,1,2,"mat-slide-toggle",42)(15,Zi,1,2,"mat-spinner",43),e.qZA(),e.TgZ(16,"div",44)(17,"button",45),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.createUser(r))}),e._UZ(18,"mat-icon",46),e.qZA(),e.TgZ(19,"button",47),e._UZ(20,"mat-icon",46),e.qZA(),e.TgZ(21,"button",48),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteEmployee(r.id))}),e._UZ(22,"mat-icon",46),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(4);e.xp6(3),e.um2(3,t.imageUrl?3:-1),e.xp6(),e.um2(4,t.imageUrl?-1:4),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.lnq(" ",t.name," ",t.lastname1," ",t.lastname2?t.lastname2:""," "),e.xp6(),e.um2(9,t.department?9:-1),e.xp6(),e.um2(10,t.department?-1:10),e.xp6(),e.um2(11,t.charge?11:-1),e.xp6(),e.um2(12,t.charge?-1:12),e.xp6(2),e.um2(14,n.isLoading&&n.selectedSlide===i?-1:14),e.xp6(),e.um2(15,n.isLoading&&n.selectedSlide===i?15:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:person_add"),e.xp6(),e.Q6J("routerLink",e.VKq(16,Ai,t.id)),e.xp6(),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Fi(o,a){1&o&&e.SjG(0,Ti,23,18,"div",54,e.QCX().trackByFn),2&o&&e.wJu(a)}function Ui(o,a){if(1&o&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._uU(3," Foto "),e.qZA(),e.TgZ(4,"div",29),e._uU(5," C\xf3digo "),e.qZA(),e.TgZ(6,"div",29)(7,"span"),e._uU(8," Nombre y Apellidos "),e.qZA()(),e.TgZ(9,"div"),e._uU(10," Departamento "),e.qZA(),e.TgZ(11,"div"),e._uU(12," Cargo "),e.qZA(),e.TgZ(13,"div",30)(14,"span"),e._uU(15,"Activo"),e.qZA()(),e.TgZ(16,"div",31),e._uU(17," Acciones "),e.qZA()(),e.YNc(18,Fi,2,0),e.ALo(19,"async"),e.qZA()),2&o){const t=e.oxw(2);let i;e.xp6(4),e.Q6J("mat-sort-header","code"),e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(7),e.Q6J("mat-sort-header","active"),e.xp6(5),e.um2(18,(i=e.lcZ(19,4,t.employees$))?18:-1,i)}}function ki(o,a){if(1&o&&(e.TgZ(0,"div",56),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!","")}}const ve=()=>["Super Administrador"];function qi(o,a){1&o&&e.YNc(0,ki,2,1,"div",55),2&o&&e.Q6J("ngxPermissionsExcept",e.DdM(1,ve))}function Ii(o,a){1&o&&e.YNc(0,Ui,20,6,"div",25)(1,qi,1,2),2&o&&e.um2(0,a.length>0?0:1)}const wi=o=>({"pointer-events-none":o}),Di=()=>[10,25,50,100];function Ei(o,a){if(1&o&&e._UZ(0,"mat-paginator",57),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,wi,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,Di))("showFirstLastButtons",!0)}}let Ni=(()=>{class o{constructor(t,i,n,r,c,p){this._changeDetectorRef=t,this._employeeService=i,this._fuseConfirmationService=n,this._snackBar=r,this._dialog=c,this.store=p,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new s.NI(null),this._unsubscribeAll=new k.x}ngOnInit(){this.employees$=this.store.select(ne.ri),this.store.select($.Qs).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(G.B).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,l.R)(this._unsubscribeAll),(0,E.b)(300),(0,N.O)(null),(0,I.w)(t=>null!==t?(this.isLoading=!0,this._employeeService.findAllEmployees(0,10,"name","desc",t)):(0,M.of)()),(0,u.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,l.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,_.T)(this._sort.sortChange,this._paginator.page).pipe((0,I.w)(()=>(this.isLoading=!0,this._employeeService.findAllEmployees(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,u.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateEmployeeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._employeeService.updateEmployeeStatus({id:i.id,active:t.checked}).pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._employeeService.removeEmployee(t,this.pagination.page,this.pagination.size,"name","desc").pipe((0,l.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())})})}createUser(t){this._dialog.open(ui,{data:{employee:t},disableClose:!0,panelClass:"ath-dialog-panel"})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36(se.M),e.Y36(S.R),e.Y36(J.ux),e.Y36(F.uw),e.Y36(g.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["employees"]],viewQuery:function(i,n){if(1&i&&(e.Gf(q.NW,5),e.Gf(C.YE,5)),2&i){let r;e.iGM(r=e.CRH())&&(n._paginator=r.first),e.iGM(r=e.CRH())&&(n._sort=r.first)}},standalone:!0,features:[e.jDz],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","employees-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-10","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],[1,"truncate"],["class",""],["class","text-red-700"],["class","items-center"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","","matTooltip","Crear Usuario",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,""],[1,"text-red-700"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b md:px-8 employees-table"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Empleados "),e.qZA()()(),e.YNc(24,hi,8,7,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,Ii,2,1),e.ALo(28,"async"),e.YNc(29,Ei,1,9,"mat-paginator",17),e.qZA()()()),2&i){let r;e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(9,ve)),e.xp6(3),e.um2(27,(r=e.lcZ(28,7,n.employees$))?27:-1,r),e.xp6(2),e.um2(29,n.pagination&&n.pagination.length>0?29:-1)}},dependencies:[b.Ps,b.Hw,f.ot,f.lW,q.TU,q.NW,C.JX,C.YE,C.nU,y.c,y.Nt,d.KE,d.qo,x.rH,A.rP,A.Rr,D.Cq,D.Ou,d.lN,v.Ov,v.mk],encapsulation:2,data:{animation:ie.L},changeDetection:0})}return o})();var Si=m(64716),be=m(43987);class ye{}function Li(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",36),e.NdJ("change",function(n){e.CHM(t);const r=e.oxw(),c=r.$implicit,p=r.$index,h=e.oxw(4);return e.KtG(h.updateLocationStatus(n,c,p))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Ji(o,a){1&o&&e._UZ(0,"mat-spinner",31),2&o&&e.Q6J("diameter",20)("color","primary")}const Ri=o=>[o];function Qi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",22),e._uU(2),e.qZA(),e.TgZ(3,"div",28),e._uU(4),e.qZA(),e.TgZ(5,"div",28),e._uU(6),e.qZA(),e.TgZ(7,"div",25),e._uU(8),e.qZA(),e.TgZ(9,"div",25),e._uU(10),e.qZA(),e.TgZ(11,"div",25),e._uU(12),e.qZA(),e.TgZ(13,"div",29),e.YNc(14,Li,1,2,"mat-slide-toggle",30)(15,Ji,1,2,"mat-spinner",31),e.qZA(),e.TgZ(16,"div",32)(17,"button",33),e._UZ(18,"mat-icon",34),e.qZA(),e.TgZ(19,"button",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteLocation(r))}),e._UZ(20,"mat-icon",34),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",i+1," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",null==t.manager?null:t.manager.fullname," "),e.xp6(2),e.hij(" ",t.address," "),e.xp6(2),e.hij(" ",t.state," "),e.xp6(2),e.hij(" ",t.city," "),e.xp6(2),e.um2(14,n.isLoading&&n.selectedSlide===i?-1:14),e.xp6(),e.um2(15,n.isLoading&&n.selectedSlide===i?15:-1),e.xp6(2),e.Q6J("routerLink",e.VKq(11,Ri,t.id)),e.xp6(),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function Mi(o,a){1&o&&e.SjG(0,Qi,21,13,"div",37,e.QCX().trackByFn),2&o&&e.wJu(a)}const Pi=o=>({"pointer-events-none":o}),$i=()=>[10,25,100];function zi(o,a){if(1&o&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"div",22),e.TgZ(3,"div",23),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",24),e._uU(6," Responsable "),e.qZA(),e.TgZ(7,"div",25),e._uU(8," Direcci\xf3n "),e.qZA(),e.TgZ(9,"div",25),e._uU(10," Provincia "),e.qZA(),e.TgZ(11,"div",25),e._uU(12," Municipio "),e.qZA(),e.TgZ(13,"div",25),e._uU(14," Acciones "),e.qZA(),e.TgZ(15,"div",25),e._uU(16," Estado "),e.qZA()(),e.YNc(17,Mi,2,0),e.ALo(18,"async"),e._UZ(19,"mat-paginator",26),e.qZA()),2&o){const t=e.oxw(2);let i;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(14),e.um2(17,(i=e.lcZ(18,8,t.locations$))?17:-1,i),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Pi,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,$i))("showFirstLastButtons",!0)}}function Yi(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1," \xa1No hay ubicaciones registradas!"),e.qZA())}function Bi(o,a){1&o&&e.YNc(0,zi,20,13,"div",19)(1,Yi,2,0),2&o&&e.um2(0,a.length>0?0:1)}const Hi=()=>["new"];let ji=(()=>{class o{constructor(){this.location=new ye,this.locations$=(0,M.of)([]),this.isLoading=!1,this.searchInputControl=new s.NI(null),this.selectedSlide=null,this._unsubscribeAll=new k.x,this._locationsService=(0,e.f3M)(be._),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._fuseConfirmationService=(0,e.f3M)(S.R),this._snackBar=(0,e.f3M)(J.ux),this.store=(0,e.f3M)(g.yh)}ngOnInit(){this.locations$=this.store.select(ae.Yu),this.store.select(G.B).pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,l.R)(this._unsubscribeAll),(0,E.b)(300),(0,N.O)(null),(0,I.w)(t=>null!==t?(this.isLoading=!0,this._locationsService.getLocations(0,10,"name","desc",t)):(0,M.of)()),(0,u.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"code",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,l.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,_.T)(this._sort.sortChange,this._paginator.page).pipe((0,I.w)(()=>(this.isLoading=!0,this._locationsService.getLocations(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,u.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteLocation(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la taller: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,l.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._locationsService.removeLocation(t.id).pipe((0,l.R)(this._unsubscribeAll)).subscribe(({data:r})=>{this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.removeLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateLocationStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._locationsService.updateLocationStatus({id:i.id,active:t.checked}).pipe((0,l.R)(this._unsubscribeAll),(0,Si.x)(()=>{this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})).subscribe(({data:r})=>{this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.updateLocationStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-locations"]],viewQuery:function(i,n){if(1&i&&(e.Gf(q.NW,5),e.Gf(C.YE,5)),2&i){let r;e.iGM(r=e.CRH())&&(n._paginator=r.first),e.iGM(r=e.CRH())&&(n._sort=r.first)}},standalone:!0,features:[e.jDz],decls:30,vars:13,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],["cdkScrollable","",1,"flex","flex-col","flex-auto","overflow-auto","sm:mb-18"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","locations-grid","md:px-8","text-md","text-primary-200","bg-gray-50","dark:bg-swamp-950"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,""],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","locations-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","items-center","justify-center","gap-1"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b locations-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Recursos Humanos"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Unidades Comerciales"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Unidades Comerciales "),e.qZA()()(),e.TgZ(18,"div",10)(19,"mat-form-field",11),e._UZ(20,"mat-icon",12)(21,"input",13),e.qZA(),e.TgZ(22,"button",14),e._UZ(23,"mat-icon",15),e.TgZ(24,"span",16),e._uU(25,"Agregar"),e.qZA()()()(),e.TgZ(26,"div",17)(27,"div",18),e.YNc(28,Bi,2,1),e.ALo(29,"async"),e.qZA()()()),2&i){let r;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para buscar..."),e.xp6(),e.Q6J("routerLink",e.DdM(12,Hi)),e.xp6(),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(28,(r=e.lcZ(29,10,n.locations$))?28:-1,r)}},dependencies:[b.Ps,b.Hw,s.UX,s.Fj,s.JJ,s.oH,f.ot,f.lW,q.TU,q.NW,C.JX,C.YE,C.nU,y.c,y.Nt,d.KE,d.qo,x.rH,d.lN,v.Ov,v.mk,A.rP,A.Rr,D.Cq,D.Ou],encapsulation:2,changeDetection:0})}return o})();var Gi=m(21631),le=m(24630);const Ze=o=>({"cursor-not-allowed":o});function Oi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createLocation())}),e._UZ(1,"mat-icon",34),e.TgZ(2,"span",35),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.locationForm.invalid)("ngClass",e.VKq(3,Ze,t.locationForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:save")}}function Ki(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateLocation())}),e._UZ(1,"mat-icon",34),e.TgZ(2,"span",35),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.locationForm.invalid)("ngClass",e.VKq(3,Ze,t.locationForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:refresh")}}function Vi(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre de la ubicaci\xf3n es obligatorio. "),e.qZA())}function Xi(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre de la ubicaci\xf3n debe tener 250 caracteres. "),e.qZA())}function Wi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.selectEmployee(r))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t.fullname," ")}}function en(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function tn(o,a){if(1&o&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t," ")}}function on(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function nn(o,a){if(1&o&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.city),e.xp6(),e.hij(" ",t.city," ")}}function an(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function rn(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n es obligatoria. "),e.qZA())}function sn(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.qZA())}let ln=(()=>{class o{constructor(){this.cities=[],this.editMode=!1,this.employees$=(0,M.of)([]),this.isLoading=!1,this.isLoadingData=!0,this.locations$=(0,M.of)([]),this.searchEmployeeControl=new s.NI(null),this.selectedLocation=new ye,this.states=[],this.employees=[],this.statesCodes=[],this.stateSelected="",this.selectedEmployeeName="",this._unsubscribeAll=new k.x,this._activatedRoute=(0,e.f3M)(x.gz),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._formBuilder=(0,e.f3M)(s.qu),this._fuseConfirmationService=(0,e.f3M)(S.R),this._locationsService=(0,e.f3M)(be._),this._locationService=(0,e.f3M)(W.a),this._snackBar=(0,e.f3M)(J.ux),this._router=(0,e.f3M)(x.F0),this.store=(0,e.f3M)(g.yh),this._employeesService=(0,e.f3M)(se.M)}ngOnInit(){this.employees$=this.store.select(ne.ri),this.employees$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.employees=t,this._changeDetectorRef.markForCheck()}),this.employeesFiltered$=this.searchEmployeeControl.valueChanges.pipe((0,E.b)(200),(0,N.O)(null),(0,Gi.z)(t=>null!==t&&"string"==typeof t&&t!==this.selectedEmployeeName?this._employeesService.findActiveEmployees(t.trim()):this.employees$)),this._locationService.states$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.states=t,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this.statesCodes=t,this._changeDetectorRef.markForCheck()}),this.locationForm=this._formBuilder.group({id:new s.NI(null),managerId:new s.NI(null,[s.kI.pattern(/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i),s.kI.maxLength(255)]),name:new s.NI(null,[s.kI.required,s.kI.maxLength(250)]),address:new s.NI(null,[s.kI.maxLength(250)]),city:new s.NI(null,[s.kI.maxLength(250)]),state:new s.NI(null,[s.kI.maxLength(250)]),country:new s.NI("Cuba",[s.kI.maxLength(50)])}),this._activatedRoute.params.pipe((0,l.R)(this._unsubscribeAll)).subscribe(({locationId:t})=>{"new"!==t&&(this.editMode=!0,this.store.select(ae.FD).pipe((0,l.R)(this._unsubscribeAll)).subscribe(i=>{this.selectedLocation=i,this.isLoadingData=!1,this.locationForm.patchValue(i);const n=this.employees.find(r=>r.id===i.managerId);n&&this.searchEmployeeControl.setValue(n),null!==i.state&&this._getCitiesByState(i.state),this.isLoadingData=!1,this._changeDetectorRef.markForCheck()}))}),this.locationForm.get("state")?.valueChanges.pipe((0,l.R)(this._unsubscribeAll)).subscribe(t=>{this._getCitiesByState(t),this.locationForm.get("city").enable(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createLocation(){const t=this.locationForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.createLocation(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(({data:r})=>{r&&(this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.createLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck(),this._router.navigateByUrl("/modules/hrm/locations"))}),this._changeDetectorRef.markForCheck()})}updateLocation(){let t=this.locationForm.getRawValue();t=(0,Y.omit)(t,["code"]),this._fuseConfirmationService.open({title:"Actualizar ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.updateLocation(t).pipe((0,l.R)(this._unsubscribeAll)).subscribe(({data:r})=>{this._snackBar.openFromComponent(Z.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.updateLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/modules/hrm/locations")}),this._changeDetectorRef.markForCheck()})}selectEmployee(t){this.locationForm.get("managerId").setValue(t.id),this.selectedEmployeeName=t.name}displayFn(t){return t&&t.fullname?t.fullname:""}trackByFn(t,i){return i.id||t}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-location-details"]],standalone:!0,features:[e.jDz],decls:83,vars:40,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto"],[1,"z-20","flex","flex-col","p-6","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],["routerLink","/modules/hmr/locations",1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","lg:mt-0","lg:ml-4"],["class","ml-4","mat-raised-button","","class","text-white bg-gradient-to-r from-primary-500 to-primary-700",3,"disabled","ngClass"],[1,"flex","flex-auto"],[1,"flex","flex-col","w-full","divide-y","divide-dashed",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","p-10"],[1,"flex","flex-col"],[1,"text-xl","font-semibold"],[1,"flex","flex-col","p-6","mt-5","border","shadow-md","sm:flex-row","bg-card","rounded-2xl"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-5","w-full"],[1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matInput","","type","text","maxlength","250","required","",3,"formControlName"],["appearance","fill",1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matPrefix","",3,"svgIcon"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder","required"],[3,"displayWith"],["employeeAutocomplete","matAutocomplete"],["required","",3,"formControlName"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-textarea","sm:col-span-3"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[3,"value","click"],[3,"value"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div")(6,"a",4),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",5),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",5),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Ubicaciones"),e.qZA()(),e.TgZ(16,"div",5),e._UZ(17,"mat-icon",6),e.TgZ(18,"a",7),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",9)(21,"h2",10),e._uU(22),e.qZA()()(),e.TgZ(23,"div",11),e.YNc(24,Oi,4,5,"button",12)(25,Ki,4,5,"button",12),e.qZA()(),e.TgZ(26,"div",13)(27,"form",14)(28,"div",15)(29,"div",16)(30,"span",17),e._uU(31,"Generales"),e.qZA(),e.TgZ(32,"span"),e._uU(33,"Ingrese la informaci\xf3n necesaria para identificar la ubicaci\xf3n"),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"mat-form-field",20)(37,"mat-label"),e._uU(38,"Nombre del establecimiento"),e.qZA(),e._UZ(39,"input",21),e.YNc(40,Vi,2,0,"mat-error")(41,Xi,2,0,"mat-error"),e.qZA(),e.TgZ(42,"mat-form-field",22)(43,"mat-label"),e._uU(44,"Responsable"),e.qZA(),e._UZ(45,"mat-icon",23)(46,"input",24),e.TgZ(47,"mat-autocomplete",25,26),e.SjG(49,Wi,2,2,"mat-option",37,e.x6l),e.ALo(51,"async"),e.qZA()(),e.TgZ(52,"mat-form-field",20)(53,"mat-label"),e._uU(54,"Pa\xeds"),e.qZA(),e.TgZ(55,"mat-select",27)(56,"mat-option",28),e._uU(57,"Cuba"),e.qZA()(),e._UZ(58,"mat-icon",29),e.YNc(59,en,2,0,"mat-error"),e.qZA(),e.TgZ(60,"mat-form-field",20)(61,"mat-label"),e._uU(62,"Provincia"),e.qZA(),e.TgZ(63,"mat-select",27),e.SjG(64,tn,2,2,"mat-option",37,n.trackByFn),e.qZA(),e._UZ(66,"mat-icon",29),e.YNc(67,on,2,0,"mat-error"),e.qZA(),e.TgZ(68,"mat-form-field",20)(69,"mat-label"),e._uU(70,"Municipio"),e.qZA(),e.TgZ(71,"mat-select",27),e.SjG(72,nn,2,2,"mat-option",37,n.trackByFn),e.qZA(),e._UZ(74,"mat-icon",29),e.YNc(75,an,2,0,"mat-error"),e.qZA(),e.TgZ(76,"mat-form-field",30)(77,"mat-label"),e._uU(78,"Direcci\xf3n"),e.qZA(),e._UZ(79,"mat-icon",31)(80,"textarea",32),e.YNc(81,rn,2,0,"mat-error")(82,sn,2,0,"mat-error"),e.qZA()()()()()()()),2&i){const r=e.MAs(48);e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(2),e.hij(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.xp6(3),e.hij(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.xp6(2),e.um2(24,n.editMode?-1:24),e.xp6(),e.um2(25,n.editMode?25:-1),e.xp6(2),e.Q6J("formGroup",n.locationForm)("autocomplete","off"),e.xp6(9),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","name"),e.xp6(),e.um2(40,n.locationForm.get("name").hasError("required")?40:-1),e.xp6(),e.um2(41,n.locationForm.get("name").hasError("minlength")?41:-1),e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchEmployeeControl)("matAutocomplete",r)("placeholder","Buscar empleado")("required",!1),e.xp6(),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.wJu(e.lcZ(51,38,n.employeesFiltered$)),e.xp6(3),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:globe"),e.xp6(),e.um2(59,n.locationForm.get("country").hasError("required")?59:-1),e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","state"),e.xp6(),e.wJu(n.states),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(),e.um2(67,n.locationForm.get("state").hasError("required")?67:-1),e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","city"),e.xp6(),e.wJu(n.cities),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(),e.um2(75,n.locationForm.get("city").hasError("required")?75:-1),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(),e.Q6J("formControlName","address")("minLength",3)("maxlength",255),e.xp6(),e.um2(81,n.locationForm.get("address").hasError("required")?81:-1),e.xp6(),e.um2(82,n.locationForm.get("address").hasError("maxlength")||n.locationForm.get("address").hasError("minlength")?82:-1)}},dependencies:[v.Ov,f.ot,f.lW,d.lN,d.KE,d.hX,d.TO,d.qo,b.Ps,b.Hw,y.c,y.Nt,P.LD,fe.PQ,P.gD,xe.ey,A.rP,v.mk,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.oH,s.sg,s.u,x.rH,le.Bb,le.XC,le.ZL],encapsulation:2,changeDetection:0})}return o})();var te=m(26306);let cn=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllCharges().pipe((0,te.K)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(K),e.LFG(x.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),mn=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllActiveCharges().pipe((0,te.K)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(K),e.LFG(x.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),pn=(()=>{class o{constructor(t,i){this._departmentsService=t,this._router=i}resolve(t,i){return this._departmentsService.findAllDepartments().pipe((0,te.K)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(X),e.LFG(x.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),dn=(()=>{class o{constructor(t,i,n){this._departmentsService=t,this._router=i,this.store=n,this.store.select($.Qs).subscribe(r=>{this.merchant=r})}resolve(t,i){return this.merchant?this._departmentsService.findAllActiveDepartments().pipe((0,te.K)(n=>this._router.navigateByUrl("/dashboard"))):null}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(X),e.LFG(x.F0),e.LFG(g.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ce=m(31451),un=m(9427),Ae=m(23605),gn=m(9315);const fn=[{path:"",component:oe},{path:"charges",component:st,resolve:{charges:cn}},{path:"departments",component:Mt,resolve:{departments:pn}},{path:"employees",component:Ni,resolve:{employees:ce.Q}},{path:"employees/:employeeId",component:Vo,resolve:{currencies:un.Y,hrm:(()=>{class o{constructor(t,i){this._hrmService=t,this._locationService=i}resolve(t,i){return(0,gn.D)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(_e),e.LFG(W.a))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),employee:ce.ci,charges:mn,departments:dn}},{path:"locations",component:ji,resolve:{locations:Ae.r7}},{path:"locations/:locationId",component:ln,resolve:{employees:ce.HB,locations:Ae.D1,states:(()=>{class o{constructor(t){this._locationService=t}resolve(t,i){return this._locationService.getStates()}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(W.a))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]},48851:(Te,j,m)=>{m.d(j,{N:()=>A});var k=m(19212),Q=m(37398),e=m(99397),g=m(50967),oe=m(84221),x=m(32193),v=m(97214);const s=g.Ps`
    query PaginatedRoles($page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedRoles(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

        ok,
        message,

        pagination {
            length
            size
            page
        },

        items {
            id,
            name,
            description,
            active,
            permissionsId
            isCoreRole
        }
        }
    }
`,f=g.Ps`
    query FindAllActiveRoles {
        findAllActiveRoles {
            id
            name
            description
            isCoreRole
        }
    }
`,d=g.Ps`
    query FindRoleById($roleId: String!) {
        findRoleById(id: $roleId ) {
            ok
            message

            role {
                id
                name
                description
                permissionsId
            }
        }
    }
`,b=g.Ps`
    mutation createRole($createRoleInput: CreateRoleInput!) {
        createRole(createRoleInput: $createRoleInput) {
            ok
            message

            role {
                id,
                name,
                description,
                active,
                permissionsId
            }
        }
    }
`,y=g.Ps`
    mutation UpdateRole($updateRoleInput: UpdateRoleInput!) {
        updateRole(updateRoleInput: $updateRoleInput) {
            ok
            message

            role {
                id,
                name,
                description,
                active,
                permissionsId
            }
        }
    }
`,q=g.Ps`
    mutation UpdateRoleStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateRoleStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,D=g.Ps`
    mutation paginatedRemoveRole($removeRoleById: String!,  $page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedRemoveRole(id: $removeRoleById, page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex,
            },

            items {
                id,
                name,

                description,
                active,
                permissionsId
            }
        }
    }
`;let A=(()=>{class C{constructor(){this.apolloProvider=(0,k.f3M)(g._M),this.store=(0,k.f3M)(oe.yh),this._apollo=this.apolloProvider.use("BALANC")}createRole(_){return this._apollo.mutate({mutation:b,variables:{createRoleInput:_},errorPolicy:"all"}).pipe((0,Q.U)(({data:l})=>l?l.createRole:null),(0,e.b)(l=>{l&&this.store.dispatch((0,x.fA)({role:l.role}))}))}findAllRoles(_=0,l=500,E="createdAt",N="asc",I=""){return this._apollo.query({query:s,errorPolicy:"all",variables:{page:_,size:l,sort:E,order:N,search:I}}).pipe((0,e.b)(({data:u})=>{u&&(this.store.dispatch((0,v.Jr)({pagination:u.paginatedRoles.pagination})),this.store.dispatch((0,x.Lk)({roles:u.paginatedRoles.items})))}))}findAllActiveRoles(){return this._apollo.query({query:f,errorPolicy:"all"}).pipe((0,Q.U)(({data:_})=>_?_.findAllActiveRoles:null),(0,e.b)(_=>{_&&this.store.dispatch((0,x.Lk)({roles:_}))}))}findRoleById(_){return this._apollo.query({query:d,variables:{roleId:_},errorPolicy:"all"}).pipe((0,Q.U)(({data:l})=>l?l.findRoleById:null),(0,e.b)(l=>{l&&this.store.dispatch((0,x.gD)({role:l.role}))}))}updateRole(_){return this._apollo.mutate({mutation:y,variables:{updateRoleInput:_},errorPolicy:"all"}).pipe((0,Q.U)(({data:l})=>l?l.updateRole:null),(0,e.b)(l=>{l&&this.store.dispatch((0,x.ul)({role:l.role}))}))}updateRoleStatus(_){return this._apollo.mutate({mutation:q,variables:{updateEntityStatusInput:_},errorPolicy:"all"}).pipe((0,Q.U)(({data:l})=>l?l.updateRoleStatus:null),(0,e.b)(l=>{l&&this.store.dispatch((0,x.cq)(_))}))}removeRole(_,l=0,E=500,N="name",I="desc",u=null){return this._apollo.mutate({mutation:D,variables:{removeRoleById:_,page:l,size:E,sort:N,order:I,search:u},errorPolicy:"all"}).pipe((0,e.b)(({data:z})=>{z&&(this.store.dispatch((0,v.Jr)({pagination:z.paginatedRemoveRole.pagination})),this.store.dispatch((0,x.Lk)({roles:z.paginatedRemoveRole.items})))}))}static#e=this.\u0275fac=function(l){return new(l||C)};static#t=this.\u0275prov=k.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()}}]);