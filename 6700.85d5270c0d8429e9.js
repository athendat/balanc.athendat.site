"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6700],{31451:(j,R,l)=>{l.d(R,{Q:()=>C,ci:()=>y,pO:()=>r});var x=l(19212),L=l(58504),e=l(26306),f=l(62637),U=l(64190);let C=(()=>{class u{constructor(p,g){this._employeesService=p,this._router=g}resolve(p,g){return this._employeesService.findAllEmployees().pipe((0,e.K)(v=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(g){return new(g||u)(x.LFG(f.M),x.LFG(U.F0))};static#t=this.\u0275prov=x.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),y=(()=>{class u{constructor(p,g){this._employeesService=p,this._router=g}resolve(p,g){const v=p.params.employeeId;return"new"===v?null:this._employeesService.findEmployeeById(v).pipe((0,e.K)(F=>{const k=g.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(k),(0,L._)(F)}))}static#e=this.\u0275fac=function(g){return new(g||u)(x.LFG(f.M),x.LFG(U.F0))};static#t=this.\u0275prov=x.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const r=(u,T)=>(0,x.f3M)(f.M).findActiveEmployees()},76700:(j,R,l)=>{l.r(R),l.d(R,{default:()=>_n});var x=l(78645),L=l(84154),e=l(19212),f=l(84221);let U=(()=>{class o{constructor(t,i){this._changeDetectorRef=t,this.store=i,this._unsubscribeAll=new x.x}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36(f.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ath-hrm"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(i,n){1&i&&e._UZ(0,"ath-content-menu")},dependencies:[L.p],encapsulation:2,changeDetection:0})}return o})();var C=l(64190),y=l(96814),r=l(56223),u=l(32296),T=l(17700),p=l(64170),g=l(30617),v=l(24516),F=l(21476),k=l(55940),b=l(82599),Q=l(22939),h=l(13566),d=l(22096),q=l(63019),m=l(59773),J=l(83620),w=l(27921),S=l(94664),Z=l(37398);const de=o=>o.charges,ue=((0,f.P1)(de,o=>o.charge),(0,f.P1)(de,o=>o.charges));var ne=l(94748),M=l(56278),I=l(42090),E=l(99397),P=l(9567),G=l(97214),D=l(50967);const Ie=D.Ps`
    mutation CreateCharge($createChargeInput: CreateChargeInput!) {
        createCharge(createChargeInput: $createChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active,
            }
        }
    }
`,Ue=D.Ps`
    query FindAllCharges($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllCharges(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,Ee=D.Ps`
    query FindAllActiveCharges {
        findAllActiveCharges {
            id,
            name
        }
    }
`,ke=D.Ps`
    query FindChargeById($chargeId: String!) {
        findChargeById(id: $chargeId ) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,qe=D.Ps`
    mutation UpdateCharge($updateChargeInput: UpdateChargeInput!) {
        updateCharge(updateChargeInput: $updateChargeInput) {
            ok,
            message,

            charge {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`,De=D.Ps`
    mutation UpdateChargeStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateChargeStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,we=D.Ps`
    mutation RemoveCharge($id: String!) {
        removeCharge(id: $id) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            charges {
                id,
                merchantId,
                name,
                description,
                salary,
                active
            }
        }
    }
`;let K=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createCharge(t){return this._apollo.mutate({mutation:Ie,variables:{createChargeInput:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.createCharge:null),(0,E.b)(i=>{i&&(this.store.dispatch((0,P.TI)({charge:i.charge})),this.store.dispatch((0,P.LF)({charge:i.charge})))}))}findAllCharges(t=0,i=10,n="name",s="desc",c=null){return this._apollo.query({query:Ue,variables:{page:t,size:i,sort:n,order:s,search:c},errorPolicy:"all"}).pipe((0,Z.U)(({data:_})=>_?_.findAllCharges:null),(0,E.b)(_=>{_&&(this.store.dispatch((0,P.dH)({charges:_.charges})),this.store.dispatch((0,G.Jr)({pagination:_.pagination})))}))}findAllActiveCharges(){return this._apollo.query({query:Ee,errorPolicy:"all"}).pipe((0,Z.U)(({data:t})=>t?t.findAllActiveCharges:null),(0,E.b)(t=>{t&&this.store.dispatch((0,P.dH)({charges:t}))}))}findChargeById(t){return this._apollo.query({query:ke,variables:{chargeId:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.findChargeById:null),(0,E.b)(i=>{i&&this.store.dispatch((0,P.LF)({charge:i.charge}))}))}updateCharge(t){return this._apollo.mutate({mutation:qe,variables:{updateChargeInput:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.updateCharge:null),(0,E.b)(i=>{i&&(this.store.dispatch((0,P.uE)({charge:i.charge})),this.store.dispatch((0,P.LF)({charge:i.charge})))}))}updateChargeStatus(t){return this._apollo.mutate({mutation:De,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.updateChargeStatus:null),(0,E.b)(i=>{i&&this.store.dispatch((0,P.Ut)(t))}))}removeCharge(t,i=0,n=10,s="name",c="desc",_=null){return this._apollo.mutate({mutation:we,variables:{id:t,page:i,size:n,sort:s,order:c,search:_},errorPolicy:"all"}).pipe((0,Z.U)(({data:A})=>A?A.removeCharge:null),(0,E.b)(A=>{A&&(this.store.dispatch((0,P.ek)({id:t})),this.store.dispatch((0,G.Jr)({pagination:A.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(D._M),e.LFG(f.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class Le{}var V=l(83604),z=l(98525),B=l(29643),N=l(88458);function Se(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar cargo"),e.qZA())}function Ne(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar cargo"),e.qZA())}function Je(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del cargo "),e.qZA())}function Re(o,a){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()(),e.TgZ(9,"div",15)(10,"h6",13),e._uU(11,"Descripci\xf3n"),e.qZA(),e.TgZ(12,"span",14),e._uU(13),e.qZA()()()()()()),2&o){const t=e.oxw();e.xp6(8),e.Oqu(t.data.charge.name||"Sin nombre"),e.xp6(5),e.Oqu(t.data.charge.description||"Sin descripci\xf3n")}}function Qe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo es obligatorio. "),e.qZA())}function Me(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.qZA())}function Pe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe ser mayor que 0. "),e.qZA())}function $e(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe contener solo n\xfameros. "),e.qZA())}function ze(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function Be(o,a){if(1&o&&(e.TgZ(0,"div",16)(1,"div",9)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e._UZ(6,"input",19),e.YNc(7,Qe,2,0,"mat-error")(8,Me,2,0,"mat-error"),e.qZA(),e.TgZ(9,"mat-form-field",20)(10,"mat-label"),e._uU(11,"Salario"),e.qZA(),e._UZ(12,"input",21),e.YNc(13,Pe,2,0,"mat-error")(14,$e,2,0,"mat-error"),e.qZA(),e.TgZ(15,"mat-form-field",22)(16,"mat-label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e._UZ(18,"mat-icon",23)(19,"textarea",24),e.YNc(20,ze,2,0,"mat-error"),e.TgZ(21,"mat-hint",25),e._uU(22),e.qZA()(),e.TgZ(23,"div",26)(24,"span",27),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-slide-toggle",28),e._uU(27),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.chargeForm)("autocomplete","off"),e.xp6(4),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.xp6(),e.um2(7,t.chargeForm.get("name").hasError("required")?7:-1),e.xp6(),e.um2(8,t.chargeForm.get("name").hasError("maxlength")||t.chargeForm.get("name").hasError("minlength")?8:-1),e.xp6(4),e.Q6J("formControlName","salary")("placeholder","Salario")("min",0)("max",99999),e.xp6(),e.um2(13,t.chargeForm.get("salary").hasError("min")?13:-1),e.xp6(),e.um2(14,t.chargeForm.get("salary").hasError("pattern")&&!t.chargeForm.get("salary").hasError("min")?14:-1),e.xp6(4),e.Q6J("svgIcon","mat_solid:subject"),e.xp6(),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.xp6(),e.um2(20,t.chargeForm.get("description").hasError("minlength")?20:-1),e.xp6(2),e.hij("",(null==t.chargeForm.get("description").value?null:t.chargeForm.get("description").value.length)||0,"/1000"),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(),e.hij(" ",!0===t.chargeForm.get("active").value?"Activo":"Inactivo"," ")}}const he=o=>({"cursor-not-allowed":o});function Ye(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateCharge())}),e._uU(1," Actualizar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(3,he,t.chargeForm.invalid))}}function He(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createCharge())}),e._uU(1," Agregar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(3,he,t.chargeForm.invalid))}}function Oe(o,a){if(1&o&&(e.TgZ(0,"div",29),e.ynx(1),e.TgZ(2,"button",30),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,Ye,2,5,"button",31)(5,He,2,5,"button",31),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.data.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.data.dialogMode?5:-1)}}let je=(()=>{class o{constructor(t,i,n,s,c,_,A){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=s,this._chargesService=c,this._snackBar=_,this.store=A,this.dialogMode="view",this._unsubscribeAll=new x.x}ngOnInit(){this.store.select(B.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.chargeForm=this._formBuilder.group({id:[""],active:[!0,[r.kI.required]],merchantId:[this.currentMerchant.id,[r.kI.required]],name:["",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(255)]],description:["",[r.kI.minLength(5),r.kI.maxLength(1e3)]],salary:[0,[r.kI.min(0),r.kI.max(99999),N.L.onlyNumbersPattern()]]}),"edit"===this.data.dialogMode&&this.chargeForm.patchValue(this.data.charge)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){const t=this.chargeForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.createCharge(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateCharge(){const t=this.chargeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._chargesService.updateCharge(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(T.WI),e.Y36(T.so),e.Y36(r.qu),e.Y36(M.R),e.Y36(K),e.Y36(Q.ux),e.Y36(f.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["charges-detail"]],standalone:!0,features:[e.jDz],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"grid","w-full","gap-4","pt-4","mt-4","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"col-span-1","mt-"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"w-full"],["matInput","","type","number",3,"formControlName","placeholder","min","max"],[1,"flex-auto","w-full","sm:col-span-2","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Se,2,0,"h2",2)(4,Ne,2,0,"h2",2)(5,Je,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,Re,14,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,Be,28,26,"div",5),e.BQk(),e.qZA(),e.YNc(11,Oe,6,3,"div",6),e.qZA()),2&i&&(e.xp6(3),e.um2(3,"add"===n.data.dialogMode?3:-1),e.xp6(),e.um2(4,n.data.charge.id&&"edit"===n.data.dialogMode?4:-1),e.xp6(),e.um2(5,n.data.charge.id&&"view"===n.data.dialogMode?5:-1),e.xp6(3),e.um2(8,"view"===n.data.dialogMode?8:-1),e.xp6(2),e.um2(10,10),e.xp6(),e.um2(11,"view"!==n.data.dialogMode?11:-1))},dependencies:[u.ot,u.lW,T.Is,T.ZT,p.lN,p.KE,p.hX,p.bx,p.TO,p.qo,g.Ps,g.Hw,v.c,v.Nt,z.LD,b.rP,b.Rr,y.mk,r.UX,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.qQ,r.Fd,r.sg,r.u],encapsulation:2,changeDetection:0})}return o})();function Ge(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",41),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw(),c=s.$implicit,_=s.$index,A=e.oxw(3);return e.KtG(A.updateChargeStatus(n,c,_))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Ke(o,a){1&o&&e._UZ(0,"mat-spinner",37),2&o&&e.Q6J("diameter",20)("color","primary")}const Ve=()=>[""];function We(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e._uU(2),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.qZA(),e.TgZ(5,"div",34),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"div",35),e.YNc(9,Ge,1,2,"mat-slide-toggle",36)(10,Ke,1,2,"mat-spinner",37),e.qZA(),e.TgZ(11,"div",38)(12,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.editCharge(s))}),e._UZ(13,"mat-icon",40),e.qZA(),e.TgZ(14,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.deleteCharge(s.id))}),e._UZ(15,"mat-icon",40),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(3);e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",e.xi3(7,7,t.salary,e.DdM(10,Ve))," "),e.xp6(3),e.um2(9,n.isLoading&&n.selectedSlide===i?-1:9),e.xp6(),e.um2(10,n.isLoading&&n.selectedSlide===i?10:-1),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Xe(o,a){if(1&o&&(e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e._uU(3," Nombre "),e.qZA(),e.TgZ(4,"div",28),e._uU(5," Descripci\xf3n "),e.qZA(),e.TgZ(6,"div",29)(7,"span"),e._uU(8,"Salario"),e.qZA()(),e.TgZ(9,"div",30)(10,"span"),e._uU(11,"Activo"),e.qZA()(),e.TgZ(12,"div",31),e._uU(13," Acciones "),e.qZA()(),e.SjG(14,We,16,11,"div",42,e.QCX().trackByFn),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","salary"),e.xp6(3),e.Q6J("mat-sort-header","active"),e.xp6(5),e.wJu(t)}}function et(o,a){if(1&o&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}function tt(o,a){1&o&&e.YNc(0,Xe,16,3,"div",24)(1,et,2,1),2&o&&e.um2(0,a.length>0?0:1)}function ot(o,a){if(1&o&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!"," ")}}const it=o=>({"pointer-events-none":o}),nt=()=>[10,25,50,100];function at(o,a){if(1&o&&e._UZ(0,"mat-paginator",44),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,it,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,nt))("showFirstLastButtons",!0)}}let rt=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.NI(null),this._unsubscribeAll=new x.x,this._changeDetectorRef=(0,e.f3M)(e.sBO),this._chargeService=(0,e.f3M)(K),this._dialog=(0,e.f3M)(T.uw),this._fuseConfirmationService=(0,e.f3M)(M.R),this._snackBar=(0,e.f3M)(Q.ux),this.store=(0,e.f3M)(f.yh)}ngOnInit(){this.charges$=this.store.select(ue),this.store.select(B.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(V.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,J.b)(300),(0,w.O)(null),(0,S.w)(t=>null!==t?(this.isLoading=!0,this._chargeService.findAllCharges(0,10,"name","desc",t)):(0,d.of)()),(0,Z.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,q.T)(this._sort.sortChange,this._paginator.page).pipe((0,S.w)(()=>(this.isLoading=!0,this._chargeService.findAllCharges(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,Z.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateChargeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._chargeService.updateChargeStatus({id:i.id,active:t.checked}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createCharge(){this._openDialog(new Le,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._chargeService.removeCharge(t,this.pagination.page,this.pagination.size,"active","desc").pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})}trackByFn(t,i){return i.id||t}_openDialog(t,i){this._dialog.open(je,{data:{charge:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["charges"]],viewQuery:function(i,n){if(1&i&&(e.Gf(F.NW,5),e.Gf(h.YE,5)),2&i){let s;e.iGM(s=e.CRH())&&(n._paginator=s.first),e.iGM(s=e.CRH())&&(n._sort=s.first)}},standalone:!0,features:[e.jDz],decls:38,vars:14,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,""],[1,"flex","justify-end",3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"mr-4","text-right"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b md:px-8 charges-table"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Cargos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Listado de Cargos "),e.qZA()()(),e.TgZ(24,"div",14)(25,"mat-form-field",15),e._UZ(26,"mat-icon",16)(27,"input",17),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){return n.createCharge()}),e._UZ(29,"mat-icon",19),e.TgZ(30,"span",20),e._uU(31,"Nuevo"),e.qZA()()()(),e.TgZ(32,"div",21)(33,"div",22),e.YNc(34,tt,2,1),e.ALo(35,"async"),e.YNc(36,ot,2,1)(37,at,1,9,"mat-paginator",23),e.qZA()()()),2&i){let s;e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Buscar cargos"),e.xp6(2),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(34,(s=e.lcZ(35,12,n.charges$))?34:36,s),e.xp6(3),e.um2(37,n.pagination.length>0?37:-1)}},dependencies:[y.Ov,y.H9,u.ot,u.lW,p.lN,p.KE,p.qo,g.Ps,g.Hw,v.c,v.Nt,F.TU,F.NW,k.Cq,k.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,y.mk,r.UX,r.Fj,r.JJ,r.oH,C.rH],encapsulation:2,data:{animation:ne.L},changeDetection:0})}return o})();const ge=o=>o.departments,_e=((0,f.P1)(ge,o=>o.department),(0,f.P1)(ge,o=>o.departments));var W=l(75986),H=l(38034),$=l(61537);const st=D.Ps`
    mutation CreateDepartment($createDepartmentInput: CreateDepartmentInput!) {
        createDepartment(createDepartmentInput: $createDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId
                name,
                description,
                active
            }
        }
    }
`,lt=D.Ps`
    query FindAllDepartments($page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllDepartments(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,ct=D.Ps`
    query FindAllActiveDepartments {
        findAllActiveDepartments {
            id,
            name
        }
    }
`,mt=D.Ps`
    query FindDepartmentById($departmentId: String!) {
        findDepartmentById(id: $departmentId ) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,pt=D.Ps`
    mutation UpdateDepartment($updateDepartmentInput: UpdateDepartmentInput!) {
        updateDepartment(updateDepartmentInput: $updateDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,dt=D.Ps`
    mutation UpdateDepartmentStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateDepartmentStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,ut=D.Ps`
    mutation RemoveDepartment($departmentId: String!) {
        removeDepartment(id: $departmentId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`;let X=(()=>{class o{constructor(t,i){this.apolloProvider=t,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createDepartment(t){return this._apollo.mutate({mutation:st,variables:{createDepartmentInput:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.createDepartment:null),(0,E.b)(i=>{i&&(this.store.dispatch((0,$.v$)({department:i.department})),this.store.dispatch((0,$.fH)({department:i.department})))}))}findAllDepartments(t=0,i=10,n="name",s="desc",c=null){return this._apollo.query({query:lt,variables:{page:t,size:i,sort:n,order:s,search:c},errorPolicy:"all"}).pipe((0,Z.U)(({data:_})=>_?_.findAllDepartments:null),(0,E.b)(_=>{_&&(this.store.dispatch((0,$.xt)({departments:_.departments})),this.store.dispatch((0,G.Jr)({pagination:_.pagination})))}))}findAllActiveDepartments(){return this._apollo.query({query:ct,errorPolicy:"all"}).pipe((0,Z.U)(({data:t})=>t?t.findAllActiveDepartments:null),(0,E.b)(t=>{t&&this.store.dispatch((0,$.xt)({departments:t}))}))}findDepartmentById(t){return this._apollo.query({query:mt,variables:{departmentId:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.findDepartmentById:null),(0,E.b)(i=>{i&&this.store.dispatch((0,$.fH)({department:i.department}))}))}updateDepartment(t){return this._apollo.mutate({mutation:pt,variables:{updateDepartmentInput:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.updateDepartment:null),(0,E.b)(i=>{i&&(this.store.dispatch((0,$.j4)({department:i.department})),this.store.dispatch((0,$.fH)({department:i.department})))}))}updateDepartmentStatus(t){return this._apollo.mutate({mutation:dt,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,Z.U)(({data:i})=>i?i.updateDepartmentStatus:null),(0,E.b)(i=>{i&&this.store.dispatch((0,$.nt)(t))}))}removeDepartment(t,i=0,n=10,s="name",c="desc",_=null){return this._apollo.mutate({mutation:ut,variables:{departmentId:t,page:i,size:n,sort:s,order:c,search:_},errorPolicy:"all"}).pipe((0,Z.U)(({data:A})=>A?A.removeDepartment:null),(0,E.b)(A=>{A&&(this.store.dispatch((0,$.$m)({id:t})),this.store.dispatch((0,G.Jr)({pagination:A.pagination})))}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(D._M),e.LFG(f.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ht(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar departamento"),e.qZA())}function gt(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar departamento "),e.qZA())}function _t(o,a){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del departamento"),e.qZA())}function ft(o,a){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),e.ynx(4),e.TgZ(5,"div",12)(6,"mat-label",13),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",14),e._uU(9),e.qZA()(),e.BQk(),e.ynx(10),e.TgZ(11,"div",12)(12,"mat-label",13),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"div",14),e._uU(15),e.qZA()(),e.BQk(),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(t.data.department.name),e.xp6(6),e.Oqu(t.data.department.description)}}function xt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento es obligatorio. "),e.qZA())}function vt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.qZA())}function Ct(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function bt(o,a){if(1&o&&(e.TgZ(0,"div",15)(1,"div",9)(2,"form",16)(3,"div",17)(4,"mat-form-field",18)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",19),e.YNc(8,xt,2,0,"mat-error")(9,vt,2,0,"mat-error"),e.qZA()(),e.TgZ(10,"div",20)(11,"mat-form-field",21)(12,"mat-label"),e._uU(13,"Descripci\xf3n del Departamento"),e.qZA(),e._UZ(14,"mat-icon",22)(15,"textarea",23),e.YNc(16,Ct,2,0,"mat-error"),e.TgZ(17,"mat-hint",24),e._uU(18),e.qZA()()(),e.TgZ(19,"div",25)(20,"span",26),e._uU(21,"Estado"),e.qZA(),e.TgZ(22,"mat-slide-toggle",27),e._uU(23),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.departmentForm)("autocomplete","off"),e.xp6(5),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.xp6(),e.um2(8,t.departmentForm.get("name").hasError("required")?8:-1),e.xp6(),e.um2(9,t.departmentForm.get("name").hasError("maxlength")||t.departmentForm.get("name").hasError("minlength")?9:-1),e.xp6(5),e.Q6J("svgIcon","mat_solid:subject"),e.xp6(),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.xp6(),e.um2(16,t.departmentForm.get("description").hasError("minlength")?16:-1),e.xp6(2),e.hij("",(null==t.departmentForm.get("description").value?null:t.departmentForm.get("description").value.length)||0,"/1000"),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(),e.hij(" ",!0===t.departmentForm.get("active").value?"Activo":"Inactivo"," ")}}const fe=o=>({"cursor-not-allowed":o});function yt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateDepartment())}),e._uU(1," Actualizar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(3,fe,t.departmentForm.invalid))}}function Zt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.createDepartment())}),e._uU(1," Agregar "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(3,fe,t.departmentForm.invalid))}}function At(o,a){if(1&o&&(e.TgZ(0,"div",28),e.ynx(1),e.TgZ(2,"button",29),e._uU(3," Cancelar "),e.qZA(),e.BQk(),e.YNc(4,yt,2,5,"button",30)(5,Zt,2,5,"button",30),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.um2(4,"edit"===t.dialogMode?4:-1),e.xp6(),e.um2(5,"add"===t.dialogMode?5:-1)}}let Tt=(()=>{class o{constructor(t,i,n,s,c,_,A){this.data=t,this._dialogRef=i,this._formBuilder=n,this._fuseConfirmationService=s,this._departmentsService=c,this._snackBar=_,this.store=A,this.dialogMode="view",this._unsubscribeAll=new x.x,this.dialogMode=t.dialogMode}ngOnInit(){this.store.select(B.Qs).pipe((0,m.R)(this._unsubscribeAll)).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.departmentForm=this._formBuilder.group({id:[""],active:[!0],merchantId:[this.currentMerchant.id,[r.kI.required]],name:["",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(255)]],description:["",[r.kI.minLength(5),r.kI.maxLength(1e3)]]}),"edit"===this.dialogMode&&this.departmentForm.patchValue(this.data.department)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){const t=this.departmentForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.createDepartment(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateDepartment(){const t=this.departmentForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._departmentsService.updateDepartment(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,i){return i.id||t}closeDialog(){this._dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(T.WI),e.Y36(T.so),e.Y36(r.qu),e.Y36(M.R),e.Y36(X),e.Y36(Q.ux),e.Y36(f.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["department-detail"]],standalone:!0,features:[e.jDz],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"font-semibold","min-w-56"],[1,"leading-6"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","pt-1","mt-4","border-t",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,ht,2,0,"h2",2)(4,gt,2,0,"h2",2)(5,_t,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,ft,16,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,bt,24,20,"div",5),e.BQk(),e.qZA(),e.YNc(11,At,6,3,"div",6),e.qZA()),2&i&&(e.xp6(3),e.um2(3,"add"===n.dialogMode?3:-1),e.xp6(),e.um2(4,n.data.department.id&&"edit"===n.dialogMode?4:-1),e.xp6(),e.um2(5,n.data.department.id&&"view"===n.dialogMode?5:-1),e.xp6(3),e.um2(8,"view"===n.dialogMode?8:-1),e.xp6(2),e.um2(10,10),e.xp6(),e.um2(11,"view"!==n.dialogMode?11:-1))},dependencies:[u.ot,u.lW,W.p9,H.FA,T.Is,T.ZT,p.lN,p.KE,p.hX,p.bx,p.TO,p.qo,g.Ps,g.Hw,v.c,v.Nt,z.LD,b.rP,b.Rr,y.mk,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.sg,r.u],encapsulation:2,changeDetection:0})}return o})();class Ft{}var ee=l(90621);function It(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-form-field",19),e._UZ(2,"mat-icon",20)(3,"input",21),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createDepartment())}),e._UZ(5,"mat-icon",23),e.TgZ(6,"span",24),e._uU(7,"Nuevo"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar departamentos"),e.xp6(2),e.Q6J("svgIcon","mat_solid:add")}}function Ut(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",40),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw(),c=s.$implicit,_=s.$index,A=e.oxw(4);return e.KtG(A.updateDepartmentStatus(n,c,_))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Et(o,a){1&o&&e._UZ(0,"mat-spinner",36),2&o&&e.Q6J("diameter",20)("color","primary")}function kt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e._uU(2),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.qZA(),e.TgZ(5,"div",34),e.YNc(6,Ut,1,2,"mat-slide-toggle",35)(7,Et,1,2,"mat-spinner",36),e.qZA(),e.TgZ(8,"div",37)(9,"button",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.editDepartment(s))}),e._UZ(10,"mat-icon",39),e.qZA(),e.TgZ(11,"button",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteDepartment(s))}),e._UZ(12,"mat-icon",39),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.um2(6,n.isLoading&&n.selectedSlide===i?-1:6),e.xp6(),e.um2(7,n.isLoading&&n.selectedSlide===i?7:-1),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function qt(o,a){1&o&&e.SjG(0,kt,13,6,"div",41,e.QCX().trackByFn),2&o&&e.wJu(a)}function Dt(o,a){if(1&o&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._uU(3," Nombre "),e.qZA(),e.TgZ(4,"div",29),e._uU(5," Descripci\xf3n "),e.qZA(),e.TgZ(6,"div",30)(7,"span"),e._uU(8,"Activo"),e.qZA()(),e.TgZ(9,"div",31),e._uU(10," Acciones "),e.qZA()(),e.YNc(11,qt,2,0),e.ALo(12,"async"),e.qZA()),2&o){const t=e.oxw(2);let i;e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","active"),e.xp6(5),e.um2(11,(i=e.lcZ(12,3,t.departments$))?11:-1,i)}}function wt(o,a){if(1&o&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado departamentos!":"\xa1No se ha creado ning\xfan departamento a\xfan!","")}}const xe=()=>["Super Administrador"];function Lt(o,a){1&o&&e.YNc(0,wt,2,1,"div",42),2&o&&e.Q6J("ngxPermissionsExcept",e.DdM(1,xe))}function St(o,a){1&o&&e.YNc(0,Dt,13,5,"div",25)(1,Lt,1,2),2&o&&e.um2(0,a.length>0?0:1)}const Nt=o=>({"pointer-events-none":o}),Jt=()=>[10,25,50,100];function Rt(o,a){if(1&o&&e._UZ(0,"mat-paginator",44),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,Nt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,Jt))("showFirstLastButtons",!0)}}let Qt=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.NI(null),this._unsubscribeAll=new x.x,this._changeDetectorRef=(0,e.f3M)(e.sBO),this._fuseConfirmationService=(0,e.f3M)(M.R),this._departmentService=(0,e.f3M)(X),this._snackBar=(0,e.f3M)(Q.ux),this._dialog=(0,e.f3M)(T.uw),this.store=(0,e.f3M)(f.yh)}ngOnInit(){this.departments$=this.store.select(_e),this.store.select(B.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(V.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,J.b)(300),(0,w.O)(null),(0,S.w)(t=>null!==t?(this.isLoading=!0,this._departmentService.findAllDepartments(0,10,"name","desc",t)):(0,d.of)()),(0,Z.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,q.T)(this._sort.sortChange,this._paginator.page).pipe((0,S.w)(()=>(this.isLoading=!0,this._departmentService.findAllDepartments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,Z.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateDepartmentStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._departmentService.updateDepartmentStatus({id:i.id,active:t.checked}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createDepartment(){this._openDialog(new Ft,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._departmentService.removeDepartment(t.id,this.pagination.page,this.pagination.size,"active","desc").subscribe(s=>{this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}trackByFn(t,i){return i.id||t}_openDialog(t,i){this._dialog.open(Tt,{data:{department:t,dialogMode:i},disableClose:!0,panelClass:"ath-dialog-panel"})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["departments"]],viewQuery:function(i,n){if(1&i&&(e.Gf(F.NW,5),e.Gf(h.YE,5)),2&i){let s;e.iGM(s=e.CRH())&&(n._paginator=s.first),e.iGM(s=e.CRH())&&(n._sort=s.first)}},standalone:!0,features:[e.jDz],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b departments-table md:px-8"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16 ",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Departamentos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Departamentos "),e.qZA()()(),e.YNc(24,It,8,6,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,St,2,1),e.ALo(28,"async"),e.YNc(29,Rt,1,9,"mat-paginator",17),e.qZA()()()),2&i){let s;e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(9,xe)),e.xp6(3),e.um2(27,(s=e.lcZ(28,7,n.departments$))?27:-1,s),e.xp6(2),e.um2(29,n.pagination.length>0?29:-1)}},dependencies:[y.Ov,u.ot,u.lW,p.lN,p.KE,p.qo,g.Ps,g.Hw,v.c,v.Nt,F.TU,F.NW,k.Cq,k.Ou,b.rP,b.Rr,h.JX,h.YE,h.nU,y.mk,C.rH,r.UX,r.Fj,r.JJ,r.oH,ee.VI,ee.gE],encapsulation:2,data:{animation:ne.L},changeDetection:0})}return o})();var Y=l(6990),ae=l(57482),Mt=l(21510),O=l(3305),Pt=l(83788),re=l(84384),se=l(65619),zt=(l(20553),l(69862));let ve=(()=>{class o{constructor(t){this._httpClient=t,this._scholarship=new se.X(null),this._salaryFreqs=new se.X(null),this._salaryMethods=new se.X(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,Z.U)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,E.b)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,Z.U)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,E.b)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,Z.U)(t=>t.sort((i,n)=>i.toLowerCase()<n.toLowerCase()?-1:i.toLowerCase()>n.toLowerCase()?1:void 0)),(0,E.b)(t=>{this._salaryMethods.next(t)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(zt.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var le=l(62637),te=l(93217),Bt=l(59298),Ce=l(95407),be=l(23680);function Yt(o,a){1&o&&(e.TgZ(0,"a",80),e._uU(1,"Nuevo"),e.qZA())}function Ht(o,a){if(1&o&&(e.TgZ(0,"a",80),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.Oqu(t.selectedEmployee.name)}}function Ot(o,a){1&o&&e._uU(0," Nuevo ")}function jt(o,a){if(1&o&&e._uU(0),2&o){const t=e.oxw();e.hij(" ",t.selectedEmployee.name," ")}}const oe=o=>({"cursor-not-allowed":o});function Gt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,oe,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:save")}}function Kt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,oe,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:refresh")}}function Vt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado es obligatorio. "),e.qZA())}function Wt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function Xt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado no debe contener n\xfameros. "),e.qZA())}function eo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado es obligatorio. "),e.qZA())}function to(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function oo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado no debe contener n\xfameros. "),e.qZA())}function io(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function no(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.qZA())}function ao(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe escoger el g\xe9nero "),e.qZA())}function ro(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.qZA())}function so(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.qZA())}function lo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.qZA())}function co(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"bank-account",84),e.NdJ("remove",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.removeBankAccount(n))}),e.qZA()}if(2&o){const t=a.$implicit,i=a.$index,n=a.$count,s=e.oxw();e.Q6J("bankAccountForm",t)("first",0===i)("last",i===n-1)("index",i)("currencies",s.currencies)}}function mo(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Tel\xe9fonos"),e.qZA())}function po(o,a){if(1&o&&(e.TgZ(0,"mat-option",35)(1,"span",24),e._UZ(2,"span",90),e.TgZ(3,"span",91),e._uU(4),e.qZA(),e.TgZ(5,"span",92),e._uU(6),e.qZA()()()),2&o){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.code)}}function uo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),e.qZA())}function ho(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.qZA())}function go(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo sebe ser obligatorio. "),e.qZA())}function _o(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function fo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}const ye=o=>({"mt-6":o});function xo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",85)(1,"mat-form-field",86),e.YNc(2,mo,2,0,"mat-label"),e._UZ(3,"input",87),e.TgZ(4,"mat-select",88)(5,"mat-select-trigger")(6,"span",24)(7,"span",89),e._uU(8),e.qZA()()(),e.TgZ(9,"mat-option",35)(10,"span",24),e._UZ(11,"span",90),e.TgZ(12,"span",91),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"span",92),e._uU(16),e.qZA()()(),e.SjG(17,po,7,3,"mat-option",35,e.QCX().trackByFn),e.qZA(),e.YNc(19,uo,2,0,"mat-error")(20,ho,2,0,"mat-error")(21,go,2,0,"mat-error"),e.qZA(),e.TgZ(22,"mat-form-field",93),e.YNc(23,_o,2,0,"mat-label"),e._UZ(24,"mat-icon",36)(25,"input",94),e.YNc(26,fo,2,0,"mat-error"),e.qZA(),e.ynx(27),e.TgZ(28,"div",95)(29,"button",96),e.NdJ("click",function(){const s=e.CHM(t).$index,c=e.oxw();return e.KtG(c.removePhoneNumberField(s))}),e._UZ(30,"mat-icon",44),e.qZA()(),e.BQk(),e.qZA()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw();e.xp6(2),e.um2(2,0===i?2:-1),e.xp6(),e.Q6J("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),e.xp6(),e.Q6J("formControl",t.get("stateCode")),e.xp6(4),e.Oqu(n.employeeForm.get("phoneNumbers").value[i].stateCode),e.xp6(),e.Q6J("value","+535"),e.xp6(4),e.Oqu(e.lcZ(14,23,"celular")),e.xp6(3),e.Oqu("+535"),e.xp6(),e.wJu(n.statesCodes),e.xp6(2),e.um2(19,t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")?19:-1),e.xp6(),e.um2(20,t.get("phoneNumber").hasError("pattern")?20:-1),e.xp6(),e.um2(21,t.get("stateCode").hasError("required")?21:-1),e.xp6(2),e.um2(23,0===i?23:-1),e.xp6(),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(),e.um2(26,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?26:-1),e.xp6(2),e.Q6J("ngClass",e.VKq(25,ye,0===i)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function vo(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Correos Electr\xf3nicos"),e.qZA())}function Co(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.qZA())}function bo(o,a){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function yo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}function Zo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",97)(1,"mat-form-field",86),e.YNc(2,vo,2,0,"mat-label"),e._UZ(3,"mat-icon",36)(4,"input",98),e.YNc(5,Co,2,0,"mat-error"),e.qZA(),e.TgZ(6,"mat-form-field",93),e.YNc(7,bo,2,0,"mat-label"),e._UZ(8,"mat-icon",36)(9,"input",94),e.YNc(10,yo,2,0,"mat-error"),e.qZA(),e.ynx(11),e.TgZ(12,"div",95)(13,"button",99),e.NdJ("click",function(){const s=e.CHM(t).$index,c=e.oxw();return e.KtG(c.removeEmailField(s))}),e._UZ(14,"mat-icon",44),e.qZA()(),e.BQk(),e.qZA()}if(2&o){const t=a.$implicit,i=a.$index;e.xp6(2),e.um2(2,0===i?2:-1),e.xp6(),e.Q6J("svgIcon","mat_solid:email"),e.xp6(),e.Q6J("formControl",t.get("email"))("spellcheck",!1),e.xp6(),e.um2(5,t.get("email").hasError("email")?5:-1),e.xp6(2),e.um2(7,0===i?7:-1),e.xp6(),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(),e.um2(10,t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")?10:-1),e.xp6(2),e.Q6J("ngClass",e.VKq(14,ye,0===i)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Ao(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function To(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t," ")}}function Fo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function Io(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.city),e.xp6(),e.hij(" ",t.city," ")}}function Uo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function Eo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo postal no presenta un formato v\xe1lido. "),e.qZA())}function ko(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n es obligatoria. "),e.qZA())}function qo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.qZA())}function Do(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La fecha de contrataci\xf3n es obligatoria. "),e.qZA())}function wo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un tipo de contrato. "),e.qZA())}function Lo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.qZA())}function So(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij("",t.name," ")}}function No(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij("",t.name," ")}}function Jo(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij(" ",t.name,"")}}function Ro(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el cargo "),e.qZA())}function Qo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el nivel de escolaridad. "),e.qZA())}function Mo(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij("",t," ")}}function Po(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.qZA())}function $o(o,a){if(1&o&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij("",t," ")}}function zo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un modo pago "),e.qZA())}function Bo(o,a){if(1&o&&e._UZ(0,"img",75),2&o){const t=e.oxw();e.Q6J("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.LSH)}}function Yo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",100),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.removeImage())}),e._UZ(1,"mat-icon",101),e.qZA()}}function Ho(o,a){1&o&&(e.TgZ(0,"div",102),e._uU(1," SIN IMAGEN "),e.qZA())}function Oo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"input",103,104),e.NdJ("change",function(){e.CHM(t);const n=e.MAs(2),s=e.oxw();return e.KtG(s.uploadImage(n.files))}),e.qZA(),e.TgZ(3,"label",105)(4,"div",106),e._UZ(5,"mat-icon",44),e.TgZ(6,"span",45),e._uU(7," Agregar imagen "),e.qZA()()()()}2&o&&(e.xp6(),e.Q6J("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus-circle"))}function jo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,oe,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:save")}}function Go(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateEmployee())}),e._UZ(1,"mat-icon",82),e.TgZ(2,"span",83),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,oe,t.employeeForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:refresh")}}let Ko=(()=>{class o{constructor(t,i,n,s,c,_,A,fn,xn,vn,Cn){this._activatedRoute=t,this._changeDetectorRef=i,this._formBuilder=n,this._fuseConfirmationService=s,this._hrmService=c,this._employeesService=_,this._locationService=A,this._router=fn,this._imagesService=xn,this._snackBar=vn,this.store=Cn,this.cities=[],this.currencies=[],this.states=[],this.statesCodes=[],this.stateSelected="",this.windowsMode="new",this._unsubscribeAll=new x.x}ngOnInit(){this.store.select(B.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.currentMerchant=i}),this.store.select(ae.hf).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.selectedEmployee=i}),this.store.select(Mt.zd).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.currencies=i}),this.locations$=this.store.select(re.Yu),this.charges$=this.store.select(ue),this.departments$=this.store.select(_e),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this._locationService.states$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.states=i,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.statesCodes=i,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({id:[null],merchantId:[this.currentMerchant.id,[r.kI.required]],active:[!0],name:[null,[r.kI.required,r.kI.minLength(3),r.kI.maxLength(255),N.L.onlyAlphabetsWithAccentPattern()]],lastname1:[null,[r.kI.required,r.kI.minLength(3),r.kI.maxLength(255),N.L.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[r.kI.minLength(3),r.kI.maxLength(255),N.L.onlyAlphabetsWithAccentPattern()]],gender:[null,[r.kI.required]],idNumber:[null,[r.kI.maxLength(11),r.kI.minLength(11),N.L.onlyNumbersPattern()]],bankAccounts:this._formBuilder.array([]),emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:[null,[r.kI.required,r.kI.minLength(3),r.kI.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[r.kI.required]],state:[null,[r.kI.required]],city:[null,[r.kI.required]],zip:[null,[r.kI.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],dateOfJoining:[null],typeOfContract:[null],contractEndDate:[null],contractTime:[0,[N.L.onlyNumbersPattern()]],departmentId:[null],chargeId:[null],scholarship:[null],locationId:[null],salaryFreq:[null],salaryMethod:[null],salaryLevel:[null],imageUrl:[null]}),this.employeeForm.get("state")?.valueChanges.pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this._getCitiesByState(i),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({employeeId:i})=>{"new"!==i&&(this.windowsMode="edit"),this._fillEmployeeData()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addBankAccount(){const t=this._formBuilder.group({bank:[null,[r.kI.maxLength(255)]],beneficiary:[null,[r.kI.maxLength(255),N.L.onlyAlphabetsWithAccentPattern()]],no:[null,[r.kI.required,r.kI.minLength(16),r.kI.maxLength(24)]],currency:[null],cardType:[""]});this.employeeForm.get("bankAccounts").push(t),this._changeDetectorRef.markForCheck()}removeBankAccount(t){this.employeeForm.get("bankAccounts").removeAt(t),this._changeDetectorRef.markForCheck()}addEmailField(){const t=this._formBuilder.group({email:["",[r.kI.email,r.kI.maxLength(255)]],label:["",[r.kI.minLength(3),r.kI.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["+535",[r.kI.required]],phoneNumber:["",[r.kI.minLength(7),r.kI.maxLength(7),N.L.onlyNumbersPattern()]],label:["",[r.kI.minLength(3),r.kI.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){let t=this.employeeForm.getRawValue();delete t.id,t=Y(t).omitBy(Y.isNull).omitBy(Y.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.createEmployee(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}updateEmployee(){let t=this.employeeForm.getRawValue();t=Y(t).omitBy(Y.isNull).value(),this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._employeesService.updateEmployee(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}trackByFn(t,i){return i.id||t}uploadImage(t){if(!t.length)return;const n=t[0];n.size/1024/1024>1?this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"mat_solid:done"}}):["image/jpeg","image/jpg","image/webp","image/png"].includes(n.type)&&this._imagesService.uploadImage("HRM",n).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(s.imageUrl),"edit"===this.windowsMode?this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:s.imageUrl}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(c=>{c&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:c.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck())}):this._changeDetectorRef.markForCheck()},s=>{console.warn(s)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen de este empleado?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._imagesService.removeImage(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(null),"edit"===this.windowsMode&&this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:null}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(c=>{c&&this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})})}_fillEmployeeData(){"new"!==this.windowsMode&&(this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this.employeeForm.get("bankAccounts").clear(),this._setEmployeeDataOnForm(this.selectedEmployee),this._changeDetectorRef.markForCheck())}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this._getCitiesByState(t.state);const i=[];t.emails.length>0&&t.emails.forEach(c=>{i.push(this._formBuilder.group({email:[c.email,[r.kI.email,r.kI.maxLength(255)]],label:[c.label,[r.kI.minLength(3),r.kI.maxLength(255)]]}))}),i.forEach(c=>{this.employeeForm.get("emails").push(c)});const n=[];t.phoneNumbers.length>0&&t.phoneNumbers.forEach(c=>{n.push(this._formBuilder.group({stateCode:[c.stateCode,[r.kI.required]],phoneNumber:[c.phoneNumber,[r.kI.minLength(7),r.kI.maxLength(7),N.L.onlyNumbersPattern()]],label:[c.label,[r.kI.minLength(3),r.kI.maxLength(255)]]}))}),n.forEach(c=>{this.employeeForm.get("phoneNumbers").push(c)});const s=[];t.bankAccounts.length>0&&(t.bankAccounts.forEach(c=>{s.push(this._formBuilder.group({bank:[c.bank,[r.kI.maxLength(255)]],beneficiary:[c.beneficiary,[N.L.onlyAlphabetsWithAccentPattern()]],no:[c.no,[r.kI.required,r.kI.minLength(16),r.kI.maxLength(24)]],currency:[c.currency],cardType:[c.cardType]}))}),s.forEach(c=>{this.employeeForm.get("bankAccounts").push(c)}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(C.gz),e.Y36(e.sBO),e.Y36(r.qu),e.Y36(M.R),e.Y36(ve),e.Y36(le.M),e.Y36(te.a),e.Y36(C.F0),e.Y36(Bt.C),e.Y36(Q.ux),e.Y36(f.yh))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["employee-detail"]],standalone:!0,features:[e.jDz],decls:309,vars:119,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],["class","ml-1 text-primary-700"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","masculino"],["value","femenino"],[3,"value"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[1,"pt-8","pb-8","pl-4","pr-4","border-t-2"],[1,"flex","flex-col","space-y-6"],[1,"inline-flex","items-center","px-4","py-2","mt-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",1,"mat-fuse-dense",3,"formControlName","max"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["matPrefix","",3,"for"],["joinDatepicker",""],["matInput","",3,"matDatepicker","formControlName","placeholder"],[3,"formControlName"],["value","Determinado"],["value","Indeterminado"],["birthdayDatepicker",""],["matInput","","type","number",3,"formControlName","min"],["matSuffix","",1,"ml-1"],["value","Primaria"],["value","Secundaria"],["value","TecnicoMedio"],["value","ObreroCalificado"],["value","MedioSuperior"],["value","Superior"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src"],["mat-mini-fab","","class","absolute p-5 transition-opacity ease-linear delay-200 rounded-full opacity-50 bg-primary-500 hover:opacity-100"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],[1,"ml-1","text-primary-700"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"bankAccountForm","first","last","index","currencies","remove"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white","icon-size-5"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"],[3,"bankAccountForm","first","last","index","currencies"],["class","relative flex flex-col sm:flex-row"],["class","flex flex-col sm:flex-row"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()(),e.TgZ(16,"div",4),e._UZ(17,"mat-icon",6),e.YNc(18,Yt,2,0,"a",9)(19,Ht,2,1,"a",9),e.TgZ(20,"a",10),e._uU(21,"Nuevo"),e.qZA()()(),e.TgZ(22,"div",11)(23,"a",12),e._UZ(24,"mat-icon",6),e.TgZ(25,"span",13),e._uU(26,"Regresar"),e.qZA()()()(),e.TgZ(27,"div",14)(28,"div",15),e.YNc(29,Ot,1,0)(30,jt,1,1),e.qZA()()(),e.TgZ(31,"div",16),e.YNc(32,Gt,4,5,"button",17)(33,Kt,4,5,"button",17),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"form",20)(37,"mat-accordion",21)(38,"mat-expansion-panel",22)(39,"mat-expansion-panel-header",23)(40,"mat-panel-title",24)(41,"div",25),e._uU(42," Informaci\xf3n General "),e.qZA()()(),e.TgZ(43,"div",26)(44,"div",27)(45,"mat-form-field",28)(46,"mat-label"),e._uU(47,"Nombre"),e.qZA(),e._UZ(48,"input",29),e.YNc(49,Vt,2,0,"mat-error")(50,Wt,2,0,"mat-error")(51,Xt,2,0,"mat-error"),e.qZA()(),e.TgZ(52,"div",27)(53,"mat-form-field",28)(54,"mat-label"),e._uU(55,"Primer Apellido"),e.qZA(),e._UZ(56,"input",30),e.YNc(57,eo,2,0,"mat-error")(58,to,2,0,"mat-error")(59,oo,2,0,"mat-error"),e.qZA()(),e.TgZ(60,"div",27)(61,"mat-form-field",28)(62,"mat-label"),e._uU(63,"Segundo Apellido"),e.qZA(),e._UZ(64,"input",31),e.YNc(65,io,2,0,"mat-error")(66,no,2,0,"mat-error"),e.qZA()(),e.TgZ(67,"div",27)(68,"mat-form-field",28)(69,"mat-label"),e._uU(70,"G\xe9nero"),e.qZA(),e.TgZ(71,"mat-select",32)(72,"mat-option",33),e._uU(73,"Masculino"),e.qZA(),e.TgZ(74,"mat-option",34),e._uU(75,"Femenino"),e.qZA(),e.TgZ(76,"mat-option",35),e._uU(77,"Otro"),e.qZA()(),e.YNc(78,ao,2,0,"mat-error"),e.qZA()(),e.TgZ(79,"div",27)(80,"mat-form-field",28)(81,"mat-label"),e._uU(82,"N\xfamero de identidad"),e.qZA(),e._UZ(83,"mat-icon",36)(84,"input",37),e.YNc(85,ro,2,0,"mat-error")(86,so,2,0,"mat-error")(87,lo,2,0,"mat-error"),e.qZA()(),e.TgZ(88,"div",38)(89,"span",39),e._uU(90,"Estado"),e.qZA(),e.TgZ(91,"mat-slide-toggle",40),e._uU(92," Activo "),e.qZA()()()(),e.TgZ(93,"mat-expansion-panel")(94,"mat-expansion-panel-header",23)(95,"mat-panel-title",24)(96,"div",25),e._uU(97," Cuentas de banco "),e.qZA()()(),e.TgZ(98,"div",41)(99,"div",42),e.SjG(100,co,1,5,"bank-account",107,n.trackByFn),e.qZA(),e.TgZ(102,"div",43),e.NdJ("click",function(){return n.addBankAccount()}),e._UZ(103,"mat-icon",44),e.TgZ(104,"span",45),e._uU(105," Agregar Cuenta "),e.qZA()()()(),e.TgZ(106,"mat-expansion-panel")(107,"mat-expansion-panel-header",23)(108,"mat-panel-title",24)(109,"div",25),e._uU(110," Informaci\xf3n de contacto "),e.qZA()()(),e.TgZ(111,"div",46)(112,"div",27)(113,"div",47),e.SjG(114,xo,31,27,"div",108,n.trackByFn),e.qZA(),e.TgZ(116,"div",48),e.NdJ("click",function(){return n.addPhoneNumberField()}),e._UZ(117,"mat-icon",44),e.TgZ(118,"span",45),e._uU(119,"Agregar tel\xe9fono"),e.qZA()()(),e.TgZ(120,"div",27)(121,"div",47),e.SjG(122,Zo,15,16,"div",109,n.trackByFn),e.qZA(),e.TgZ(124,"div",48),e.NdJ("click",function(){return n.addEmailField()}),e._UZ(125,"mat-icon",44),e.TgZ(126,"span",45),e._uU(127,"Agregar correo electr\xf3nico"),e.qZA()()()()(),e.TgZ(128,"mat-expansion-panel",22)(129,"mat-expansion-panel-header",23)(130,"mat-panel-title",24)(131,"div",25),e._uU(132," Domicilio "),e.qZA()()(),e.TgZ(133,"div",41)(134,"div",49)(135,"div",27)(136,"mat-form-field",28)(137,"mat-label"),e._uU(138,"Pa\xeds"),e.qZA(),e.TgZ(139,"mat-select",32)(140,"mat-option",50),e._uU(141,"Cuba"),e.qZA()(),e._UZ(142,"mat-icon",51),e.YNc(143,Ao,2,0,"mat-error"),e.qZA()(),e.TgZ(144,"div",27)(145,"mat-form-field",28)(146,"mat-label"),e._uU(147,"Provincia"),e.qZA(),e.TgZ(148,"mat-select",32),e.SjG(149,To,2,2,"mat-option",35,n.trackByFn),e.qZA(),e._UZ(151,"mat-icon",51),e.YNc(152,Fo,2,0,"mat-error"),e.qZA()(),e.TgZ(153,"div",27)(154,"mat-form-field",28)(155,"mat-label"),e._uU(156,"Municipio"),e.qZA(),e.TgZ(157,"mat-select",32),e.SjG(158,Io,2,2,"mat-option",35,n.trackByFn),e.qZA(),e._UZ(160,"mat-icon",51),e.YNc(161,Uo,2,0,"mat-error"),e.qZA()(),e.TgZ(162,"div",27)(163,"mat-form-field",52)(164,"mat-label"),e._uU(165,"C\xf3digo Postal"),e.qZA(),e._UZ(166,"input",53),e.YNc(167,Eo,2,0,"mat-error"),e.qZA()(),e.TgZ(168,"div",54)(169,"mat-form-field",55)(170,"mat-label"),e._uU(171,"Direcci\xf3n"),e.qZA(),e._UZ(172,"mat-icon",36)(173,"textarea",56),e.YNc(174,ko,2,0,"mat-error")(175,qo,2,0,"mat-error"),e.qZA()()()()(),e.TgZ(176,"mat-expansion-panel")(177,"mat-expansion-panel-header",23)(178,"mat-panel-title",24)(179,"div",25),e._uU(180," Datos de incorporaci\xf3n "),e.qZA()()(),e.TgZ(181,"div",26)(182,"div",27)(183,"mat-form-field",28)(184,"mat-label"),e._uU(185,"Fecha de contrataci\xf3n"),e.qZA(),e._UZ(186,"mat-datepicker-toggle",57)(187,"mat-datepicker",null,58)(189,"input",59),e.YNc(190,Do,2,0,"mat-error"),e.qZA()(),e.TgZ(191,"div",27)(192,"mat-form-field",28)(193,"mat-label"),e._uU(194,"Tipo de contrato"),e.qZA(),e.TgZ(195,"mat-select",60)(196,"mat-option",61),e._uU(197,"Determinado"),e.qZA(),e.TgZ(198,"mat-option",62),e._uU(199,"Indeterminado"),e.qZA()(),e.YNc(200,wo,2,0,"mat-error"),e.qZA()(),e.TgZ(201,"div",27)(202,"mat-form-field",28)(203,"mat-label"),e._uU(204,"Fecha de cierre del contrato"),e.qZA(),e._UZ(205,"mat-datepicker-toggle",57)(206,"mat-datepicker",null,63)(208,"input",59),e.qZA()(),e.TgZ(209,"div",27)(210,"mat-form-field",28)(211,"mat-label"),e._uU(212,"Tiempo del contrato"),e.qZA(),e._UZ(213,"mat-icon",36)(214,"input",64),e.TgZ(215,"span",65),e._uU(216,"D\xedas"),e.qZA(),e.YNc(217,Lo,2,0,"mat-error"),e.qZA()()()(),e.TgZ(218,"mat-expansion-panel")(219,"mat-expansion-panel-header",23)(220,"mat-panel-title",24)(221,"div",25),e._uU(222," Departamento, cargo y escolaridad "),e.qZA()()(),e.TgZ(223,"div",41)(224,"div",49)(225,"div",27)(226,"mat-form-field",28)(227,"mat-label"),e._uU(228,"Unidad Comercial"),e.qZA(),e.TgZ(229,"mat-select",60),e.SjG(230,So,2,2,"mat-option",35,e.x6l),e.ALo(232,"async"),e.qZA()()(),e.TgZ(233,"div",27)(234,"mat-form-field",28)(235,"mat-label"),e._uU(236,"Departamento"),e.qZA(),e.TgZ(237,"mat-select",60),e.SjG(238,No,2,2,"mat-option",35,e.x6l),e.ALo(240,"async"),e.qZA()()(),e.TgZ(241,"div",27)(242,"mat-form-field",28)(243,"mat-label"),e._uU(244,"Cargo"),e.qZA(),e.TgZ(245,"mat-select",60),e.SjG(246,Jo,2,2,"mat-option",35,e.x6l),e.ALo(248,"async"),e.qZA(),e.YNc(249,Ro,2,0,"mat-error"),e.qZA()(),e.TgZ(250,"div",27)(251,"mat-form-field",28)(252,"mat-label"),e._uU(253,"Escolaridad"),e.qZA(),e.TgZ(254,"mat-select",60)(255,"mat-option",66),e._uU(256,"Primaria"),e.qZA(),e.TgZ(257,"mat-option",67),e._uU(258,"Secundaria"),e.qZA(),e.TgZ(259,"mat-option",68),e._uU(260,"T\xe9cnico Medio"),e.qZA(),e.TgZ(261,"mat-option",69),e._uU(262,"Obrero Calificado"),e.qZA(),e.TgZ(263,"mat-option",70),e._uU(264,"Medio Superior"),e.qZA(),e.TgZ(265,"mat-option",71),e._uU(266,"Superior"),e.qZA()(),e.YNc(267,Qo,2,0,"mat-error"),e.qZA()()()()(),e.TgZ(268,"mat-expansion-panel")(269,"mat-expansion-panel-header",23)(270,"mat-panel-title",24)(271,"div",25),e._uU(272," Salario "),e.qZA()()(),e.TgZ(273,"div",26)(274,"div",27)(275,"mat-form-field",28)(276,"mat-label"),e._uU(277,"Frecuencia"),e.qZA(),e.TgZ(278,"mat-select",60),e.SjG(279,Mo,2,2,"mat-option",35,e.x6l),e.ALo(281,"async"),e.qZA(),e.YNc(282,Po,2,0,"mat-error"),e.qZA()(),e.TgZ(283,"div",27)(284,"mat-form-field",28)(285,"mat-label"),e._uU(286,"Modo de pago"),e.qZA(),e.TgZ(287,"mat-select",60),e.SjG(288,$o,2,2,"mat-option",35,e.x6l),e.ALo(290,"async"),e.qZA(),e.YNc(291,zo,2,0,"mat-error"),e.qZA()()()(),e.TgZ(292,"mat-expansion-panel")(293,"mat-expansion-panel-header",23)(294,"mat-panel-title",24)(295,"div",25),e._uU(296," Imagen "),e.qZA()()(),e.TgZ(297,"div",26)(298,"div",72)(299,"div",73)(300,"div",74),e.YNc(301,Bo,1,2,"img",75)(302,Yo,2,0,"button",76)(303,Ho,2,0,"div",77),e.qZA()(),e.YNc(304,Oo,8,3,"div"),e.qZA()()()()()()(),e.TgZ(305,"div",78)(306,"div",79),e.YNc(307,jo,4,5,"button",17)(308,Go,4,5,"button",17),e.qZA()()()),2&i){const s=e.MAs(188),c=e.MAs(207);e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(),e.um2(18,"new"===n.windowsMode?18:-1),e.xp6(),e.um2(19,"new"!==n.windowsMode?19:-1),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(5),e.um2(29,"new"===n.windowsMode?29:-1),e.xp6(),e.um2(30,"new"!==n.windowsMode?30:-1),e.xp6(2),e.um2(32,"new"===n.windowsMode?32:-1),e.xp6(),e.um2(33,"new"!==n.windowsMode?33:-1),e.xp6(3),e.Q6J("formGroup",n.employeeForm)("autocomplete","off"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.xp6(),e.um2(49,n.employeeForm.get("name").hasError("required")?49:-1),e.xp6(),e.um2(50,n.employeeForm.get("name").hasError("maxlength")||n.employeeForm.get("name").hasError("minlength")?50:-1),e.xp6(),e.um2(51,n.employeeForm.get("name").hasError("pattern")?51:-1),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.xp6(),e.um2(57,n.employeeForm.get("lastname1").hasError("required")?57:-1),e.xp6(),e.um2(58,n.employeeForm.get("lastname1").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?58:-1),e.xp6(),e.um2(59,n.employeeForm.get("lastname1").hasError("pattern")?59:-1),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.xp6(),e.um2(65,n.employeeForm.get("lastname2").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")?65:-1),e.xp6(),e.um2(66,n.employeeForm.get("lastname2").hasError("pattern")?66:-1),e.xp6(5),e.Q6J("formControlName","gender"),e.xp6(5),e.Q6J("value","otro"),e.xp6(2),e.um2(78,n.employeeForm.get("gender").hasError("required")?78:-1),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:identification"),e.xp6(),e.Q6J("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.xp6(),e.um2(85,n.employeeForm.get("idNumber").hasError("required")?85:-1),e.xp6(),e.um2(86,n.employeeForm.get("idNumber").hasError("maxlength")||n.employeeForm.get("idNumber").hasError("minlength")?86:-1),e.xp6(),e.um2(87,n.employeeForm.get("idNumber").hasError("pattern")?87:-1),e.xp6(4),e.Q6J("color","primary")("formControlName","active"),e.xp6(3),e.Q6J("collapsedHeight","56px"),e.xp6(6),e.wJu(n.employeeForm.get("bankAccounts").controls),e.xp6(3),e.Q6J("svgIcon","mat_solid:add_circle"),e.xp6(4),e.Q6J("collapsedHeight","56px"),e.xp6(7),e.wJu(n.employeeForm.get("phoneNumbers").controls),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.wJu(n.employeeForm.get("emails").controls),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(3),e.Q6J("expanded",!0),e.xp6(),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","mat_solid:public"),e.xp6(),e.um2(143,n.employeeForm.get("country").hasError("required")?143:-1),e.xp6(5),e.Q6J("formControlName","state"),e.xp6(),e.wJu(n.states),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(),e.um2(152,n.employeeForm.get("state").hasError("required")?152:-1),e.xp6(5),e.Q6J("formControlName","city"),e.xp6(),e.wJu(n.cities),e.xp6(2),e.Q6J("svgIcon","mat_solid:location_on"),e.xp6(),e.um2(161,n.employeeForm.get("city").hasError("required")?161:-1),e.xp6(5),e.Q6J("formControlName","zip")("max",99999),e.xp6(),e.um2(167,n.employeeForm.get("zip").hasError("pattern")?167:-1),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(),e.Q6J("formControlName","address")("minLength",3)("maxlength",255),e.xp6(),e.um2(174,n.employeeForm.get("address").hasError("required")?174:-1),e.xp6(),e.um2(175,n.employeeForm.get("address").hasError("maxlength")||n.employeeForm.get("address").hasError("minlength")?175:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("for",s),e.xp6(3),e.Q6J("matDatepicker",s)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.xp6(),e.um2(190,n.employeeForm.get("dateOfJoining").hasError("required")?190:-1),e.xp6(5),e.Q6J("formControlName","typeOfContract"),e.xp6(5),e.um2(200,n.employeeForm.get("typeOfContract").hasError("required")?200:-1),e.xp6(5),e.Q6J("for",c),e.xp6(3),e.Q6J("matDatepicker",c)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:clock"),e.xp6(),e.Q6J("formControlName","contractTime")("min",0),e.xp6(3),e.um2(217,n.employeeForm.get("contractTime").hasError("pattern")?217:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","locationId"),e.xp6(),e.wJu(e.lcZ(232,109,n.locations$)),e.xp6(7),e.Q6J("formControlName","departmentId"),e.xp6(),e.wJu(e.lcZ(240,111,n.departments$)),e.xp6(7),e.Q6J("formControlName","chargeId"),e.xp6(),e.wJu(e.lcZ(248,113,n.charges$)),e.xp6(3),e.um2(249,n.employeeForm.get("chargeId").hasError("required")?249:-1),e.xp6(5),e.Q6J("formControlName","scholarship"),e.xp6(13),e.um2(267,n.employeeForm.get("scholarship").hasError("required")?267:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("formControlName","salaryFreq"),e.xp6(),e.wJu(e.lcZ(281,115,n.salaryFreqs$)),e.xp6(3),e.um2(282,n.employeeForm.get("salaryFreq").hasError("required")?282:-1),e.xp6(5),e.Q6J("formControlName","salaryMethod"),e.xp6(),e.wJu(e.lcZ(290,117,n.salaryMethods$)),e.xp6(3),e.um2(291,n.employeeForm.get("salaryMethod").hasError("required")?291:-1),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(8),e.um2(301,n.employeeForm.get("imageUrl").value?301:-1),e.xp6(),e.um2(302,n.employeeForm.get("imageUrl").value?302:-1),e.xp6(),e.um2(303,n.employeeForm.get("imageUrl").value?-1:303),e.xp6(),e.um2(304,n.employeeForm.get("imageUrl").value?-1:304),e.xp6(3),e.um2(307,"new"===n.windowsMode?307:-1),e.xp6(),e.um2(308,"new"!==n.windowsMode?308:-1)}},dependencies:[y.Ov,Pt.w,u.ot,u.lW,u.RK,u.nh,W.p9,H.FA,Ce.PQ,H.Mq,H.hl,H.nW,T.Is,O.To,O.pp,O.ib,O.yz,O.yK,p.lN,p.KE,p.hX,p.TO,p.qo,p.R9,g.Ps,g.Hw,v.c,v.Nt,z.LD,z.gD,z.$L,be.ey,b.rP,b.Rr,y.mk,r.UX,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.qQ,r.oH,r.sg,r.u,C.rH,y.rS],encapsulation:2,changeDetection:0})}return o})();var Vo=l(48851),Wo=l(18240);function Xo(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico es obligatorio. "),e.qZA())}function ei(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo no posee un formato v\xe1lido. "),e.qZA())}function ti(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility")}function oi(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility-off")}function ii(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La contrase\xf1a es obligatoria. "),e.qZA())}function ni(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,' La contrase\xf1a deber\xe1 tener entre 8 y 100 caracteres e incluir may\xfasculas, min\xfasculas n\xfameros y s\xedmbolos como: ! " ? $ % ^ &. '),e.qZA())}function ai(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility")}function ri(o,a){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","mat_solid:visibility-off")}function si(o,a){1&o&&(e.TgZ(0,"mat-error",22),e._uU(1," La contrase\xf1a es obligatoria "),e.qZA())}function li(o,a){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.hij(" ",t.employeeUserForm.get("pwd2").getError("mustMatch")," ")}}function ci(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.markRole(n.id,!n.checked))}),e.TgZ(1,"div",28),e._uU(2),e.qZA()()}if(2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.description," ")}}function mi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",23)(1,"mat-checkbox",24),e.NdJ("change",function(n){const c=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.markRole(c.id,n.checked))}),e.TgZ(2,"span",25),e._uU(3),e.qZA()(),e.YNc(4,ci,3,1,"div",26),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(),e.Q6J("color","primary")("color","primary")("checked",t.checked),e.xp6(2),e.hij(" ",t.name," "),e.xp6(),e.um2(4,t.description?4:-1)}}const pi=o=>({"cursor-not-allowed":o});let di=(()=>{class o{constructor(t){this.data=t,this.roles=[],this._changeDetectorRef=(0,e.f3M)(e.sBO),this._dialogRef=(0,e.f3M)(T.so),this._formBuilder=(0,e.f3M)(r.qu),this._fuseConfirmationService=(0,e.f3M)(M.R),this._snackBar=(0,e.f3M)(Q.ux),this._unsubscribeAll=new x.x,this._usersService=(0,e.f3M)(Wo.f),this._rolesService=(0,e.f3M)(Vo.N),this.store=(0,e.f3M)(f.yh)}ngOnInit(){this._rolesService.findAllActiveRoles().pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.roles=structuredClone(t),this._changeDetectorRef.markForCheck()}),this.employeeUserForm=this._formBuilder.group({employeeId:[this.data.employee.id,[r.kI.required]],email:[null,[r.kI.email,r.kI.required]],pwd:["",[r.kI.minLength(8),r.kI.maxLength(100),N.L.strongPasWordPattern()]],pwd2:[""],roleId:[null,[r.kI.required]]},{validators:N.L.mustMatch("pwd","pwd2")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createUser(){const t=this.employeeUserForm.getRawValue();delete t.pwd2,this._fuseConfirmationService.open({title:"Crear usuario",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._usersService.createUserFromEmployee(t).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.createUserFromEmployee.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})}),this._changeDetectorRef.markForCheck()}markRole(t,i){for(const n of this.roles)n.id===t&&i?(n.checked=!0,this.employeeUserForm.get("roleId").setValue(n.id)):n.checked=!1;this.roles.some(n=>n.checked)||this.employeeUserForm.get("roleId").setValue(null),this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(T.WI))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-employee-user-dialog"]],standalone:!0,features:[e.jDz],decls:43,vars:25,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"w-full","px-8","pb-6","overflow-hidden","sm:flex-row","sm:items-start","sm:pb-8"],[1,"grid","w-full","grid-cols-1","gap-3","pt-6","mt-3","overflow-auto","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"w-full","sm:col-span-2"],["matInput","","required","",3,"type","formControlName","placeholder"],[1,"w-full","col-span-1"],["type","password","placeholder","Contrase\xf1a","matInput","","required","",3,"formControlName","minlength","maxlength"],["passwordField1",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon"],["type","password","placeholder","Repita la contrase\xf1a","matInput","","required","",3,"formControlName"],["passwordField2",""],["class","pb-5"],[1,"col-span-1","sm:col-span-2","h-50"],[1,"font-semibold"],[1,"grid","w-full","grid-cols-2","gap-4","mt-3","overflow-auto"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass","click"],[1,"icon-size-5",3,"svgIcon"],[1,"pb-5"],[1,"relative","p-3","overflow-hidden","border","border-dashed","rounded-sm","cursor-pointer","border-primary-700","max-h-30"],[1,"absolute","top-2.5","left-3",3,"color","checked","change"],[1,"font-medium","truncate"],["class","h-full mt-8"],[1,"h-full","mt-8",3,"click"],[1,"whitespace-pre-line","text-md","text-hint","line-clamp-3"],["class","relative p-3 overflow-hidden border border-dashed rounded-sm cursor-pointer border-primary-700 max-h-30 "]],template:function(i,n){if(1&i){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Crear Usuario"),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Correo electr\xf3nico"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,Xo,2,0,"mat-error")(11,ei,2,0,"mat-error"),e.qZA(),e.TgZ(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Contrase\xf1a"),e.qZA(),e._UZ(15,"input",8,9),e.TgZ(17,"button",10),e.NdJ("click",function(){e.CHM(s);const _=e.MAs(16);return e.KtG(_.type="password"===_.type?"text":"password")}),e.YNc(18,ti,1,1,"mat-icon",11)(19,oi,1,1,"mat-icon",11),e.qZA(),e.YNc(20,ii,2,0,"mat-error")(21,ni,2,0,"mat-error"),e.qZA(),e.TgZ(22,"mat-form-field",7)(23,"mat-label"),e._uU(24,"Confirmar contrase\xf1a"),e.qZA(),e._UZ(25,"input",12,13),e.TgZ(27,"button",10),e.NdJ("click",function(){e.CHM(s);const _=e.MAs(26);return e.KtG(_.type="password"===_.type?"text":"password")}),e.YNc(28,ai,1,1,"mat-icon",11)(29,ri,1,1,"mat-icon",11),e.qZA(),e.YNc(30,si,2,0,"mat-error",14)(31,li,2,1,"mat-error"),e.qZA(),e.TgZ(32,"div",15)(33,"span",16),e._uU(34,"Roles"),e.qZA(),e.TgZ(35,"div",17),e.SjG(36,mi,5,5,"div",29,e.x6l),e.qZA()()()(),e.TgZ(38,"div",18)(39,"button",19),e._uU(40," Cancelar "),e.qZA(),e.TgZ(41,"button",20),e.NdJ("click",function(){return n.createUser()}),e._uU(42," Aceptar "),e.qZA()()()}if(2&i){const s=e.MAs(16),c=e.MAs(26);e.xp6(5),e.Q6J("formGroup",n.employeeUserForm)("autocomplete","off"),e.xp6(4),e.Q6J("type","email")("formControlName","email")("placeholder","Correo electr\xf3nico"),e.xp6(),e.um2(10,n.employeeUserForm.get("email").hasError("required")?10:-1),e.xp6(),e.um2(11,n.employeeUserForm.get("email").hasError("email")?11:-1),e.xp6(4),e.Q6J("formControlName","pwd")("minlength",8)("maxlength",100),e.xp6(3),e.um2(18,"password"===s.type?18:-1),e.xp6(),e.um2(19,"text"===s.type?19:-1),e.xp6(),e.um2(20,n.employeeUserForm.get("pwd").hasError("required")?20:-1),e.xp6(),e.um2(21,n.employeeUserForm.get("pwd").hasError("pattern")||n.employeeUserForm.get("pwd").hasError("minlength")?21:-1),e.xp6(4),e.Q6J("formControlName","pwd2"),e.xp6(3),e.um2(28,"password"===c.type?28:-1),e.xp6(),e.um2(29,"text"===c.type?29:-1),e.xp6(),e.um2(30,n.employeeUserForm.get("pwd2").hasError("required")?30:-1),e.xp6(),e.um2(31,n.employeeUserForm.get("pwd2").hasError("mustMatch")?31:-1),e.xp6(5),e.wJu(n.roles),e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("color","primary")("disabled",n.employeeUserForm.invalid)("ngClass",e.VKq(23,pi,n.employeeUserForm.invalid))}},dependencies:[p.lN,p.KE,p.hX,p.TO,p.R9,g.Ps,g.Hw,v.c,v.Nt,u.ot,u.lW,u.RK,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.sg,r.u,W.p9,W.oG,T.Is,T.ZT,y.mk],encapsulation:2})}return o})();const ui=()=>["new"];function hi(o,a){if(1&o&&(e.TgZ(0,"div",18)(1,"mat-form-field",19),e._UZ(2,"mat-icon",20)(3,"input",21),e.qZA(),e.TgZ(4,"button",22),e._UZ(5,"mat-icon",23),e.TgZ(6,"span",24),e._uU(7,"Nuevo"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar empleados"),e.xp6(),e.Q6J("routerLink",e.DdM(7,ui)),e.xp6(),e.Q6J("svgIcon","mat_solid:add")}}function gi(o,a){if(1&o&&e._UZ(0,"img",49),2&o){const t=e.oxw().$implicit;e.Q6J("alt","Foto")("src",t.imageUrl,e.LSH)}}function _i(o,a){1&o&&(e.TgZ(0,"div",50),e._uU(1," SIN FOTO "),e.qZA())}function fi(o,a){if(1&o&&(e.TgZ(0,"div",51),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.hij(" ",t.department.name," ")}}function xi(o,a){1&o&&(e.TgZ(0,"div",52),e._uU(1," No tiene asignado "),e.qZA())}function vi(o,a){if(1&o&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.hij(" ",t.charge.name," ")}}function Ci(o,a){1&o&&(e.TgZ(0,"div",52),e._uU(1," No tiene asignado "),e.qZA())}function bi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",53),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw(),c=s.$implicit,_=s.$index,A=e.oxw(4);return e.KtG(A.updateEmployeeStatus(n,c,_))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function yi(o,a){1&o&&e._UZ(0,"mat-spinner",43),2&o&&e.Q6J("diameter",20)("color","primary")}const Zi=o=>[o];function Ai(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"div",34),e.YNc(3,gi,1,2,"img",35)(4,_i,2,0,"div",36),e.qZA()(),e.TgZ(5,"div",37),e._uU(6),e.qZA(),e.TgZ(7,"div",37),e._uU(8),e.qZA(),e.YNc(9,fi,2,1,"div",38)(10,xi,2,0,"div",39)(11,vi,2,1,"div",40)(12,Ci,2,0,"div",39),e.TgZ(13,"div",41),e.YNc(14,bi,1,2,"mat-slide-toggle",42)(15,yi,1,2,"mat-spinner",43),e.qZA(),e.TgZ(16,"div",44)(17,"button",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.createUser(s))}),e._UZ(18,"mat-icon",46),e.qZA(),e.TgZ(19,"button",47),e._UZ(20,"mat-icon",46),e.qZA(),e.TgZ(21,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteEmployee(s.id))}),e._UZ(22,"mat-icon",46),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(4);e.xp6(3),e.um2(3,t.imageUrl?3:-1),e.xp6(),e.um2(4,t.imageUrl?-1:4),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.lnq(" ",t.name," ",t.lastname1," ",t.lastname2?t.lastname2:""," "),e.xp6(),e.um2(9,t.department?9:-1),e.xp6(),e.um2(10,t.department?-1:10),e.xp6(),e.um2(11,t.charge?11:-1),e.xp6(),e.um2(12,t.charge?-1:12),e.xp6(2),e.um2(14,n.isLoading&&n.selectedSlide===i?-1:14),e.xp6(),e.um2(15,n.isLoading&&n.selectedSlide===i?15:-1),e.xp6(3),e.Q6J("svgIcon","mat_solid:person_add"),e.xp6(),e.Q6J("routerLink",e.VKq(16,Zi,t.id)),e.xp6(),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Ti(o,a){1&o&&e.SjG(0,Ai,23,18,"div",54,e.QCX().trackByFn),2&o&&e.wJu(a)}function Fi(o,a){if(1&o&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._uU(3," Foto "),e.qZA(),e.TgZ(4,"div",29),e._uU(5," C\xf3digo "),e.qZA(),e.TgZ(6,"div",29)(7,"span"),e._uU(8," Nombre y Apellidos "),e.qZA()(),e.TgZ(9,"div"),e._uU(10," Departamento "),e.qZA(),e.TgZ(11,"div"),e._uU(12," Cargo "),e.qZA(),e.TgZ(13,"div",30)(14,"span"),e._uU(15,"Activo"),e.qZA()(),e.TgZ(16,"div",31),e._uU(17," Acciones "),e.qZA()(),e.YNc(18,Ti,2,0),e.ALo(19,"async"),e.qZA()),2&o){const t=e.oxw(2);let i;e.xp6(4),e.Q6J("mat-sort-header","code"),e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(7),e.Q6J("mat-sort-header","active"),e.xp6(5),e.um2(18,(i=e.lcZ(19,4,t.employees$))?18:-1,i)}}function Ii(o,a){if(1&o&&(e.TgZ(0,"div",56),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!","")}}const Ze=()=>["Super Administrador"];function Ui(o,a){1&o&&e.YNc(0,Ii,2,1,"div",55),2&o&&e.Q6J("ngxPermissionsExcept",e.DdM(1,Ze))}function Ei(o,a){1&o&&e.YNc(0,Fi,20,6,"div",25)(1,Ui,1,2),2&o&&e.um2(0,a.length>0?0:1)}const ki=o=>({"pointer-events-none":o}),qi=()=>[10,25,50,100];function Di(o,a){if(1&o&&e._UZ(0,"mat-paginator",57),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,ki,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,qi))("showFirstLastButtons",!0)}}let wi=(()=>{class o{constructor(){this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new r.NI(null),this._unsubscribeAll=new x.x,this._changeDetectorRef=(0,e.f3M)(e.sBO),this._employeeService=(0,e.f3M)(le.M),this._fuseConfirmationService=(0,e.f3M)(M.R),this._snackBar=(0,e.f3M)(Q.ux),this._dialog=(0,e.f3M)(T.uw),this.store=(0,e.f3M)(f.yh)}ngOnInit(){this.employees$=this.store.select(ae.ri),this.store.select(B.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select(V.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,J.b)(300),(0,w.O)(null),(0,S.w)(t=>null!==t?(this.isLoading=!0,this._employeeService.findAllEmployees(0,10,"name","desc",t)):(0,d.of)()),(0,Z.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,q.T)(this._sort.sortChange,this._paginator.page).pipe((0,S.w)(()=>(this.isLoading=!0,this._employeeService.findAllEmployees(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,Z.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateEmployeeStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._employeeService.updateEmployeeStatus({id:i.id,active:t.checked}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._employeeService.removeEmployee(t,this.pagination.page,this.pagination.size,"name","desc").pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())})})}createUser(t){this._dialog.open(di,{data:{employee:t},disableClose:!0,panelClass:"ath-dialog-panel"})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["employees"]],viewQuery:function(i,n){if(1&i&&(e.Gf(F.NW,5),e.Gf(h.YE,5)),2&i){let s;e.iGM(s=e.CRH())&&(n._paginator=s.first),e.iGM(s=e.CRH())&&(n._sort=s.first)}},standalone:!0,features:[e.jDz],decls:30,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/dashboard",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black/5","employees-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-10","text-right"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase"],[1,"truncate"],["class",""],["class","text-red-700"],["class","items-center"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","","matTooltip","Crear Usuario",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,""],[1,"text-red-700"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b md:px-8 employees-table"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Empleados "),e.qZA()()(),e.YNc(24,hi,8,8,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,Ei,2,1),e.ALo(28,"async"),e.YNc(29,Di,1,9,"mat-paginator",17),e.qZA()()()),2&i){let s;e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(9,Ze)),e.xp6(3),e.um2(27,(s=e.lcZ(28,7,n.employees$))?27:-1,s),e.xp6(2),e.um2(29,n.pagination&&n.pagination.length>0?29:-1)}},dependencies:[g.Ps,g.Hw,u.ot,u.lW,F.TU,F.NW,h.JX,h.YE,h.nU,v.c,v.Nt,p.KE,p.qo,C.rH,b.rP,b.Rr,k.Cq,k.Ou,p.lN,y.Ov,y.mk,r.UX,r.Fj,r.JJ,r.oH,ee.VI,ee.gE],encapsulation:2,data:{animation:ne.L},changeDetection:0})}return o})();var Li=l(64716),Ae=l(43987);class Te{}function Si(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",36),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw(),c=s.$implicit,_=s.$index,A=e.oxw(4);return e.KtG(A.updateLocationStatus(n,c,_))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("checked",t.active)("color","primary")}}function Ni(o,a){1&o&&e._UZ(0,"mat-spinner",31),2&o&&e.Q6J("diameter",20)("color","primary")}const Ji=o=>[o];function Ri(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",22),e._uU(2),e.qZA(),e.TgZ(3,"div",28),e._uU(4),e.qZA(),e.TgZ(5,"div",28),e._uU(6),e.qZA(),e.TgZ(7,"div",25),e._uU(8),e.qZA(),e.TgZ(9,"div",25),e._uU(10),e.qZA(),e.TgZ(11,"div",25),e._uU(12),e.qZA(),e.TgZ(13,"div",29),e.YNc(14,Si,1,2,"mat-slide-toggle",30)(15,Ni,1,2,"mat-spinner",31),e.qZA(),e.TgZ(16,"div",32)(17,"button",33),e._UZ(18,"mat-icon",34),e.qZA(),e.TgZ(19,"button",35),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteLocation(s))}),e._UZ(20,"mat-icon",34),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index,n=e.oxw(4);e.xp6(2),e.hij(" ",i+1," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",null==t.manager?null:t.manager.fullname," "),e.xp6(2),e.hij(" ",t.address," "),e.xp6(2),e.hij(" ",t.state," "),e.xp6(2),e.hij(" ",t.city," "),e.xp6(2),e.um2(14,n.isLoading&&n.selectedSlide===i?-1:14),e.xp6(),e.um2(15,n.isLoading&&n.selectedSlide===i?15:-1),e.xp6(2),e.Q6J("routerLink",e.VKq(11,Ji,t.id)),e.xp6(),e.Q6J("svgIcon","mat_solid:edit"),e.xp6(2),e.Q6J("svgIcon","mat_solid:delete")}}function Qi(o,a){1&o&&e.SjG(0,Ri,21,13,"div",37,e.QCX().trackByFn),2&o&&e.wJu(a)}const Mi=o=>({"pointer-events-none":o}),Pi=()=>[10,25,100];function $i(o,a){if(1&o&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"div",22),e.TgZ(3,"div",23),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",24),e._uU(6," Responsable "),e.qZA(),e.TgZ(7,"div",25),e._uU(8," Direcci\xf3n "),e.qZA(),e.TgZ(9,"div",25),e._uU(10," Provincia "),e.qZA(),e.TgZ(11,"div",25),e._uU(12," Municipio "),e.qZA(),e.TgZ(13,"div",25),e._uU(14," Acciones "),e.qZA(),e.TgZ(15,"div",25),e._uU(16," Estado "),e.qZA()(),e.YNc(17,Qi,2,0),e.ALo(18,"async"),e._UZ(19,"mat-paginator",26),e.qZA()),2&o){const t=e.oxw(2);let i;e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(14),e.um2(17,(i=e.lcZ(18,8,t.locations$))?17:-1,i),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Mi,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,Pi))("showFirstLastButtons",!0)}}function zi(o,a){1&o&&(e.TgZ(0,"div",38),e._uU(1," \xa1No hay ubicaciones registradas!"),e.qZA())}function Bi(o,a){1&o&&e.YNc(0,$i,20,13,"div",19)(1,zi,2,0),2&o&&e.um2(0,a.length>0?0:1)}const Yi=()=>["new"];let Hi=(()=>{class o{constructor(){this.location=new Te,this.locations$=(0,d.of)([]),this.isLoading=!1,this.searchInputControl=new r.NI(null),this.selectedSlide=null,this._unsubscribeAll=new x.x,this._locationsService=(0,e.f3M)(Ae._),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._fuseConfirmationService=(0,e.f3M)(M.R),this._snackBar=(0,e.f3M)(Q.ux),this.store=(0,e.f3M)(f.yh)}ngOnInit(){this.locations$=this.store.select(re.Yu),this.store.select(V.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,J.b)(300),(0,w.O)(null),(0,S.w)(t=>null!==t?(this.isLoading=!0,this._locationsService.getLocations(0,10,"name","desc",t)):(0,d.of)()),(0,Z.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"code",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,q.T)(this._sort.sortChange,this._paginator.page).pipe((0,S.w)(()=>(this.isLoading=!0,this._locationsService.getLocations(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,this.searchInputControl.value))),(0,Z.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}deleteLocation(t){this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la taller: ${t.name}?`,icon:{show:!0,name:"mat_solid:question_mark",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{"confirmed"===n&&this._locationsService.removeLocation(t.id).pipe((0,m.R)(this._unsubscribeAll)).subscribe(({data:s})=>{this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.removeLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck()})})}updateLocationStatus(t,i,n){this.isLoading=!0,this.selectedSlide=n,this._locationsService.updateLocationStatus({id:i.id,active:t.checked}).pipe((0,m.R)(this._unsubscribeAll),(0,Li.x)(()=>{this.isLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})).subscribe(({data:s})=>{this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateLocationStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})})}trackByFn(t,i){return i.id||t}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-locations"]],viewQuery:function(i,n){if(1&i&&(e.Gf(F.NW,5),e.Gf(h.YE,5)),2&i){let s;e.iGM(s=e.CRH())&&(n._paginator=s.first),e.iGM(s=e.CRH())&&(n._sort=s.first)}},standalone:!0,features:[e.jDz],decls:30,vars:13,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","lg:flex-row","flex-0","lg:items-center","lg:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","lg:mt-0","lg:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],["cdkScrollable","",1,"flex","flex-col","flex-auto","overflow-auto","sm:mb-18"],["class","grid"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","locations-grid","md:px-8","text-md","text-primary-200","bg-gray-50","dark:bg-black/5"],[1,"hidden","sm:block"],[3,"mat-sort-header"],[1,""],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","locations-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[3,"checked","color"],[3,"diameter","color"],[1,"flex","flex-row","items-center","justify-center","gap-1"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b locations-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Recursos Humanos"),e.qZA()(),e.TgZ(11,"div",5),e._UZ(12,"mat-icon",6),e.TgZ(13,"a",7),e._uU(14,"Unidades Comerciales"),e.qZA()()(),e.TgZ(15,"div",8)(16,"h2",9),e._uU(17," Unidades Comerciales "),e.qZA()()(),e.TgZ(18,"div",10)(19,"mat-form-field",11),e._UZ(20,"mat-icon",12)(21,"input",13),e.qZA(),e.TgZ(22,"button",14),e._UZ(23,"mat-icon",15),e.TgZ(24,"span",16),e._uU(25,"Agregar"),e.qZA()()()(),e.TgZ(26,"div",17)(27,"div",18),e.YNc(28,Bi,2,1),e.ALo(29,"async"),e.qZA()()()),2&i){let s;e.xp6(8),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Escriba para buscar..."),e.xp6(),e.Q6J("routerLink",e.DdM(12,Yi)),e.xp6(),e.Q6J("svgIcon","mat_solid:add"),e.xp6(5),e.um2(28,(s=e.lcZ(29,10,n.locations$))?28:-1,s)}},dependencies:[g.Ps,g.Hw,r.UX,r.Fj,r.JJ,r.oH,u.ot,u.lW,F.TU,F.NW,h.JX,h.YE,h.nU,v.c,v.Nt,p.KE,p.qo,C.rH,p.lN,y.Ov,y.mk,b.rP,b.Rr,k.Cq,k.Ou],encapsulation:2,changeDetection:0})}return o})();var Oi=l(21631),ce=l(24630);const Fe=o=>({"cursor-not-allowed":o});function ji(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createLocation())}),e._UZ(1,"mat-icon",34),e.TgZ(2,"span",35),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.locationForm.invalid)("ngClass",e.VKq(3,Fe,t.locationForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:save")}}function Gi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateLocation())}),e._UZ(1,"mat-icon",34),e.TgZ(2,"span",35),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.locationForm.invalid)("ngClass",e.VKq(3,Fe,t.locationForm.invalid)),e.xp6(),e.Q6J("svgIcon","mat_solid:refresh")}}function Ki(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre de la ubicaci\xf3n es obligatorio. "),e.qZA())}function Vi(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre de la ubicaci\xf3n debe tener 250 caracteres. "),e.qZA())}function Wi(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.selectEmployee(s))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t.fullname," ")}}function Xi(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function en(o,a){if(1&o&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(),e.hij(" ",t," ")}}function tn(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function on(o,a){if(1&o&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.city),e.xp6(),e.hij(" ",t.city," ")}}function nn(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function an(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n es obligatoria. "),e.qZA())}function rn(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.qZA())}let sn=(()=>{class o{constructor(){this.cities=[],this.editMode=!1,this.employees$=(0,d.of)([]),this.isLoading=!1,this.isLoadingData=!0,this.locations$=(0,d.of)([]),this.searchEmployeeControl=new r.NI(null),this.selectedLocation=new Te,this.states=[],this.employees=[],this.statesCodes=[],this.stateSelected="",this.selectedEmployeeName="",this._unsubscribeAll=new x.x,this._activatedRoute=(0,e.f3M)(C.gz),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._formBuilder=(0,e.f3M)(r.qu),this._fuseConfirmationService=(0,e.f3M)(M.R),this._locationsService=(0,e.f3M)(Ae._),this._locationService=(0,e.f3M)(te.a),this._snackBar=(0,e.f3M)(Q.ux),this._router=(0,e.f3M)(C.F0),this.store=(0,e.f3M)(f.yh),this._employeesService=(0,e.f3M)(le.M)}ngOnInit(){this.employees$=this.store.select(ae.ri),this.employees$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.employees=t,this._changeDetectorRef.markForCheck()}),this.employeesFiltered$=this.searchEmployeeControl.valueChanges.pipe((0,J.b)(200),(0,w.O)(null),(0,Oi.z)(t=>null!==t&&"string"==typeof t&&t!==this.selectedEmployeeName?this._employeesService.findActiveEmployees(t.trim()):this.employees$)),this._locationService.states$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.states=t,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.statesCodes=t,this._changeDetectorRef.markForCheck()}),this.locationForm=this._formBuilder.group({id:new r.NI(null),managerId:new r.NI(null,[r.kI.pattern(/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i),r.kI.maxLength(255)]),name:new r.NI(null,[r.kI.required,r.kI.maxLength(250)]),address:new r.NI(null,[r.kI.maxLength(250)]),city:new r.NI(null,[r.kI.maxLength(250)]),state:new r.NI(null,[r.kI.maxLength(250)]),country:new r.NI("Cuba",[r.kI.maxLength(50)])}),this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({locationId:t})=>{"new"!==t&&(this.editMode=!0,this.store.select(re.FD).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.selectedLocation=i,this.isLoadingData=!1,this.locationForm.patchValue(i);const n=this.employees.find(s=>s.id===i.managerId);n&&this.searchEmployeeControl.setValue(n),null!==i.state&&this._getCitiesByState(i.state),this.isLoadingData=!1,this._changeDetectorRef.markForCheck()}))}),this.locationForm.get("state")?.valueChanges.pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this._getCitiesByState(t),this.locationForm.get("city").enable(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createLocation(){const t=this.locationForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.createLocation(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.createLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._changeDetectorRef.markForCheck(),this._router.navigateByUrl("/modules/hrm/locations"))}),this._changeDetectorRef.markForCheck()})}updateLocation(){let t=this.locationForm.getRawValue();t=(0,Y.omit)(t,["code"]),this._fuseConfirmationService.open({title:"Actualizar ubicaci\xf3n",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this._locationsService.updateLocation(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(({data:s})=>{this._snackBar.openFromComponent(I.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.updateLocation.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this._router.navigateByUrl("/modules/hrm/locations")}),this._changeDetectorRef.markForCheck()})}selectEmployee(t){this.locationForm.get("managerId").setValue(t.id),this.selectedEmployeeName=t.name}displayFn(t){return t&&t.fullname?t.fullname:""}trackByFn(t,i){return i.id||t}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-location-details"]],standalone:!0,features:[e.jDz],decls:83,vars:40,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto"],[1,"z-20","flex","flex-col","p-6","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],["routerLink","/modules/hmr/locations",1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","mt-6","shrink-0","lg:mt-0","lg:ml-4"],["class","ml-4","mat-raised-button","","class","text-white bg-gradient-to-r from-primary-500 to-primary-700",3,"disabled","ngClass"],[1,"flex","flex-auto"],[1,"flex","flex-col","w-full","divide-y","divide-dashed",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","p-10"],[1,"flex","flex-col"],[1,"text-xl","font-semibold"],[1,"flex","flex-col","p-6","mt-5","border","shadow-md","sm:flex-row","bg-card","rounded-2xl"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-5","w-full"],[1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matInput","","type","text","maxlength","250","required","",3,"formControlName"],["appearance","fill",1,"w-full","fuse-mat-dense",3,"subscriptSizing"],["matPrefix","",3,"svgIcon"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder","required"],[3,"displayWith"],["employeeAutocomplete","matAutocomplete"],["required","",3,"formControlName"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-textarea","sm:col-span-3"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[3,"value","click"],[3,"value"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div")(6,"a",4),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",5),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",5),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Ubicaciones"),e.qZA()(),e.TgZ(16,"div",5),e._UZ(17,"mat-icon",6),e.TgZ(18,"a",7),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",9)(21,"h2",10),e._uU(22),e.qZA()()(),e.TgZ(23,"div",11),e.YNc(24,ji,4,5,"button",12)(25,Gi,4,5,"button",12),e.qZA()(),e.TgZ(26,"div",13)(27,"form",14)(28,"div",15)(29,"div",16)(30,"span",17),e._uU(31,"Generales"),e.qZA(),e.TgZ(32,"span"),e._uU(33,"Ingrese la informaci\xf3n necesaria para identificar la ubicaci\xf3n"),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"mat-form-field",20)(37,"mat-label"),e._uU(38,"Nombre del establecimiento"),e.qZA(),e._UZ(39,"input",21),e.YNc(40,Ki,2,0,"mat-error")(41,Vi,2,0,"mat-error"),e.qZA(),e.TgZ(42,"mat-form-field",22)(43,"mat-label"),e._uU(44,"Responsable"),e.qZA(),e._UZ(45,"mat-icon",23)(46,"input",24),e.TgZ(47,"mat-autocomplete",25,26),e.SjG(49,Wi,2,2,"mat-option",37,e.x6l),e.ALo(51,"async"),e.qZA()(),e.TgZ(52,"mat-form-field",20)(53,"mat-label"),e._uU(54,"Pa\xeds"),e.qZA(),e.TgZ(55,"mat-select",27)(56,"mat-option",28),e._uU(57,"Cuba"),e.qZA()(),e._UZ(58,"mat-icon",29),e.YNc(59,Xi,2,0,"mat-error"),e.qZA(),e.TgZ(60,"mat-form-field",20)(61,"mat-label"),e._uU(62,"Provincia"),e.qZA(),e.TgZ(63,"mat-select",27),e.SjG(64,en,2,2,"mat-option",37,n.trackByFn),e.qZA(),e._UZ(66,"mat-icon",29),e.YNc(67,tn,2,0,"mat-error"),e.qZA(),e.TgZ(68,"mat-form-field",20)(69,"mat-label"),e._uU(70,"Municipio"),e.qZA(),e.TgZ(71,"mat-select",27),e.SjG(72,on,2,2,"mat-option",37,n.trackByFn),e.qZA(),e._UZ(74,"mat-icon",29),e.YNc(75,nn,2,0,"mat-error"),e.qZA(),e.TgZ(76,"mat-form-field",30)(77,"mat-label"),e._uU(78,"Direcci\xf3n"),e.qZA(),e._UZ(79,"mat-icon",31)(80,"textarea",32),e.YNc(81,an,2,0,"mat-error")(82,rn,2,0,"mat-error"),e.qZA()()()()()()()),2&i){const s=e.MAs(48);e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(2),e.hij(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.xp6(3),e.hij(" ",n.editMode?n.selectedLocation.name:"Nuevo"," "),e.xp6(2),e.um2(24,n.editMode?-1:24),e.xp6(),e.um2(25,n.editMode?25:-1),e.xp6(2),e.Q6J("formGroup",n.locationForm)("autocomplete","off"),e.xp6(9),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","name"),e.xp6(),e.um2(40,n.locationForm.get("name").hasError("required")?40:-1),e.xp6(),e.um2(41,n.locationForm.get("name").hasError("minlength")?41:-1),e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","mat_solid:search"),e.xp6(),e.Q6J("formControl",n.searchEmployeeControl)("matAutocomplete",s)("placeholder","Buscar empleado")("required",!1),e.xp6(),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.wJu(e.lcZ(51,38,n.employeesFiltered$)),e.xp6(3),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:globe"),e.xp6(),e.um2(59,n.locationForm.get("country").hasError("required")?59:-1),e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","state"),e.xp6(),e.wJu(n.states),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(),e.um2(67,n.locationForm.get("state").hasError("required")?67:-1),e.xp6(),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","city"),e.xp6(),e.wJu(n.cities),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(),e.um2(75,n.locationForm.get("city").hasError("required")?75:-1),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(),e.Q6J("formControlName","address")("minLength",3)("maxlength",255),e.xp6(),e.um2(81,n.locationForm.get("address").hasError("required")?81:-1),e.xp6(),e.um2(82,n.locationForm.get("address").hasError("maxlength")||n.locationForm.get("address").hasError("minlength")?82:-1)}},dependencies:[y.Ov,u.ot,u.lW,p.lN,p.KE,p.hX,p.TO,p.qo,g.Ps,g.Hw,v.c,v.Nt,z.LD,Ce.PQ,z.gD,be.ey,b.rP,y.mk,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.oH,r.sg,r.u,C.rH,ce.Bb,ce.XC,ce.ZL],encapsulation:2,changeDetection:0})}return o})();var ie=l(26306);let ln=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllCharges().pipe((0,ie.K)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(K),e.LFG(C.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),cn=(()=>{class o{constructor(t,i){this._chargesService=t,this._router=i}resolve(t,i){return this._chargesService.findAllActiveCharges().pipe((0,ie.K)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(K),e.LFG(C.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),mn=(()=>{class o{constructor(t,i){this._departmentsService=t,this._router=i}resolve(t,i){return this._departmentsService.findAllDepartments().pipe((0,ie.K)(n=>this._router.navigateByUrl("/dashboard")))}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(X),e.LFG(C.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),pn=(()=>{class o{constructor(t,i,n){this._departmentsService=t,this._router=i,this.store=n,this.store.select(B.Qs).subscribe(s=>{this.merchant=s})}resolve(t,i){return this.merchant?this._departmentsService.findAllActiveDepartments().pipe((0,ie.K)(n=>this._router.navigateByUrl("/dashboard"))):null}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(X),e.LFG(C.F0),e.LFG(f.yh))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var me=l(31451),dn=l(9427),pe=l(23605),un=l(9315);const _n=[{path:"",component:U},{path:"charges",component:rt,resolve:{charges:ln}},{path:"departments",component:Qt,resolve:{departments:mn}},{path:"employees",component:wi,resolve:{employees:me.Q}},{path:"employees/:employeeId",component:Ko,resolve:{currencies:dn.x,hrm:(()=>{class o{constructor(t,i){this._hrmService=t,this._locationService=i}resolve(t,i){return(0,un.D)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(ve),e.LFG(te.a))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),employee:me.ci,charges:cn,departments:pn,locations:pe.Nc}},{path:"locations",component:Hi,resolve:{locations:pe.r7}},{path:"locations/:locationId",component:sn,resolve:{employees:me.pO,locations:pe.D1,states:(()=>{class o{constructor(t){this._locationService=t}resolve(t,i){return this._locationService.getStates()}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(te.a))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]},23605:(j,R,l)=>{l.d(R,{D1:()=>C,Nc:()=>r,r7:()=>y});var x=l(26306),L=l(58504),e=l(19212),f=l(43987),U=l(64190);let C=(()=>{class u{constructor(p,g){this._locationsService=p,this._router=g}resolve(p,g){const v=p.paramMap.get("locationId");if("new"!==v)return this._locationsService.getLocationById(v).pipe((0,x.K)(F=>{console.error(F);const k=g.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(k),(0,L._)(F)}))}static#e=this.\u0275fac=function(g){return new(g||u)(e.LFG(f._),e.LFG(U.F0))};static#t=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),y=(()=>{class u{constructor(p){this._locationsService=p}resolve(p,g){return this._locationsService.getLocations()}static#e=this.\u0275fac=function(g){return new(g||u)(e.LFG(f._))};static#t=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),r=(()=>{class u{constructor(p){this._locationsService=p}resolve(p,g){return this._locationsService.findActiveLocations()}static#e=this.\u0275fac=function(g){return new(g||u)(e.LFG(f._))};static#t=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},43987:(j,R,l)=>{l.d(R,{_:()=>k});var x=l(99397),L=l(37398),e=l(26045),f=l(97214),U=l(50967);const C=U.Ps`
    mutation CreateLocation($createLocationInput: CreateLocationInput!) {
        createLocation(createLocationInput: $createLocationInput) {

            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }

        }
    }
`,y=U.Ps`
    mutation UpdateLocation($updateLocationInput: UpdateLocationInput!) {
        updateLocation(updateLocationInput: $updateLocationInput) {
            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`,r=U.Ps`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateLocationStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }

    }
`,u=U.Ps`
    mutation RemoveLocation($removeLocationId: String!) {
        removeLocation(id: $removeLocationId) {
            ok
            message
        }
    }
`,T=U.Ps`
    query FindAllLocations($page: Int, $size: Int, $sort: String, $order: Order, $search: String) {
        findAllLocations(page: $page, size: $size, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            locations {
                id
                active
                managerId
                manager {
                    id
                    name
                    lastname1
                    lastname2
                    fullname
                }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`,p=U.Ps`
    query findActiveLocations($search: String!, $size: Int!) {
        findActiveLocations(search: $search, size: $size) {
            id
            active
            managerId
            name
            slug
            phone
            address
            country
            state
            city
            zip
        }
    }
`,g=U.Ps`
    query FindLocationById($findLocationByIdId: String!) {
        findLocationById(id: $findLocationByIdId) {
            ok
            message

            location {
                id
                active
                managerId
                # manager {
                #     name
                # }
                name
                slug
                phone
                address
                country
                state
                city
                zip
            }
        }
    }
`;var v=l(19212),F=l(84221);let k=(()=>{class b{constructor(h,d){this.apolloProvider=h,this.store=d,this._apollo=this.apolloProvider.use("BALANC")}createLocation(h){return this._apollo.mutate({mutation:C,variables:{createLocationInput:h},errorPolicy:"all"}).pipe((0,x.b)(({data:d})=>{d&&(this.store.dispatch((0,e.ob)({location:d.createLocation.location})),this.store.dispatch((0,e.l6)({location:d.createLocation.location})))}))}getLocations(h=0,d=25,q="name",m="asc",J=""){return this._apollo.query({query:T,errorPolicy:"all",variables:{page:h,size:d,sort:q,order:m,search:J}}).pipe((0,x.b)(({data:w})=>{w&&(this.store.dispatch((0,f.Jr)({pagination:w.findAllLocations.pagination})),this.store.dispatch((0,e.vB)({locations:w.findAllLocations.locations})))}))}findActiveLocations(h="",d=25){return this._apollo.query({query:p,variables:{search:h,size:d},errorPolicy:"all"}).pipe((0,L.U)(({data:q})=>q?q.findActiveLocations:[]),(0,x.b)(q=>{q&&this.store.dispatch((0,e.vB)({locations:q}))}))}getLocationById(h){return this._apollo.query({query:g,variables:{findLocationByIdId:h},errorPolicy:"all"}).pipe((0,x.b)(({data:d})=>{d&&this.store.dispatch((0,e.l6)({location:d.findLocationById.location}))}))}updateLocation(h){return this._apollo.mutate({mutation:y,variables:{updateLocationInput:h},errorPolicy:"all"}).pipe((0,x.b)(({data:d})=>{d&&(this.store.dispatch((0,e.YF)({location:d.updateLocation.location})),this.store.dispatch((0,e.l6)({location:d.updateLocation.location})))}))}updateLocationStatus(h){return this._apollo.mutate({mutation:r,variables:{updateEntityStatusInput:h},errorPolicy:"all"}).pipe((0,x.b)(({data:d})=>{d&&this.store.dispatch((0,e.TC)({id:h.id,active:h.active}))}))}removeLocation(h){return this._apollo.mutate({mutation:u,variables:{removeLocationId:h},errorPolicy:"all"}).pipe((0,x.b)(({data:d})=>{d&&this.store.dispatch((0,e.Mv)({id:h}))}))}static#e=this.\u0275fac=function(d){return new(d||b)(v.LFG(U._M),v.LFG(F.yh))};static#t=this.\u0275prov=v.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},48851:(j,R,l)=>{l.d(R,{N:()=>k});var x=l(19212),L=l(37398),e=l(99397),f=l(50967),U=l(84221),C=l(32193),y=l(97214);const r=f.Ps`
    query PaginatedRoles($page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedRoles(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

        ok,
        message,

        pagination {
            length
            size
            page
        },

        items {
            id,
            name,
            description,
            active,
            permissionsId
            isCoreRole
        }
        }
    }
`,u=f.Ps`
    query FindAllActiveRoles {
        findAllActiveRoles {
            id
            name
            description
            isCoreRole
        }
    }
`,T=f.Ps`
    query FindRoleById($roleId: String!) {
        findRoleById(id: $roleId ) {
            ok
            message

            role {
                id
                name
                description
                permissionsId
            }
        }
    }
`,p=f.Ps`
    mutation createRole($createRoleInput: CreateRoleInput!) {
        createRole(createRoleInput: $createRoleInput) {
            ok
            message

            role {
                id,
                name,
                description,
                active,
                permissionsId
            }
        }
    }
`,g=f.Ps`
    mutation UpdateRole($updateRoleInput: UpdateRoleInput!) {
        updateRole(updateRoleInput: $updateRoleInput) {
            ok
            message

            role {
                id,
                name,
                description,
                active,
                permissionsId
            }
        }
    }
`,v=f.Ps`
    mutation UpdateRoleStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateRoleStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,F=f.Ps`
    mutation paginatedRemoveRole($removeRoleById: String!,  $page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        paginatedRemoveRole(id: $removeRoleById, page: $page, size: $size, sort: $sort, order: $order, search: $search ) {

            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex,
            },

            items {
                id,
                name,

                description,
                active,
                permissionsId
            }
        }
    }
`;let k=(()=>{class b{constructor(){this.apolloProvider=(0,x.f3M)(f._M),this.store=(0,x.f3M)(U.yh),this._apollo=this.apolloProvider.use("BALANC")}createRole(h){return this._apollo.mutate({mutation:p,variables:{createRoleInput:h},errorPolicy:"all"}).pipe((0,L.U)(({data:d})=>d?d.createRole:null),(0,e.b)(d=>{d&&this.store.dispatch((0,C.fA)({role:d.role}))}))}findAllRoles(h=0,d=500,q="createdAt",m="asc",J=""){return this._apollo.query({query:r,errorPolicy:"all",variables:{page:h,size:d,sort:q,order:m,search:J}}).pipe((0,e.b)(({data:w})=>{w&&(this.store.dispatch((0,y.Jr)({pagination:w.paginatedRoles.pagination})),this.store.dispatch((0,C.Lk)({roles:w.paginatedRoles.items})))}))}findAllActiveRoles(){return this._apollo.query({query:u,errorPolicy:"all"}).pipe((0,L.U)(({data:h})=>h?h.findAllActiveRoles:null),(0,e.b)(h=>{h&&this.store.dispatch((0,C.Lk)({roles:h}))}))}findRoleById(h){return this._apollo.query({query:T,variables:{roleId:h},errorPolicy:"all"}).pipe((0,L.U)(({data:d})=>d?d.findRoleById:null),(0,e.b)(d=>{d&&this.store.dispatch((0,C.gD)({role:d.role}))}))}updateRole(h){return this._apollo.mutate({mutation:g,variables:{updateRoleInput:h},errorPolicy:"all"}).pipe((0,L.U)(({data:d})=>d?d.updateRole:null),(0,e.b)(d=>{d&&this.store.dispatch((0,C.ul)({role:d.role}))}))}updateRoleStatus(h){return this._apollo.mutate({mutation:v,variables:{updateEntityStatusInput:h},errorPolicy:"all"}).pipe((0,L.U)(({data:d})=>d?d.updateRoleStatus:null),(0,e.b)(d=>{d&&this.store.dispatch((0,C.cq)(h))}))}removeRole(h,d=0,q=500,m="name",J="desc",w=null){return this._apollo.mutate({mutation:F,variables:{removeRoleById:h,page:d,size:q,sort:m,order:J,search:w},errorPolicy:"all"}).pipe((0,e.b)(({data:S})=>{S&&(this.store.dispatch((0,y.Jr)({pagination:S.paginatedRemoveRole.pagination})),this.store.dispatch((0,C.Lk)({roles:S.paginatedRemoveRole.items})))}))}static#e=this.\u0275fac=function(d){return new(d||b)};static#t=this.\u0275prov=x.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()}}]);