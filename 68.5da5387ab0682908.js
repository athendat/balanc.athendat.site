"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[68],{88458:(x,A,n)=>{n.d(A,{L:()=>i});var t=n(56223);class i{static isEmptyInputValue(e){return null==e||0===e.length}static mustMatch(e,o){return r=>{const u=r.get(e),s=r.get(o);if(!u||!s||(s.hasError("mustMatch")&&(delete s.errors.mustMatch,s.updateValueAndValidity()),this.isEmptyInputValue(s.value)||u.value===s.value))return null;const l={mustMatch:"Las contrase\xf1a no coinciden."};return s.setErrors(l),l}}static notMustMatch(e,o){return r=>{const u=r.get(e),s=r.get(o);if(!u||!s||(s.hasError("notMustMatch")&&(delete s.errors.notMustMatch,s.updateValueAndValidity()),this.isEmptyInputValue(s.value)))return null;if(u.value===s.value){const l={notMustMatch:"no pueden coincidir."};return s.setErrors(l),l}return null}}static strongPassWord(e,o,r,u,s){return l=>{const m=l.value;if(!m)return null;const f=!e||/[A-Z]+/.test(m),Z=!o||/[a-z]+/.test(m),y=!r||/[0-9]+/.test(m),b=!u||!/^[a-zA-Z0-9]+$/.test(m);return f&&Z&&y&&b&&m.length>=s?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static onlyNumber(e){return o=>{const r=o.get(e);if(!r||(r.hasError("onlyNumber")&&(delete r.errors.mustMatch,r.updateValueAndValidity()),/^[a-zA-Z0-9]+$/.test(r.value.toString())))return null;const s={onlyNumber:"Solo se admiten n\xfameros."};return r.setErrors(s),s}}static strongPasWordPattern(){return t.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return t.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyIntegerPattern(){return t.kI.pattern("^[0-9]*$")}static onlyNumbersPattern(){return t.kI.pattern(/^[+-]?\d+(\.\d+)?$/)}static onlyAlphabetsWithAccentPattern(){return t.kI.pattern("^[a-zA-Z \xe1\xe9\xed\xf3\xfa\xf1\xfc]*$")}static onlyAlphabetsPattern(){return t.kI.pattern("^[a-zA-Z ]*$")}static futureDateValidator(){return e=>new Date(e.value)<=new Date?null:{futureDate:!0}}static validateIdNumber(){return e=>{if(!e)return null;let o=e.value;if(!o)return null;void 0!==e.value.idNumber&&(o=e.value.idNumber);const r=parseInt(o.substring(0,2),10),u=parseInt(o.substring(2,4),10)-1,s=parseInt(o.substring(4,6),10),l=new Date(r,u,s);if(l.getFullYear().toString().substring(2,4)===r.toString()&&l.getMonth()===u&&l.getDate()===s)return null;const f={validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"};return e.setErrors(f),f}}static validFullName(e){return o=>{const r=o.get(e);if(!r||!e||(r.hasError("validFullName")&&(delete r.errors.validFullName,r.updateValueAndValidity()),this._isEmptyInputValue(r.value))||r.value.trim().split(" ").length>1)return null;const u={validFullName:"El nombre completo deber\xe1 tener al menos un nombre y un apellido"};return r.setErrors(u),u}}static _isEmptyInputValue(e){return null==e||0===e.length}}},50068:(x,A,n)=>{n.r(A),n.d(A,{default:()=>k});var t=n(19212),i=n(56223),C=n(32296),e=n(64170),o=n(30617),r=n(24516),u=n(55940),s=n(64190),l=n(94748),m=n(54855),f=n(88458),Z=n(48180),y=n(64716);const b=["resetPasswordNgForm"];function P(a,c){1&a&&t._UZ(0,"mat-icon",26),2&a&&t.Q6J("svgIcon","mat_solid:visibility")}function F(a,c){1&a&&t._UZ(0,"mat-icon",26),2&a&&t.Q6J("svgIcon","mat_solid:visibility-off")}function I(a,c){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,' La contrase\xf1a deber\xe1 tener entre 8 y 20 caracteres e incluir may\xfasculas, min\xfasculas n\xfameros y s\xedmbolos como: ! " ? $ % ^ &. '),t.qZA())}function _(a,c){1&a&&t._UZ(0,"mat-icon",26),2&a&&t.Q6J("svgIcon","mat_solid:visibility")}function N(a,c){1&a&&t._UZ(0,"mat-icon",26),2&a&&t.Q6J("svgIcon","mat_solid:visibility-off")}function T(a,c){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," La confirmaci\xf3n de la contrase\xf1a es obligatoria "),t.qZA())}function M(a,c){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Las contrase\xf1as deben coincidir "),t.qZA())}function E(a,c){1&a&&(t.TgZ(0,"span"),t._uU(1," Restablecer contrase\xf1a "),t.qZA())}function R(a,c){1&a&&t._UZ(0,"mat-progress-spinner",23),2&a&&t.Q6J("diameter",24)("mode","indeterminate")}const U=()=>["/sign-in"],k=[{path:":forgotCode",component:(()=>{class a{constructor(){this._authService=(0,t.f3M)(m.e),this._formBuilder=(0,t.f3M)(i.qu),this._activatedRoute=(0,t.f3M)(s.gz),this._router=(0,t.f3M)(s.F0)}ngOnInit(){this._activatedRoute.params.pipe((0,Z.q)(1)).subscribe(w=>{this.forgotCode=w.forgotCode}),this.resetPasswordForm=this._formBuilder.group({password:["",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(100),f.L.strongPasWordPattern()]],passwordConfirm:["",i.kI.required]},{validators:f.L.mustMatch("password","passwordConfirm")})}resetPassword(){this.resetPasswordForm.invalid||(this.resetPasswordForm.disable(),this._authService.resetPassword(this.resetPasswordForm.get("password").value,this.forgotCode).pipe((0,y.x)(()=>{this.resetPasswordForm.enable(),this.resetPasswordNgForm.resetForm()})).subscribe(w=>{this._router.navigateByUrl("/sign-in")}))}static#t=this.\u0275fac=function(g){return new(g||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["auth-reset-password"]],viewQuery:function(g,d){if(1&g&&t.Gf(b,5),2&g){let p;t.iGM(p=t.CRH())&&(d.resetPasswordNgForm=p.first)}},inputs:{forgotCode:"forgotCode"},standalone:!0,features:[t.jDz],decls:46,vars:19,consts:[[1,"flex","flex-col","items-center","flex-auto","min-w-0","sm:flex-row","md:items-start","sm:justify-center","md:justify-start"],[1,"relative","items-center","justify-center","flex-auto","hidden","w-2/3","h-screen","p-16","overflow-hidden","bg-white","bg-cover","dark:bg-transparent","md:flex","lg:px-28","dark:border-r"],[1,"relative","z-10","w-2/3","dark:hidden"],["src","assets/images/illustrations/auth.svg","alt","Imagen de Inicio"],[1,"relative","z-10","hidden","w-2/3","dark:flex"],["src","assets/images/illustrations/auth-dark.svg","alt","Imagen de Inicio"],[1,"border-l","w-full","px-4","py-8","md:flex","md:items-center","md:justify-end","sm:w-auto","md:h-full","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","mx-auto","max-w-80","sm:w-80","sm:mx-0"],["src","assets/images/logo/logo-text.svg","alt","Logo image",1,"h-18","w-auto","dark:hidden","aspect-auto"],["src","assets/images/logo/logo-text-on-dark.svg","alt","Logo image",1,"h-18","w-auto","hidden","dark:flex","aspect-auto"],[1,"mt-8","text-4xl","font-extrabold","leading-tight","tracking-tight"],[1,"mt-0.5","font-medium"],[1,"mt-8",3,"formGroup"],["resetPasswordNgForm","ngForm"],[1,"w-full","fuse-mat-dense","mb-5",3,"subscriptSizing"],["id","password","matInput","","type","password","required","",3,"formControlName","minlength","maxlength"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-dense"],["id","password-confirm","matInput","","type","password",3,"formControlName"],["passwordConfirmField",""],["mat-flat-button","",1,"w-full","mt-3","fuse-mat-button-large",3,"color","disabled","click"],[3,"diameter","mode"],[1,"mt-8","font-medium","text-md","text-secondary"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"]],template:function(g,d){if(1&g){const p=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.qZA()(),t.TgZ(6,"div",6)(7,"div",7)(8,"div"),t._UZ(9,"img",8)(10,"img",9),t.qZA(),t.TgZ(11,"div",10),t._uU(12,"Restablezca su contrase\xf1a"),t.qZA(),t.TgZ(13,"div",11),t._uU(14,"Crea una nueva contrase\xf1a para tu cuenta"),t.qZA(),t.TgZ(15,"form",12,13)(17,"mat-form-field",14)(18,"mat-label"),t._uU(19,"Contrase\xf1a"),t.qZA(),t._UZ(20,"input",15,16),t.TgZ(22,"button",17),t.NdJ("click",function(){t.CHM(p);const h=t.MAs(21);return t.KtG(h.type="password"===h.type?"text":"password")}),t.YNc(23,P,1,1,"mat-icon",18)(24,F,1,1,"mat-icon",18),t.qZA(),t.TgZ(25,"mat-error"),t._uU(26," La contrase\xf1a es obligatoria "),t.qZA(),t.YNc(27,I,2,0,"mat-error"),t.qZA(),t.TgZ(28,"mat-form-field",19)(29,"mat-label"),t._uU(30,"Contrase\xf1a (Confirme)"),t.qZA(),t._UZ(31,"input",20,21),t.TgZ(33,"button",17),t.NdJ("click",function(){t.CHM(p);const h=t.MAs(32);return t.KtG(h.type="password"===h.type?"text":"password")}),t.YNc(34,_,1,1,"mat-icon",18)(35,N,1,1,"mat-icon",18),t.qZA(),t.YNc(36,T,2,0,"mat-error")(37,M,2,0,"mat-error"),t.qZA(),t.TgZ(38,"button",22),t.NdJ("click",function(){return d.resetPassword()}),t.YNc(39,E,2,0,"span")(40,R,1,2,"mat-progress-spinner",23),t.qZA(),t.TgZ(41,"div",24)(42,"span"),t._uU(43,"Regresar a"),t.qZA(),t.TgZ(44,"a",25),t._uU(45,"Iniciar Sesi\xf3n "),t.qZA()()()()()()}if(2&g){const p=t.MAs(21),v=t.MAs(32);t.xp6(15),t.Q6J("formGroup",d.resetPasswordForm),t.xp6(2),t.Q6J("subscriptSizing","dynamic"),t.xp6(3),t.Q6J("formControlName","password")("minlength",8)("maxlength",255),t.xp6(3),t.um2(23,"password"===p.type?23:-1),t.xp6(),t.um2(24,"text"===p.type?24:-1),t.xp6(3),t.um2(27,d.resetPasswordForm.get("password").hasError("pattern")||d.resetPasswordForm.get("password").hasError("minlength")?27:-1),t.xp6(4),t.Q6J("formControlName","passwordConfirm"),t.xp6(3),t.um2(34,"password"===v.type?34:-1),t.xp6(),t.um2(35,"text"===v.type?35:-1),t.xp6(),t.um2(36,d.resetPasswordForm.get("passwordConfirm").hasError("required")?36:-1),t.xp6(),t.um2(37,d.resetPasswordForm.get("passwordConfirm").hasError("mustMatch")?37:-1),t.xp6(),t.Q6J("color","primary")("disabled",d.resetPasswordForm.disabled),t.xp6(),t.um2(39,d.resetPasswordForm.disabled?-1:39),t.xp6(),t.um2(40,d.resetPasswordForm.disabled?40:-1),t.xp6(4),t.Q6J("routerLink",t.DdM(18,U))}},dependencies:[i.u5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.UX,i.sg,i.u,e.lN,e.KE,e.hX,e.TO,e.R9,r.c,r.Nt,C.ot,C.lW,C.RK,o.Ps,o.Hw,u.Cq,u.Ou,s.rH],encapsulation:2,data:{animation:l.L}})}return a})()}]}}]);