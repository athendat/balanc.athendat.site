"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[7735],{40779:(M,Z,i)=>{i.d(Z,{B:()=>rt});var n=i(56223),p=i(13566),U=i(22096),f=i(78645),x=i(63019),C=i(59773),_=i(83620),F=i(94664),T=i(37398),B=i(33355),S=i(17700),J=i(55497),E=i(42090),L=i(32296),P=i(23680),b=i(98525),D=i(24516),y=i(64170),t=i(19212),Q=i(56278),m=i(61942),d=i(22939),u=i(84221);function g(e,c){1&e&&(t.TgZ(0,"h2",7),t._uU(1," Agregar Unidad de Medida "),t.qZA())}function v(e,c){1&e&&(t.TgZ(0,"h2",7),t._uU(1," Editar Unidad de Medida "),t.qZA())}function l(e,c){if(1&e&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),t._uU(6,"Nombre"),t.qZA(),t.TgZ(7,"span",14),t._uU(8),t.qZA()()()()()()),2&e){const o=t.oxw();t.xp6(8),t.Oqu(o.data.uom.name||"Sin nombre")}}function h(e,c){if(1&e&&(t.TgZ(0,"div",15)(1,"div",16)(2,"form",17)(3,"div",18)(4,"mat-form-field",19)(5,"mat-label"),t._uU(6,"Nombre"),t.qZA(),t._UZ(7,"input",20),t.qZA()(),t.TgZ(8,"div",18)(9,"mat-form-field",19)(10,"mat-label"),t._uU(11,"Sigla"),t.qZA(),t._UZ(12,"input",20),t.qZA()(),t.TgZ(13,"div",18)(14,"mat-form-field",19)(15,"mat-label"),t._uU(16,"Tipo"),t.qZA(),t.TgZ(17,"mat-select",21)(18,"mat-option",22),t._uU(19,"\xc1rea"),t.qZA(),t.TgZ(20,"mat-option",22),t._uU(21,"Conteo"),t.qZA(),t.TgZ(22,"mat-option",22),t._uU(23,"Energ\xeda"),t.qZA(),t.TgZ(24,"mat-option",22),t._uU(25,"Longitud"),t.qZA(),t.TgZ(26,"mat-option",22),t._uU(27,"Peso"),t.qZA(),t.TgZ(28,"mat-option",22),t._uU(29,"Volumen"),t.qZA()()()()()()()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.uomForm)("autocomplete","off"),t.xp6(5),t.Q6J("formControlName","name")("placeholder","Nombre del Unidad de Medida"),t.xp6(5),t.Q6J("formControlName","abbr")("placeholder","Siglas"),t.xp6(5),t.Q6J("formControlName","type"),t.xp6(),t.Q6J("value","area"),t.xp6(2),t.Q6J("value","conteo"),t.xp6(2),t.Q6J("value","energ\xeda"),t.xp6(2),t.Q6J("value","longitud"),t.xp6(2),t.Q6J("value","peso"),t.xp6(2),t.Q6J("value","volumen")}}function A(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.updateUom())}),t._uU(1," Actualizar "),t.qZA()}if(2&e){const o=t.oxw(2);t.Q6J("color","primary")("disabled",o.uomForm.invalid)("matDialogClose","confirmed")}}function $(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.createUom())}),t._uU(1," Agregar "),t.qZA()}if(2&e){const o=t.oxw(2);t.Q6J("color","primary")("disabled",o.uomForm.invalid)("matDialogClose","confirmed")}}function R(e,c){if(1&e&&(t.TgZ(0,"div",23),t.ynx(1),t.TgZ(2,"button",24),t._uU(3," Cancelar "),t.qZA(),t.BQk(),t.YNc(4,A,2,3,"button",25)(5,$,2,3,"button",25),t.qZA()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("matDialogClose","cancelled"),t.xp6(2),t.um2(4,"edit"===o.data.dialogMode?4:-1),t.xp6(),t.um2(5,"add"===o.data.dialogMode?5:-1)}}let q=(()=>{class e{constructor(o,a,s,r,I,k,N,lt){this.data=o,this._changeDetectorRef=a,this._formBuilder=s,this._fuseConfirmationService=r,this._dialogRef=I,this._uomService=k,this._snackBar=N,this.store=lt,this.dialogMode="view",this._unsubscribeAll=new f.x,this.dialogMode=o.dialogMode,this.uom=o.uom}ngOnInit(){this.uomForm=this._formBuilder.group({id:[null],name:[null,[n.kI.required,n.kI.minLength(3),n.kI.maxLength(255)]],abbr:[null,[n.kI.required,n.kI.maxLength(255)]],type:[null,[n.kI.required,n.kI.minLength(3),n.kI.maxLength(255)]]}),"edit"===this.dialogMode&&this.uomForm.patchValue(this.uom)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDialog(){this._dialogRef.close()}createUom(){let o=this.uomForm.getRawValue();o=(0,J.Z)(o,["id"]),this._fuseConfirmationService.open({title:"Crear Unidad de Medida",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(s=>{"confirmed"===s&&this._uomService.createUom(o).subscribe(({data:r})=>{this._snackBar.openFromComponent(E.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.createUom.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})}),this._changeDetectorRef.markForCheck()})}updateUom(){const o=this.uomForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Unidad de Medida",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"mat_solid:question_mark",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(s=>{"confirmed"===s&&this._uomService.updateUom(o).subscribe(({data:r})=>{this._snackBar.openFromComponent(E.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.updateUom.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}})}),this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(S.WI),t.Y36(t.sBO),t.Y36(n.QS),t.Y36(Q.R),t.Y36(S.so),t.Y36(m.c),t.Y36(d.ux),t.Y36(u.yh))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["lists-uom-dialog"]],standalone:!0,features:[t.jDz],decls:11,vars:5,consts:[[1,"relative","flex","flex-col","w-full","max-h-screenl"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto"],["class","w-full overflow-hidden"],["class","flex items-center justify-center px-6 py-4 space-x-3 sm:justify-end bg-gray-50 dark:bg-black dark:bg-opacity-10"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],[1,"py-5"],[1,"w-full"],["matInput","","type","text","required","","maxlength","250",3,"formControlName","placeholder"],["required","",3,"formControlName"],[3,"value"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose"],["mat-flat-button","",3,"color","disabled","matDialogClose","click"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1),t.YNc(3,g,2,0,"h2",2)(4,v,2,0,"h2",2),t.qZA(),t.BQk(),t.TgZ(5,"div",3),t.ynx(6),t.YNc(7,l,9,1,"div",4),t.BQk(),t.ynx(8),t.YNc(9,h,30,13,"div",5),t.BQk(),t.qZA(),t.YNc(10,R,6,3,"div",6),t.qZA()),2&a&&(t.xp6(3),t.um2(3,"add"===s.data.dialogMode?3:-1),t.xp6(),t.um2(4,"edit"===s.data.dialogMode?4:-1),t.xp6(3),t.um2(7,"view"===s.data.dialogMode?7:-1),t.xp6(2),t.um2(9,9),t.xp6(),t.um2(10,"view"!==s.data.dialogMode?10:-1))},dependencies:[n.u5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.nD,n.UX,n.sg,n.u,y.lN,y.KE,y.hX,D.c,D.Nt,b.LD,b.gD,P.ey,P.Ng,L.ot,L.lW,S.ZT],encapsulation:2})}return e})();class j{}var w=i(21476),G=i(83604),z=i(82599),Y=i(55940),H=i(96814),O=i(30617),K=i(64190);const W=(e,c)=>c.id;function V(e,c){1&e&&(t._uU(0," m"),t.TgZ(1,"sup"),t._uU(2,"3"),t.qZA())}function X(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"mat-slide-toggle",31),t.NdJ("change",function(s){t.CHM(o);const r=t.oxw(),I=r.$implicit,k=r.$index,N=t.oxw(4);return t.KtG(N.updateUomStatus(s,I,k))}),t.qZA()}if(2&e){const o=t.oxw().$implicit;t.Q6J("checked",o.active)("color","primary")}}function tt(e,c){1&e&&t._UZ(0,"mat-spinner",28),2&e&&t.Q6J("diameter",20)("color","primary")}function ot(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"div",24)(1,"div",25),t._uU(2),t.qZA(),t.TgZ(3,"div",22),t._uU(4),t.YNc(5,V,3,0,"sup"),t.qZA(),t.TgZ(6,"div",22),t._uU(7),t.qZA(),t.TgZ(8,"div",26),t.YNc(9,X,1,2,"mat-slide-toggle",27)(10,tt,1,2,"mat-spinner",28),t.qZA(),t.TgZ(11,"div",26)(12,"button",29),t.NdJ("click",function(){const r=t.CHM(o).$implicit,I=t.oxw(4);return t.KtG(I.updateUom(r))}),t._UZ(13,"mat-icon",30),t.qZA()()()}if(2&e){const o=c.$implicit,a=c.$index,s=t.oxw(4);t.xp6(2),t.hij(" ",o.name," "),t.xp6(2),t.hij(" ","m3"===o.abbr?"":o.abbr," "),t.xp6(),t.um2(5,"m3"===o.abbr?5:-1),t.xp6(2),t.hij(" ",o.type," "),t.xp6(2),t.um2(9,s.isSlideLoading&&s.selectedSlide===a?-1:9),t.xp6(),t.um2(10,s.isSlideLoading&&s.selectedSlide===a?10:-1),t.xp6(3),t.Q6J("svgIcon","mat_solid:edit")}}function et(e,c){1&e&&t.SjG(0,ot,14,7,"div",32,W),2&e&&t.wJu(c)}const it=()=>[5,10,25,100];function nt(e,c){if(1&e&&(t.TgZ(0,"div",19)(1,"div",20)(2,"div",21),t._uU(3,"Nombre"),t.qZA(),t.TgZ(4,"div",22),t._uU(5," Siglas "),t.qZA(),t.TgZ(6,"div",22),t._uU(7," Tipo "),t.qZA(),t.TgZ(8,"div",22),t._uU(9," Activo "),t.qZA(),t.TgZ(10,"div",22),t._uU(11,"Detalles"),t.qZA()(),t.YNc(12,et,2,0),t.ALo(13,"async"),t.qZA(),t._UZ(14,"mat-paginator",23)),2&e){const o=t.oxw(2);let a;t.xp6(2),t.Q6J("mat-sort-header","name"),t.xp6(10),t.um2(12,(a=t.lcZ(13,7,o.uoms$))?12:-1,a),t.xp6(2),t.Q6J("length",o.pagination.length)("pageIndex",o.pagination.page)("pageSize",o.pagination.size)("pageSizeOptions",t.DdM(9,it))("showFirstLastButtons",!0)}}function at(e,c){1&e&&(t.TgZ(0,"div",33),t._uU(1,"\xa1No se ha creado ninguna unidad de medida!"),t.qZA())}function st(e,c){1&e&&t.YNc(0,nt,15,10)(1,at,2,0),2&e&&t.um2(0,c.length>0?0:1)}let rt=(()=>{class e{constructor(o,a,s,r,I,k){this._changeDetectorRef=o,this._dialog=a,this._fuseConfirmationService=s,this._uomService=r,this._snackBar=I,this.store=k,this.uoms$=(0,U.of)([]),this.searchInputControl=new n.NI,this.isLoading=!1,this.isSlideLoading=!1,this.selectedSlide=null,this._unsubscribeAll=new f.x}ngOnInit(){this.uoms$=this.store.select(B.av),this.store.select(G.B).pipe((0,C.R)(this._unsubscribeAll)).subscribe(o=>{this.pagination=o,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,C.R)(this._unsubscribeAll),(0,_.b)(300),(0,F.w)(o=>(this.isLoading=!0,this._uomService.getUoms(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction,o))),(0,T.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,C.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,x.T)(this._sort.sortChange,this._paginator.page).pipe((0,F.w)(()=>(this.isLoading=!0,this._uomService.getUoms(this._paginator.pageIndex+1,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,T.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createUom(){this._openDialog(new j,"add")}updateUom(o){this._openDialog(o,"edit")}updateUomStatus(o,a,s){this.isSlideLoading=!0,this.selectedSlide=s,this._uomService.updateUomStatus({id:a.id,active:o.checked}).subscribe(({data:r})=>{this._snackBar.openFromComponent(E.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.updateUomStatus.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isSlideLoading=!1,this.selectedSlide=null,this._changeDetectorRef.markForCheck()})}trackByFn(o,a){return o||a.id}_openDialog(o,a){this._dialog.open(q,{data:{uom:o,dialogMode:a},panelClass:"ath-dialog-panel"})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(t.sBO),t.Y36(S.uw),t.Y36(Q.R),t.Y36(m.c),t.Y36(d.ux),t.Y36(u.yh))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["lists-uom"]],viewQuery:function(a,s){if(1&a&&(t.Gf(w.NW,5),t.Gf(p.YE,5)),2&a){let r;t.iGM(r=t.CRH())&&(s._paginator=r.first),t.iGM(r=t.CRH())&&(s._sort=r.first)}},standalone:!0,features:[t.jDz],decls:30,vars:11,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/dashboard",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","gap-2","mt-6","shrink-0","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"text-white","bg-gradient-to-r","from-primary-500","to-primary-700",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-auto","sm:mb-18"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","uom-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-slate-900"],[3,"mat-sort-header"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","uom-grid","md:px-8"],[1,"truncate"],[1,"flex","justify-center"],[3,"checked","color"],[3,"diameter","color"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],["class","grid items-center gap-4 px-6 py-3 border-b uom-grid md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(a,s){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t._uU(6,"Inicio"),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"mat-icon",6),t.TgZ(9,"a",7),t._uU(10,"Almac\xe9n"),t.qZA()(),t.TgZ(11,"div",5),t._UZ(12,"mat-icon",6),t.TgZ(13,"a",7),t._uU(14,"Unidades de Medida"),t.qZA()()(),t.TgZ(15,"div",8)(16,"h2",9),t._uU(17," Unidades de Medida "),t.qZA()()(),t.TgZ(18,"div",10)(19,"mat-form-field",11),t._UZ(20,"mat-icon",12)(21,"input",13),t.qZA(),t.TgZ(22,"button",14),t.NdJ("click",function(){return s.createUom()}),t._UZ(23,"mat-icon",15),t.TgZ(24,"span",16),t._uU(25,"Agregar"),t.qZA()()()(),t.TgZ(26,"div",17)(27,"div",18),t.YNc(28,st,2,1),t.ALo(29,"async"),t.qZA()()()),2&a){let r;t.xp6(8),t.Q6J("svgIcon","mat_solid:chevron_right"),t.xp6(4),t.Q6J("svgIcon","mat_solid:chevron_right"),t.xp6(7),t.Q6J("subscriptSizing","dynamic"),t.xp6(),t.Q6J("svgIcon","mat_solid:search"),t.xp6(),t.Q6J("formControl",s.searchInputControl)("autocomplete","off")("placeholder","Buscar unidades"),t.xp6(2),t.Q6J("svgIcon","mat_solid:add"),t.xp6(5),t.um2(28,(r=t.lcZ(29,9,s.uoms$))?28:-1,r)}},dependencies:[H.Ov,n.u5,n.Fj,n.JJ,L.ot,L.lW,y.lN,y.KE,y.qo,O.Ps,O.Hw,D.c,D.Nt,w.TU,w.NW,Y.Cq,Y.Ou,z.rP,z.Rr,p.JX,p.YE,p.nU,n.UX,n.oH,K.rH],styles:[".uom-grid{grid-template-columns:auto 70px 150px 72px 72px}\n"],encapsulation:2,changeDetection:0})}return e})()},85194:(M,Z,i)=>{i.d(Z,{d:()=>U});var n=i(19212),p=i(61942);let U=(()=>{class f{constructor(C){this._uomService=C}resolve(C,_){return this._uomService.getUoms()}static#t=this.\u0275fac=function(_){return new(_||f)(n.LFG(p.c))};static#o=this.\u0275prov=n.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},33355:(M,Z,i)=>{i.d(Z,{av:()=>f});var n=i(84221);const p=x=>x.uoms,f=((0,n.P1)(p,x=>x.uom),(0,n.P1)(p,x=>x.uoms))},61942:(M,Z,i)=>{i.d(Z,{c:()=>y});var n=i(19212),p=i(50967),U=i(48180),f=i(94664),x=i(99397),C=i(84221),_=i(46053),F=i(97214),T=i(33355);const B=p.Ps`
    mutation CreateUom($createUomInput: CreateUomInput!) {
        createUom(createUomInput: $createUomInput) {

            ok
            message

            uom {
                id
                active
                name
                abbr
                type
            }

        }
    }
`,S=p.Ps`
    mutation UpdateUom($updateUomInput: UpdateUomInput!) {
        updateUom(updateUomInput: $updateUomInput) {
            ok
            message

            uom {
                id
                active
                name
                abbr
                type
            }
        }
    }
`,J=p.Ps`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateUomStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }

    }
`,E=p.Ps`
    mutation RemoveUom($removeUomId: String!) {
        removeUom(id: $removeUomId) {
            ok
            message
        }
    }
`,L=p.Ps`
    query FindAllUoms($offset: Int, $limit: Int, $sort: String, $order: Order, $search: String) {
        findAllUoms(offset: $offset, limit: $limit, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length
                size
                page
            }

            uoms {
                id
                active
                name
                abbr
                type
            }
        }
    }
`,P=p.Ps`
    query FindUomById($findUomByIdId: String!) {
        findUomById(id: $findUomByIdId) {
            ok
            message

            uom {
                id
                active
                name
                abbr
                type
            }
        }
    }
`;var b=i(42090),D=i(22939);let y=(()=>{class t{constructor(m){this._snackBar=m,this.apolloProvider=(0,n.f3M)(p._M),this.store=(0,n.f3M)(C.yh),this._apollo=this.apolloProvider.use("BALANC")}createUom(m){return this.store.select(T.av).pipe((0,U.q)(1),(0,f.w)(d=>this._apollo.mutate({mutation:B,variables:{createUomInput:m},errorPolicy:"all"}).pipe((0,x.b)(({errors:u,data:g})=>{if(u){let l="";u.forEach(h=>l+=`\n ${h.message}.`),this._snackBar.openFromComponent(b.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:l,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const v=structuredClone(d);v.push(g.createUom.uom),this.store.dispatch((0,_.u8)({uoms:v}))}))))}getUoms(m=1,d=20,u="code",g="asc",v=""){return this._apollo.query({query:L,errorPolicy:"all",variables:{offset:d*(m-1),limit:d,sort:u,order:g,search:v}}).pipe((0,x.b)(({errors:l,data:h})=>{if(l){let A="";l.forEach($=>A+=`\n ${$.message}.`),this._snackBar.openFromComponent(b.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:A,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}this.store.dispatch((0,F.Jr)({pagination:h.findAllUoms.pagination})),this.store.dispatch((0,_.u8)({uoms:h.findAllUoms.uoms}))}))}getUomById(m){return this._apollo.query({query:P,variables:{findUomByIdId:m},errorPolicy:"all"}).pipe((0,x.b)(({errors:d,data:u})=>{if(d){let g="";d.forEach(v=>g+=`\n ${v.message}.`),this._snackBar.openFromComponent(b.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:g,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}this.store.dispatch((0,_.sh)({uom:u.findUomById.uom}))}))}updateUom(m){return this.store.select(T.av).pipe((0,U.q)(1),(0,f.w)(d=>this._apollo.mutate({mutation:S,variables:{updateUomInput:m},errorPolicy:"all"}).pipe((0,x.b)(({errors:u,data:g})=>{if(u){let h="";u.forEach(A=>h+=`\n ${A.message}.`),this._snackBar.openFromComponent(b.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:h,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const v=structuredClone(d);v[d.findIndex(h=>h.id===m.id)]=g.updateUom.uom,this.store.dispatch((0,_.u8)({uoms:v}))}))))}updateUomStatus(m){return this.store.select(T.av).pipe((0,U.q)(1),(0,f.w)(d=>this._apollo.mutate({mutation:J,variables:{updateEntityStatusInput:m},errorPolicy:"all"}).pipe((0,x.b)(({errors:u})=>{if(u){let l="";u.forEach(h=>l+=`\n ${h.message}.`),this._snackBar.openFromComponent(b.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:l,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const g=structuredClone(d);g[d.findIndex(l=>l.id===m.id)].active=m.active,this.store.dispatch((0,_.u8)({uoms:g}))}))))}removeUom(m){return this.store.select(T.av).pipe((0,U.q)(1),(0,f.w)(d=>this._apollo.mutate({mutation:E,variables:{removeUomId:m},errorPolicy:"all"}).pipe((0,x.b)(({errors:u})=>{if(u){let l="";u.forEach(h=>l+=`\n ${h.message}.`),this._snackBar.openFromComponent(b.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:1e4,data:{message:l,title:"Error",type:"error",svgIcon:"mat_solid:error"}})}const g=structuredClone(d),v=d.findIndex(l=>l.id===m);g.splice(v,1),this.store.dispatch((0,_.u8)({uoms:g}))}))))}static#t=this.\u0275fac=function(d){return new(d||t)(n.LFG(D.ux))};static#o=this.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);