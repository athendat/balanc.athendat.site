"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[9344],{9427:(L,N,u)=>{u.d(N,{t:()=>y,x:()=>m});var f=u(19212),s=u(46482);const m=(p,x)=>(0,f.f3M)(s.t).getCurrencies(),y=(p,x)=>(0,f.f3M)(s.t).getActiveCurrency()},21510:(L,N,u)=>{u.d(N,{zd:()=>y});var f=u(84221);const s=p=>p.currencies,y=((0,f.P1)(s,p=>p.currency),(0,f.P1)(s,p=>p.currencies))},46482:(L,N,u)=>{u.d(N,{t:()=>k});var f=u(19212),s=u(48180),m=u(94664),y=u(99397),p=u(50967),x=u(84221),i=u(97214),E=u(20997),I=u(21510);const B=p.Ps`
    mutation CreateCurrency($createCurrencyInput: CreateCurrencyInput!) {
        createCurrency(createCurrencyInput: $createCurrencyInput) {

            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }

        }
    }
`,S=p.Ps`
mutation UpdateCurrency($updateCurrencyInput: UpdateCurrencyInput!) {
    updateCurrency(updateCurrencyInput: $updateCurrencyInput) {
        ok
        message

        currency {
            id
            active
            name
            iso
            symbol
        }
    }
}
`,O=p.Ps`
    mutation Mutation($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateCurrencyStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok
            message
        }
    }
`,M=p.Ps`
mutation RemoveCurrency($removeCurrencyId: String!) {
    removeCurrency(id: $removeCurrencyId) {
        ok,
        message
    }
}
`,R=p.Ps`
    query FindAllCurrencies($offset: Int, $limit: Int, $sort: String, $order: Order, $search: String) {
        findAllCurrencies(offset: $offset, limit: $limit, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length
                size
                page
            }

            currencies {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`,b=p.Ps`
    query FindAllActiveCurrencies {
        findAllActiveCurrencies {
            ok
            message

            currencies {
                id
                name
                iso
            }
        }
    }
`,U=p.Ps`
    query FindCurrencyById($findCurrencyByIdId: String!) {
        findCurrencyById(id: $findCurrencyByIdId) {
            ok
            message

            currency {
                id
                active
                name
                iso
                symbol
            }
        }
    }
`;let k=(()=>{class P{constructor(){this.apolloProvider=(0,f.f3M)(p._M),this.store=(0,f.f3M)(x.yh),this._apollo=this.apolloProvider.use("BALANC")}createCurrency(g){return this.store.select(I.zd).pipe((0,s.q)(1),(0,m.w)(n=>this._apollo.mutate({mutation:B,variables:{createCurrencyInput:g},errorPolicy:"all"}).pipe((0,y.b)(({data:l})=>{const r=structuredClone(n);r.push(l.createCurrency.currency),this.store.dispatch((0,E.HC)({currencies:r}))}))))}getCurrencies(g=1,n=20,l="name",r="asc",d=""){return this._apollo.query({query:R,variables:{offset:n*(g-1),limit:n,sort:l,order:r,search:d},errorPolicy:"all"}).pipe((0,y.b)(({data:h})=>{this.store.dispatch((0,i.Jr)({pagination:h.findAllCurrencies.pagination})),this.store.dispatch((0,E.HC)({currencies:h.findAllCurrencies.currencies}))}))}getActiveCurrency(){return this._apollo.query({query:b,errorPolicy:"all"}).pipe((0,y.b)(({data:g})=>{g&&this.store.dispatch((0,E.HC)({currencies:g.findAllActiveCurrencies.currencies}))}))}getCurrencyById(g){return this._apollo.query({query:U,variables:{findCurrencyByIdId:g},errorPolicy:"all"}).pipe((0,y.b)(({data:n})=>{this.store.dispatch((0,E.NW)({currency:n.findCurrencyById.currency}))}))}updateCurrency(g){return this.store.select(I.zd).pipe((0,s.q)(1),(0,m.w)(n=>this._apollo.mutate({mutation:S,variables:{updateCurrencyInput:g},errorPolicy:"all"}).pipe((0,y.b)(({data:l})=>{const r=structuredClone(n);r[n.findIndex(h=>h.id===g.id)]=l.updateCurrency.currency,this.store.dispatch((0,E.HC)({currencies:r}))}))))}updateCurrencyStatus(g){return this.store.select(I.zd).pipe((0,s.q)(1),(0,m.w)(n=>this._apollo.mutate({mutation:O,variables:{updateEntityStatusInput:g},errorPolicy:"all"}).pipe((0,y.b)(({})=>{const r=structuredClone(n);r[n.findIndex(h=>h.id===g.id)].active=g.active,this.store.dispatch((0,E.HC)({currencies:r}))}))))}removeCurrency(g){return this.store.select(I.zd).pipe((0,s.q)(1),(0,m.w)(n=>this._apollo.mutate({mutation:M,variables:{removeCurrencyId:g},errorPolicy:"all"}).pipe((0,y.b)(({})=>{const r=structuredClone(n),d=n.findIndex(h=>h.id===g);r.splice(d,1),this.store.dispatch((0,E.HC)({currencies:r}))}))))}static#e=this.\u0275fac=function(n){return new(n||P)};static#t=this.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},41894:(L,N,u)=>{u.d(N,{C2:()=>B,HI:()=>O,Hs:()=>l,Ud:()=>T,XJ:()=>D,Xx:()=>h,_0:()=>n,cu:()=>M,nZ:()=>H,rO:()=>b});var f=u(78337),s=u(78645),m=u(65619),y=u(2664),p=u(22096),x=u(59773),i=u(19212),E=u(49388);class I{constructor(){this.expansionModel=new f.Ov(!0)}toggle(a){this.expansionModel.toggle(this._trackByValue(a))}expand(a){this.expansionModel.select(this._trackByValue(a))}collapse(a){this.expansionModel.deselect(this._trackByValue(a))}isExpanded(a){return this.expansionModel.isSelected(this._trackByValue(a))}toggleDescendants(a){this.expansionModel.isSelected(this._trackByValue(a))?this.collapseDescendants(a):this.expandDescendants(a)}collapseAll(){this.expansionModel.clear()}expandDescendants(a){let e=[a];e.push(...this.getDescendants(a)),this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}collapseDescendants(a){let e=[a];e.push(...this.getDescendants(a)),this.expansionModel.deselect(...e.map(t=>this._trackByValue(t)))}_trackByValue(a){return this.trackBy?this.trackBy(a):a}}class B extends I{constructor(a,e,t){super(),this.getLevel=a,this.isExpandable=e,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(a){const t=[];for(let c=this.dataNodes.indexOf(a)+1;c<this.dataNodes.length&&this.getLevel(a)<this.getLevel(this.dataNodes[c]);c++)t.push(this.dataNodes[c]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(a=>this._trackByValue(a)))}}const O=new i.OlP("CDK_TREE_NODE_OUTLET_NODE");let M=(()=>{class o{constructor(e,t){this.viewContainer=e,this._node=t}static#e=this.\u0275fac=function(t){return new(t||o)(i.Y36(i.s_b),i.Y36(O,8))};static#t=this.\u0275dir=i.lG2({type:o,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}return o})();class R{constructor(a){this.$implicit=a}}let b=(()=>{class o{constructor(e){this.template=e}static#e=this.\u0275fac=function(t){return new(t||o)(i.Y36(i.Rgc))};static#t=this.\u0275dir=i.lG2({type:o,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[i.lbL.None,"cdkTreeNodeDefWhen","when"]},standalone:!0})}return o})(),n=(()=>{class o{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._onDestroy=new s.x,this._levels=new Map,this.viewChange=new m.X({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(t=>!t.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;(0,f.Z9)(this._dataSource)?e=this._dataSource.connect(this):(0,y.b)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=(0,p.of)(this._dataSource)),e&&(this._dataSubscription=e.pipe((0,x.R)(this._onDestroy)).subscribe(t=>this.renderNodeChanges(t)))}renderNodeChanges(e,t=this._dataDiffer,c=this._nodeOutlet.viewContainer,_){const C=t.diff(e);C&&(C.forEachOperation((A,F,w)=>{if(null==A.previousIndex)this.insertNode(e[w],w,c,_);else if(null==w)c.remove(F),this._levels.delete(A.item);else{const $=c.get(F);c.move($,w)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(_=>_.when&&_.when(t,e))||this._defaultNodeDef}insertNode(e,t,c,_){const C=this._getNodeDef(e,t),A=new R(e);A.level=this.treeControl.getLevel?this.treeControl.getLevel(e):typeof _<"u"&&this._levels.has(_)?this._levels.get(_)+1:0,this._levels.set(e,A.level),(c||this._nodeOutlet.viewContainer).createEmbeddedView(C.template,A,t),l.mostRecentTreeNode&&(l.mostRecentTreeNode.data=e)}static#e=this.\u0275fac=function(t){return new(t||o)(i.Y36(i.ZZ4),i.Y36(i.sBO))};static#t=this.\u0275cmp=i.Xpm({type:o,selectors:[["cdk-tree"]],contentQueries:function(t,c,_){if(1&t&&i.Suo(_,b,5),2&t){let C;i.iGM(C=i.CRH())&&(c._nodeDefs=C)}},viewQuery:function(t,c){if(1&t&&i.Gf(M,7),2&t){let _;i.iGM(_=i.CRH())&&(c._nodeOutlet=_.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[i.jDz],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,c){1&t&&i.GkF(0,0)},dependencies:[M],encapsulation:2})}return o})(),l=(()=>{class o{get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}static#e=this.mostRecentTreeNode=null;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(e,t){this._elementRef=e,this._tree=t,this._destroyed=new s.x,this._dataChanges=new s.x,o.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function r(o){let a=o.parentElement;for(;a&&!d(a);)a=a.parentElement;return a?a.classList.contains("cdk-nested-tree-node")?(0,i.Cb_)(a.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){o.mostRecentTreeNode===this&&(o.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static#t=this.\u0275fac=function(t){return new(t||o)(i.Y36(i.SBq),i.Y36(n))};static#n=this.\u0275dir=i.lG2({type:o,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(t,c){2&t&&i.uIk("aria-expanded",c.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0})}return o})();function d(o){const a=o.classList;return!(!a?.contains("cdk-nested-tree-node")&&!a?.contains("cdk-tree"))}let h=(()=>{class o extends l{constructor(e,t,c){super(e,t),this._differs=c}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):(0,y.b)(e)&&e.pipe((0,x.R)(this._destroyed)).subscribe(t=>this.updateChildrenNodes(t)),this.nodeOutlet.changes.pipe((0,x.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const t=this._getNodeOutlet();e&&(this._children=e),t&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,t.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(t=>!t._node||t._node===this)}static#e=this.\u0275fac=function(t){return new(t||o)(i.Y36(i.SBq),i.Y36(n),i.Y36(i.ZZ4))};static#t=this.\u0275dir=i.lG2({type:o,selectors:[["cdk-nested-tree-node"]],contentQueries:function(t,c,_){if(1&t&&i.Suo(_,M,5),2&t){let C;i.iGM(C=i.CRH())&&(c.nodeOutlet=C)}},hostAttrs:[1,"cdk-nested-tree-node"],exportAs:["cdkNestedTreeNode"],standalone:!0,features:[i._Bn([{provide:l,useExisting:o},{provide:O,useExisting:o}]),i.qOj]})}return o})();const v=/([A-Za-z%]+)$/;let D=(()=>{class o{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}constructor(e,t,c,_){this._treeNode=e,this._tree=t,this._element=c,this._dir=_,this._destroyed=new s.x,this.indentUnits="px",this._indent=40,this._setPadding(),_&&_.change.pipe((0,x.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const e=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,t=null==this._level?e:this._level;return"number"==typeof t?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){const t=this._paddingIndent();if(t!==this._currentPadding||e){const c=this._element.nativeElement,_=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",C="paddingLeft"===_?"paddingRight":"paddingLeft";c.style[_]=t||"",c.style[C]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,c="px";if("string"==typeof e){const _=e.split(v);t=_[0],c=_[1]||c}this.indentUnits=c,this._indent=(0,i.Cb_)(t),this._setPadding()}static#e=this.\u0275fac=function(t){return new(t||o)(i.Y36(l),i.Y36(n),i.Y36(i.SBq),i.Y36(E.Is,8))};static#t=this.\u0275dir=i.lG2({type:o,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[i.lbL.HasDecoratorInputTransform,"cdkTreeNodePadding","level",i.Cb_],indent:[i.lbL.None,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[i.Xq5]})}return o})(),T=(()=>{class o{constructor(e,t){this._tree=e,this._treeNode=t,this.recursive=!1}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}static#e=this.\u0275fac=function(t){return new(t||o)(i.Y36(n),i.Y36(l))};static#t=this.\u0275dir=i.lG2({type:o,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,c){1&t&&i.NdJ("click",function(C){return c._toggle(C)})},inputs:{recursive:[i.lbL.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",i.VuI]},standalone:!0,features:[i.Xq5]})}return o})(),H=(()=>{class o{static#e=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275mod=i.oAB({type:o});static#n=this.\u0275inj=i.cJS({})}return o})()},98445:(L,N,u)=>{u.d(N,{JZ:()=>P,ah:()=>O,dp:()=>k,eu:()=>b,fQ:()=>B,gi:()=>R,kc:()=>Y,uo:()=>I});var f=u(41894),s=u(19212),m=u(23680),y=u(78337),p=u(65619),x=u(63019),i=u(48180),E=u(37398);let I=(()=>{class n extends f.Hs{constructor(r,d,h){super(r,d),this.disabled=!1,this.tabIndex=Number(h)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(d){return new(d||n)(s.Y36(s.SBq),s.Y36(f._0),s.$8M("tabindex"))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{disabled:[s.lbL.HasDecoratorInputTransform,"disabled","disabled",s.VuI],tabIndex:[s.lbL.HasDecoratorInputTransform,"tabIndex","tabIndex",r=>null==r?0:(0,s.Cb_)(r)]},exportAs:["matTreeNode"],standalone:!0,features:[s._Bn([{provide:f.Hs,useExisting:n}]),s.Xq5,s.qOj]})}return n})(),B=(()=>{class n extends f.rO{static#e=this.\u0275fac=(()=>{let r;return function(h){return(r||(r=s.n5z(n)))(h||n)}})();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:[s.lbL.None,"matTreeNodeDefWhen","when"],data:[s.lbL.None,"matTreeNode","data"]},standalone:!0,features:[s._Bn([{provide:f.rO,useExisting:n}]),s.qOj]})}return n})(),O=(()=>{class n extends f.XJ{get level(){return this._level}set level(r){this._setLevelInput(r)}get indent(){return this._indent}set indent(r){this._setIndentInput(r)}static#e=this.\u0275fac=(()=>{let r;return function(h){return(r||(r=s.n5z(n)))(h||n)}})();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:[s.lbL.HasDecoratorInputTransform,"matTreeNodePadding","level",s.Cb_],indent:[s.lbL.None,"matTreeNodePaddingIndent","indent"]},standalone:!0,features:[s._Bn([{provide:f.XJ,useExisting:n}]),s.Xq5,s.qOj]})}return n})(),M=(()=>{class n{constructor(r,d){this.viewContainer=r,this._node=d}static#e=this.\u0275fac=function(d){return new(d||n)(s.Y36(s.s_b),s.Y36(f.HI,8))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodeOutlet",""]],standalone:!0,features:[s._Bn([{provide:f.cu,useExisting:n}])]})}return n})(),R=(()=>{class n extends f._0{constructor(){super(...arguments),this._nodeOutlet=void 0}static#e=this.\u0275fac=(()=>{let r;return function(h){return(r||(r=s.n5z(n)))(h||n)}})();static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tree"]],viewQuery:function(d,h){if(1&d&&s.Gf(M,7),2&d){let v;s.iGM(v=s.CRH())&&(h._nodeOutlet=v.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],standalone:!0,features:[s._Bn([{provide:f._0,useExisting:n}]),s.qOj,s.jDz],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(d,h){1&d&&s.GkF(0,0)},dependencies:[M],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color)}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color);font-family:var(--mat-tree-node-text-font);font-size:var(--mat-tree-node-text-size);font-weight:var(--mat-tree-node-text-weight)}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return n})(),b=(()=>{class n extends f.Ud{static#e=this.\u0275fac=(()=>{let r;return function(h){return(r||(r=s.n5z(n)))(h||n)}})();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[s.lbL.None,"matTreeNodeToggleRecursive","recursive"]},standalone:!0,features:[s._Bn([{provide:f.Ud,useExisting:n}]),s.qOj]})}return n})(),k=(()=>{class n{static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[f.nZ,m.BQ,m.BQ]})}return n})();class P{constructor(l,r,d,h){this.transformFunction=l,this.getLevel=r,this.isExpandable=d,this.getChildren=h}_flattenNode(l,r,d,h){const v=this.transformFunction(l,r);if(d.push(v),this.isExpandable(v)){const D=this.getChildren(l);D&&(Array.isArray(D)?this._flattenChildren(D,r,d,h):D.pipe((0,i.q)(1)).subscribe(T=>{this._flattenChildren(T,r,d,h)}))}return d}_flattenChildren(l,r,d,h){l.forEach((v,D)=>{let T=h.slice();T.push(D!=l.length-1),this._flattenNode(v,r+1,d,T)})}flattenNodes(l){let r=[];return l.forEach(d=>this._flattenNode(d,0,r,[])),r}expandFlattenedNodes(l,r){let d=[],h=[];return h[0]=!0,l.forEach(v=>{let D=!0;for(let T=0;T<=this.getLevel(v);T++)D=D&&h[T];D&&d.push(v),this.isExpandable(v)&&(h[this.getLevel(v)+1]=r.isExpanded(v))}),d}}class Y extends y.o2{get data(){return this._data.value}set data(l){this._data.next(l),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(l,r,d){super(),this._treeControl=l,this._treeFlattener=r,this._flattenedData=new p.X([]),this._expandedData=new p.X([]),this._data=new p.X([]),d&&(this.data=d)}connect(l){return(0,x.T)(l.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,E.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}}}]);